{"level":"info","message":"SignalWire service running in MOCK MODE","service":"11wire-api","timestamp":"2025-06-25 11:28:30"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-25 11:28:31"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-25 11:28:31"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-25 11:28:32"}
{"level":"info","message":"SignalWire service running in MOCK MODE","service":"11wire-api","timestamp":"2025-06-25 11:31:19"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-25 11:31:19"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-25 11:31:19"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-25 11:31:21"}
{"level":"info","message":"SignalWire service running in MOCK MODE","service":"11wire-api","timestamp":"2025-06-25 11:32:46"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-25 11:32:47"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-25 11:32:47"}
{"batchDelayMs":5000,"batchSize":2,"callDelayMs":2000,"level":"info","maxConcurrentCalls":2,"message":"[MOCK] Starting campaign test-campaign with settings:","service":"11wire-api","timestamp":"2025-06-25 11:32:48"}
{"level":"info","message":"[MOCK] Getting status for campaign test-campaign","service":"11wire-api","timestamp":"2025-06-25 11:32:50"}
{"level":"info","message":"SignalWire service running in MOCK MODE","service":"11wire-api","timestamp":"2025-06-25 11:39:10"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-25 11:39:11"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-25 11:39:11"}
{"batchDelayMs":5000,"batchSize":2,"callDelayMs":2000,"level":"info","maxConcurrentCalls":2,"message":"[MOCK] Starting campaign test-campaign with settings:","service":"11wire-api","timestamp":"2025-06-25 11:39:12"}
{"level":"info","message":"[MOCK] Getting status for campaign test-campaign","service":"11wire-api","timestamp":"2025-06-25 11:39:14"}
{"level":"error","message":"Failed to initialize SignalWire client: password is required","service":"11wire-api","timestamp":"2025-06-25 11:41:22"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-25 11:41:22"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-25 11:41:22"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-25 11:41:23"}
{"level":"error","message":"Failed to initialize SignalWire client: password is required","service":"11wire-api","timestamp":"2025-06-25 11:42:46"}
{"level":"error","message":"Error fetching recent calls: Cannot read properties of undefined (reading 'calls')","service":"11wire-api","timestamp":"2025-06-25 11:42:47"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-25 11:42:48"}
{"level":"error","message":"Error generating speech: Request failed with status code 400","service":"11wire-api","timestamp":"2025-06-25 11:42:48"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-25 11:42:48"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-25 11:42:48"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-25 11:42:49"}
{"level":"error","message":"Failed to initialize SignalWire client: password is required","service":"11wire-api","timestamp":"2025-06-25 11:45:53"}
{"level":"error","message":"Error fetching recent calls: Cannot read properties of undefined (reading 'calls')","service":"11wire-api","timestamp":"2025-06-25 11:45:53"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-25 11:45:54"}
{"level":"error","message":"Error generating speech: Request failed with status code 400","service":"11wire-api","timestamp":"2025-06-25 11:45:54"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-25 11:45:54"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-25 11:45:54"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-25 11:45:55"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `token`","service":"11wire-api","timestamp":"2025-06-25 12:42:30"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-06-25 12:42:30"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-25 12:42:31"}
{"level":"error","message":"Error generating speech: Request failed with status code 400","service":"11wire-api","timestamp":"2025-06-25 12:42:31"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-25 12:42:31"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-25 12:42:31"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-25 12:42:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-06-25 12:44:59"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-06-25 12:45:00"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-25 12:45:01"}
{"level":"error","message":"Error generating speech: Request failed with status code 400","service":"11wire-api","timestamp":"2025-06-25 12:45:01"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-25 12:45:01"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-25 12:45:01"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-25 12:45:02"}
{"level":"error","message":"Error starting campaign test-campaign: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-25 12:45:02"}
{"level":"info","message":"Initiating outbound call to +15556667777 from +12223334444","service":"11wire-api","timestamp":"2025-06-25 12:45:02"}
{"level":"error","message":"Error making outbound call: call_device_phone error","service":"11wire-api","timestamp":"2025-06-25 12:45:02"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-06-26 21:38:40"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-06-26 21:38:41"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-26 21:38:42"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-26 21:38:42"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-06-26 21:38:42"}
{"level":"error","message":"Error generating speech: Request failed with status code 401","service":"11wire-api","timestamp":"2025-06-26 21:38:42"}
{"level":"error","message":"ElevenLabs API Error - Status: 401","service":"11wire-api","timestamp":"2025-06-26 21:38:42"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-26 21:38:42"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-26 21:38:42"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-26 21:38:43"}
{"level":"error","message":"Error starting campaign test-campaign: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-26 21:38:43"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-26 21:38:43"}
{"level":"info","message":"Initiating outbound call to +15556667777 from +12223334444","service":"11wire-api","timestamp":"2025-06-26 21:38:43"}
{"level":"error","message":"Initial call attempt failed: call_device_phone error","service":"11wire-api","timestamp":"2025-06-26 21:38:44"}
{"level":"info","message":"Retrying with minimal call settings...","service":"11wire-api","timestamp":"2025-06-26 21:38:44"}
{"level":"error","message":"Error making outbound call: No valid devices","service":"11wire-api","timestamp":"2025-06-26 21:38:44"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-06-26 21:39:01"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-06-26 21:39:01"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-26 21:39:02"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-26 21:39:02"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-06-26 21:39:02"}
{"level":"error","message":"Error generating speech: Request failed with status code 401","service":"11wire-api","timestamp":"2025-06-26 21:39:02"}
{"level":"error","message":"ElevenLabs API Error - Status: 401","service":"11wire-api","timestamp":"2025-06-26 21:39:02"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-26 21:39:02"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-26 21:39:02"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-26 21:39:03"}
{"level":"error","message":"Error starting campaign test-campaign: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-26 21:39:03"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-26 21:39:03"}
{"level":"info","message":"Initiating outbound call to +15556667777 from +12223334444","service":"11wire-api","timestamp":"2025-06-26 21:39:03"}
{"level":"error","message":"Initial call attempt failed: call_device_phone error","service":"11wire-api","timestamp":"2025-06-26 21:39:04"}
{"level":"info","message":"Retrying with minimal call settings...","service":"11wire-api","timestamp":"2025-06-26 21:39:04"}
{"level":"error","message":"Error making outbound call: No valid devices","service":"11wire-api","timestamp":"2025-06-26 21:39:04"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-06-26 21:47:18"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-06-26 21:47:18"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-26 21:47:19"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-26 21:47:19"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-06-26 21:47:19"}
{"level":"error","message":"Error generating speech: Request failed with status code 401","service":"11wire-api","timestamp":"2025-06-26 21:47:19"}
{"level":"error","message":"ElevenLabs API Error - Status: 401","service":"11wire-api","timestamp":"2025-06-26 21:47:19"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-26 21:47:19"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-26 21:47:19"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-26 21:47:20"}
{"level":"error","message":"Error starting campaign test-campaign: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-26 21:47:20"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-26 21:47:20"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-06-26 21:47:20"}
{"level":"error","message":"Initial call attempt failed: call_device_phone error","service":"11wire-api","timestamp":"2025-06-26 21:47:21"}
{"level":"info","message":"Retrying with minimal call settings...","service":"11wire-api","timestamp":"2025-06-26 21:47:21"}
{"level":"error","message":"Error making outbound call: undefined","service":"11wire-api","timestamp":"2025-06-26 21:47:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-06-27 07:51:18"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-06-27 07:51:19"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-27 07:51:20"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-27 07:51:21"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-06-27 07:51:21"}
{"level":"error","message":"Error generating speech: Request failed with status code 401","service":"11wire-api","timestamp":"2025-06-27 07:51:21"}
{"level":"error","message":"ElevenLabs API Error - Status: 401","service":"11wire-api","timestamp":"2025-06-27 07:51:21"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-06-27 07:51:21"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-06-27 07:51:21"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-27 07:51:22"}
{"level":"error","message":"Error starting campaign test-campaign: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-06-27 07:51:22"}
{"level":"info","message":"Retrieved 23 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-06-27 07:51:23"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-06-27 07:51:23"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-06-27 07:51:23"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-06-27 07:51:23"}
{"level":"error","message":"Initial call attempt failed: call_device_phone error","service":"11wire-api","timestamp":"2025-06-27 07:51:23"}
{"0":"{","1":"\"","10":"0","11":"0","12":"\"","13":",","14":"\"","15":"m","16":"e","17":"s","18":"s","19":"a","2":"c","20":"g","21":"e","22":"\"","23":":","24":"\"","25":"c","26":"a","27":"l","28":"l","29":"_","3":"o","30":"d","31":"e","32":"v","33":"i","34":"c","35":"e","36":"_","37":"p","38":"h","39":"o","4":"d","40":"n","41":"e","42":" ","43":"e","44":"r","45":"r","46":"o","47":"r","48":"\"","49":"}","5":"e","6":"\"","7":":","8":"\"","9":"4","level":"error","message":"Error details:","service":"11wire-api","timestamp":"2025-06-27 07:51:23"}
{"level":"info","message":"Retrying with minimal call settings...","service":"11wire-api","timestamp":"2025-06-27 07:51:23"}
{"level":"error","message":"Error making outbound call: call_device_phone error","service":"11wire-api","timestamp":"2025-06-27 07:51:23"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-27 17:35:06"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-27 17:35:07"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 17:35:08"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 17:35:08"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-27 17:35:08"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-27 17:35:10"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-27 17:35:10"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-27 17:35:10"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-27 17:35:10"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-07-27 17:35:11"}
{"level":"error","message":"Error starting campaign test-campaign: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-07-27 17:35:11"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 17:35:11"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-07-27 17:35:11"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-07-27 17:35:11"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-27 17:35:11"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-27 17:39:17"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-27 17:39:17"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 17:39:19"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 17:39:20"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-27 17:39:20"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-27 17:39:20"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-27 17:39:20"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-27 17:39:20"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-27 17:39:20"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-07-27 17:39:21"}
{"level":"error","message":"Error starting campaign test-campaign: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-07-27 17:39:21"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 17:39:22"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-07-27 17:39:22"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-07-27 17:39:22"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-27 17:39:22"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-27 17:43:53"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-27 17:43:54"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 17:43:55"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 17:43:55"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-27 17:43:55"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-27 17:43:56"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-27 17:43:56"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-27 17:43:56"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-27 17:43:56"}
{"level":"error","message":"Error starting campaign scheduler: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-07-27 17:43:57"}
{"level":"error","message":"Error starting campaign test-campaign: role \"postgres\" does not exist","service":"11wire-api","timestamp":"2025-07-27 17:43:57"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 17:43:57"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-07-27 17:43:57"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-07-27 17:43:57"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-27 17:43:57"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-27 18:14:50"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-27 18:14:51"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:14:55"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:14:58"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-27 18:14:58"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-27 18:14:59"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-27 18:14:59"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-27 18:14:59"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-27 18:14:59"}
{"level":"error","message":"Error starting campaign scheduler: database \"11wire_test\" does not exist","service":"11wire-api","timestamp":"2025-07-27 18:15:00"}
{"level":"error","message":"Error starting campaign test-campaign: database \"11wire_test\" does not exist","service":"11wire-api","timestamp":"2025-07-27 18:15:00"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:15:01"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-07-27 18:15:01"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-07-27 18:15:01"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-27 18:15:01"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-27 18:18:14"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-27 18:18:14"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:18:15"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:18:16"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-27 18:18:16"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-27 18:18:16"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-27 18:18:16"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-27 18:18:16"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-27 18:18:16"}
{"level":"error","message":"Error starting campaign scheduler: relation \"campaigns\" does not exist","service":"11wire-api","timestamp":"2025-07-27 18:18:18"}
{"level":"error","message":"Error starting campaign test-campaign: relation \"campaigns\" does not exist","service":"11wire-api","timestamp":"2025-07-27 18:18:18"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:18:18"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-07-27 18:18:18"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-07-27 18:18:18"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-27 18:18:18"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-27 18:22:00"}
{"level":"info","message":"Syncing database models...","service":"11wire-api","timestamp":"2025-07-27 18:22:00"}
{"level":"info","message":"Database initialization completed successfully.","service":"11wire-api","timestamp":"2025-07-27 18:22:01"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-27 18:22:35"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-27 18:22:35"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:22:37"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:22:37"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-27 18:22:37"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-27 18:22:38"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-27 18:22:38"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-27 18:22:38"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-27 18:22:38"}
{"level":"error","message":"Error starting campaign scheduler: Campaign test-campaign not found","service":"11wire-api","timestamp":"2025-07-27 18:22:39"}
{"level":"error","message":"Error starting campaign test-campaign: Campaign test-campaign not found","service":"11wire-api","timestamp":"2025-07-27 18:22:39"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:22:40"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-07-27 18:22:40"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-07-27 18:22:40"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-27 18:22:40"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-27 18:24:25"}
{"level":"info","message":"Creating test campaign record...","service":"11wire-api","timestamp":"2025-07-27 18:24:25"}
{"level":"info","message":"Creating new test campaign...","service":"11wire-api","timestamp":"2025-07-27 18:24:25"}
{"level":"info","message":"Test campaign created successfully.","service":"11wire-api","timestamp":"2025-07-27 18:24:25"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-27 18:24:49"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-27 18:24:50"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:24:50"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:24:52"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-27 18:24:52"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-27 18:24:52"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-27 18:24:52"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-27 18:24:52"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-27 18:24:52"}
{"level":"error","message":"Error starting campaign scheduler: invalid input value for enum enum_campaigns_status: \"in_progress\"","service":"11wire-api","timestamp":"2025-07-27 18:24:53"}
{"level":"error","message":"Error starting campaign test-campaign: invalid input value for enum enum_campaigns_status: \"in_progress\"","service":"11wire-api","timestamp":"2025-07-27 18:24:53"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:24:56"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-07-27 18:24:56"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-07-27 18:24:56"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-27 18:24:56"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-27 18:36:54"}
{"level":"info","message":"Syncing database models...","service":"11wire-api","timestamp":"2025-07-27 18:36:54"}
{"level":"info","message":"Database initialization completed successfully.","service":"11wire-api","timestamp":"2025-07-27 18:36:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-27 18:37:34"}
{"level":"info","message":"Creating test campaign record...","service":"11wire-api","timestamp":"2025-07-27 18:37:34"}
{"level":"info","message":"Creating new test campaign...","service":"11wire-api","timestamp":"2025-07-27 18:37:34"}
{"level":"info","message":"Test campaign created successfully.","service":"11wire-api","timestamp":"2025-07-27 18:37:34"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-27 18:37:46"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-27 18:37:46"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:37:47"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:37:47"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-27 18:37:47"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-27 18:37:48"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-27 18:37:48"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-27 18:37:48"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-27 18:37:48"}
{"level":"info","message":"Started campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-27 18:37:49"}
{"level":"info","message":"Paused campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-27 18:37:51"}
{"level":"info","message":"Resumed campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-27 18:37:51"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:37:51"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-07-27 18:37:51"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-07-27 18:37:51"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-27 18:37:51"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-27 18:39:28"}
{"level":"info","message":"Syncing database models...","service":"11wire-api","timestamp":"2025-07-27 18:39:28"}
{"level":"info","message":"Database initialization completed successfully.","service":"11wire-api","timestamp":"2025-07-27 18:39:28"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-27 18:39:37"}
{"level":"info","message":"Creating test campaign record...","service":"11wire-api","timestamp":"2025-07-27 18:39:37"}
{"level":"info","message":"Creating new test campaign...","service":"11wire-api","timestamp":"2025-07-27 18:39:37"}
{"level":"info","message":"Test campaign created successfully.","service":"11wire-api","timestamp":"2025-07-27 18:39:37"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-27 18:39:59"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-27 18:39:59"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:40:00"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:40:00"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-27 18:40:00"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-27 18:40:01"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-27 18:40:01"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-27 18:40:01"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-27 18:40:01"}
{"level":"info","message":"Started campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-27 18:40:02"}
{"level":"info","message":"Paused campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-27 18:40:04"}
{"level":"info","message":"Resumed campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-27 18:40:04"}
{"level":"info","message":"Stopped campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-27 18:40:04"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-27 18:40:04"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-07-27 18:40:04"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-07-27 18:40:04"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-27 18:40:04"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 01:15:36"}
{"level":"error","message":"Unable to connect to the database: database \"11wire\" does not exist","service":"11wire-api","timestamp":"2025-07-28 01:15:36"}
{"level":"error","message":"Database initialization error: Database connection failed","service":"11wire-api","timestamp":"2025-07-28 01:15:36"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-28 01:15:36"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-28 01:15:36"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-28 01:15:36"}
{"level":"info","message":"Starting ElevenLabs webhook integration tests...","service":"11wire-api","timestamp":"2025-07-28 01:17:52"}
{"level":"info","message":"Sending test transcription webhook payload...","service":"11wire-api","timestamp":"2025-07-28 01:17:52"}
{"level":"info","message":"Received ElevenLabs webhook: post_call_transcription","service":"11wire-api","timestamp":"2025-07-28 01:17:52"}
{"level":"info","message":"Processing ElevenLabs transcription webhook: {\"campaign_id\":\"test-campaign\",\"duration_seconds\":120,\"call_success\":true}","service":"11wire-api","timestamp":"2025-07-28 01:17:52"}
{"level":"info","message":"Call test-call-1753683472809 contained 3 messages","service":"11wire-api","timestamp":"2025-07-28 01:17:52"}
{"level":"error","message":"Error processing ElevenLabs webhook: database \"11wire\" does not exist","service":"11wire-api","timestamp":"2025-07-28 01:17:53"}
{"level":"info","message":"::1 - - [28/Jul/2025:06:17:53 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 16 \"-\" \"axios/0.26.1\"","service":"11wire-api","timestamp":"2025-07-28 01:17:53"}
{"level":"info","message":"Webhook test response: 200 {\"success\":true}","service":"11wire-api","timestamp":"2025-07-28 01:17:53"}
{"level":"info","message":"Sending test audio webhook payload...","service":"11wire-api","timestamp":"2025-07-28 01:17:53"}
{"level":"info","message":"Received ElevenLabs webhook: post_call_audio","service":"11wire-api","timestamp":"2025-07-28 01:17:53"}
{"level":"info","message":"Processing ElevenLabs audio webhook for call: test-call-1753683473026","service":"11wire-api","timestamp":"2025-07-28 01:17:53"}
{"level":"info","message":"::1 - - [28/Jul/2025:06:17:53 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 16 \"-\" \"axios/0.26.1\"","service":"11wire-api","timestamp":"2025-07-28 01:17:53"}
{"level":"info","message":"Audio webhook test response: 200 {\"success\":true}","service":"11wire-api","timestamp":"2025-07-28 01:17:53"}
{"level":"info","message":"All webhook tests completed!","service":"11wire-api","timestamp":"2025-07-28 01:17:53"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 01:35:36"}
{"level":"info","message":"Created storage directory: /Users/kremlin/Downloads/11Wire/backend/storage","service":"11wire-api","timestamp":"2025-07-28 01:35:36"}
{"level":"info","message":"Created audio storage directory: /Users/kremlin/Downloads/11Wire/backend/storage/audio","service":"11wire-api","timestamp":"2025-07-28 01:35:36"}
{"level":"error","message":"Unable to connect to the database: database \"11wire\" does not exist","service":"11wire-api","timestamp":"2025-07-28 01:35:36"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 01:39:06"}
{"level":"error","message":"Unable to connect to the database: database \"11wire\" does not exist","service":"11wire-api","timestamp":"2025-07-28 01:39:06"}
{"level":"error","message":"Database initialization error: Database connection failed","service":"11wire-api","timestamp":"2025-07-28 01:39:06"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-28 01:39:06"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-28 01:39:06"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-28 01:39:06"}
{"level":"info","message":"Starting ElevenLabs webhook integration tests...","service":"11wire-api","timestamp":"2025-07-28 01:40:22"}
{"level":"info","message":"Sending test transcription webhook payload...","service":"11wire-api","timestamp":"2025-07-28 01:40:22"}
{"level":"info","message":"Received ElevenLabs webhook: post_call_transcription","service":"11wire-api","timestamp":"2025-07-28 01:40:22"}
{"level":"info","message":"Processing ElevenLabs transcription webhook: {\"campaign_id\":\"test-campaign\",\"duration_seconds\":120,\"call_success\":true}","service":"11wire-api","timestamp":"2025-07-28 01:40:22"}
{"level":"info","message":"Call test-call-1753684822017 contained 3 messages","service":"11wire-api","timestamp":"2025-07-28 01:40:22"}
{"level":"error","message":"Error processing ElevenLabs transcription webhook: database \"11wire\" does not exist","service":"11wire-api","timestamp":"2025-07-28 01:40:22"}
{"level":"error","message":"Error handling ElevenLabs webhook: database \"11wire\" does not exist","service":"11wire-api","timestamp":"2025-07-28 01:40:22"}
{"level":"info","message":"::1 - - [28/Jul/2025:06:40:22 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 500 33 \"-\" \"axios/0.26.1\"","service":"11wire-api","timestamp":"2025-07-28 01:40:22"}
{"level":"error","message":"Webhook test failed: Request failed with status code 500","service":"11wire-api","timestamp":"2025-07-28 01:40:22"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 01:44:54"}
{"level":"info","message":"Syncing database models...","service":"11wire-api","timestamp":"2025-07-28 01:44:54"}
{"level":"info","message":"Database initialization completed successfully.","service":"11wire-api","timestamp":"2025-07-28 01:44:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 01:45:16"}
{"level":"info","message":"Syncing database models...","service":"11wire-api","timestamp":"2025-07-28 01:45:16"}
{"level":"info","message":"Database initialization completed successfully.","service":"11wire-api","timestamp":"2025-07-28 01:45:16"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 01:45:43"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 01:45:43"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-28 01:45:43"}
{"level":"info","message":"Database models synchronized","service":"11wire-api","timestamp":"2025-07-28 01:45:43"}
{"level":"info","message":"Seeding initial campaign data...","service":"11wire-api","timestamp":"2025-07-28 01:45:43"}
{"level":"info","message":"Campaign seed completed","service":"11wire-api","timestamp":"2025-07-28 01:45:43"}
{"level":"info","message":"All seeders completed successfully","service":"11wire-api","timestamp":"2025-07-28 01:45:43"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-28 01:45:43"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-28 01:45:43"}
{"level":"info","message":"Starting ElevenLabs webhook integration tests...","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Sending test transcription webhook payload...","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Received ElevenLabs webhook: post_call_transcription","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Processing ElevenLabs transcription webhook: {\"campaign_id\":\"test-campaign\",\"duration_seconds\":120,\"call_success\":true}","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Call test-call-1753685178343 contained 3 messages","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Stored conversation record for call test-call-1753685178343","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Webhook test response: 200 {\"success\":true,\"id\":1,\"call_id\":\"test-call-1753685178343\",\"processed_at\":\"2025-07-28T06:46:18.473Z\"}","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"::1 - - [28/Jul/2025:06:46:18 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 101 \"-\" \"axios/0.26.1\"","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Sending test audio webhook payload...","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Received ElevenLabs webhook: post_call_audio","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Processing ElevenLabs audio webhook for call: test-call-1753685178487","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Stored file: /Users/kremlin/Downloads/11Wire/backend/storage/audio/test-call-1753685178487-1753685178496.mp3 (27 bytes)","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Stored audio file: /Users/kremlin/Downloads/11Wire/backend/storage/audio/test-call-1753685178487-1753685178496.mp3 (27 bytes)","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Stored recording record for call test-call-1753685178487","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"::1 - - [28/Jul/2025:06:46:18 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 101 \"-\" \"axios/0.26.1\"","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"Audio webhook test response: 200 {\"success\":true,\"id\":1,\"call_id\":\"test-call-1753685178487\",\"processed_at\":\"2025-07-28T06:46:18.552Z\"}","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"All webhook tests completed!","service":"11wire-api","timestamp":"2025-07-28 01:46:18"}
{"level":"info","message":"::1 - - [28/Jul/2025:06:46:31 +0000] \"GET /api/webhooks/elevenlabs/metrics HTTP/1.1\" 200 269 \"-\" \"curl/8.7.1\"","service":"11wire-api","timestamp":"2025-07-28 01:46:31"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 01:54:24"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 01:54:24"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-28 01:54:24"}
{"level":"info","message":"Database models synchronized","service":"11wire-api","timestamp":"2025-07-28 01:54:24"}
{"level":"info","message":"Campaigns already exist, skipping seed","service":"11wire-api","timestamp":"2025-07-28 01:54:24"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 01:56:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 01:56:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-28 01:56:42"}
{"level":"info","message":"Database models synchronized","service":"11wire-api","timestamp":"2025-07-28 01:56:42"}
{"level":"info","message":"Campaigns already exist, skipping seed","service":"11wire-api","timestamp":"2025-07-28 01:56:42"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 01:57:46"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 01:57:47"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-28 01:57:47"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-28 01:57:47"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 02:02:36"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 02:02:37"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-28 02:02:37"}
{"level":"info","message":"Database models synchronized","service":"11wire-api","timestamp":"2025-07-28 02:02:37"}
{"level":"info","message":"Campaigns already exist, skipping seed","service":"11wire-api","timestamp":"2025-07-28 02:02:37"}
{"level":"info","message":"All seeders completed successfully","service":"11wire-api","timestamp":"2025-07-28 02:02:37"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-28 02:02:37"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-28 02:02:37"}
{"level":"info","message":"Starting ElevenLabs webhook integration tests...","service":"11wire-api","timestamp":"2025-07-28 02:03:00"}
{"level":"info","message":"Sending test transcription webhook payload...","service":"11wire-api","timestamp":"2025-07-28 02:03:00"}
{"level":"warn","message":"Webhook request from unauthorized IP: ::1","service":"11wire-api","timestamp":"2025-07-28 02:03:00"}
{"level":"warn","message":"Invalid ElevenLabs webhook request rejected","service":"11wire-api","timestamp":"2025-07-28 02:03:00"}
{"level":"info","message":"::1 - - [28/Jul/2025:07:03:00 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 403 35 \"-\" \"axios/0.26.1\"","service":"11wire-api","timestamp":"2025-07-28 02:03:00"}
{"level":"error","message":"Webhook test failed: Request failed with status code 403","service":"11wire-api","timestamp":"2025-07-28 02:03:00"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 02:11:04"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 02:11:05"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-28 02:11:05"}
{"level":"info","message":"Database models synchronized","service":"11wire-api","timestamp":"2025-07-28 02:11:05"}
{"level":"info","message":"Campaigns already exist, skipping seed","service":"11wire-api","timestamp":"2025-07-28 02:11:05"}
{"level":"info","message":"All seeders completed successfully","service":"11wire-api","timestamp":"2025-07-28 02:11:05"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-28 02:11:05"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-28 02:11:05"}
{"level":"info","message":"Starting ElevenLabs webhook integration tests...","service":"11wire-api","timestamp":"2025-07-28 02:11:20"}
{"level":"info","message":"Sending test transcription webhook payload...","service":"11wire-api","timestamp":"2025-07-28 02:11:20"}
{"level":"warn","message":"Webhook request from unauthorized IP: ::1","service":"11wire-api","timestamp":"2025-07-28 02:11:20"}
{"level":"warn","message":"Invalid ElevenLabs webhook request rejected","service":"11wire-api","timestamp":"2025-07-28 02:11:20"}
{"level":"info","message":"::1 - - [28/Jul/2025:07:11:20 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 403 35 \"-\" \"axios/0.26.1\"","service":"11wire-api","timestamp":"2025-07-28 02:11:20"}
{"level":"error","message":"Webhook test failed: Request failed with status code 403","service":"11wire-api","timestamp":"2025-07-28 02:11:20"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 02:12:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 02:12:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-28 02:12:35"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-28 02:12:35"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-28 02:12:35"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-28 02:12:35"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-28 02:12:35"}
{"level":"info","message":"Starting ElevenLabs webhook integration tests...","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Sending test transcription webhook payload...","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Received ElevenLabs webhook: post_call_transcription","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Processing ElevenLabs transcription webhook: {\"campaign_id\":\"test-campaign\",\"duration_seconds\":120,\"call_success\":true}","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Call test-call-1753686790219 contained 3 messages","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Stored conversation record for call test-call-1753686790219","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"::1 - - [28/Jul/2025:07:13:10 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 101 \"-\" \"axios/0.26.1\"","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Webhook test response: 200 {\"success\":true,\"id\":2,\"call_id\":\"test-call-1753686790219\",\"processed_at\":\"2025-07-28T07:13:10.548Z\"}","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Sending test audio webhook payload...","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Received ElevenLabs webhook: post_call_audio","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Processing ElevenLabs audio webhook for call: test-call-1753686790559","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Stored file: /Users/kremlin/Downloads/11Wire/backend/storage/audio/test-call-1753686790559-1753686790563.mp3 (27 bytes)","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Stored audio file: /Users/kremlin/Downloads/11Wire/backend/storage/audio/test-call-1753686790559-1753686790563.mp3 (27 bytes)","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Stored recording record for call test-call-1753686790559","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"::1 - - [28/Jul/2025:07:13:10 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 101 \"-\" \"axios/0.26.1\"","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"Audio webhook test response: 200 {\"success\":true,\"id\":2,\"call_id\":\"test-call-1753686790559\",\"processed_at\":\"2025-07-28T07:13:10.635Z\"}","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"All webhook tests completed!","service":"11wire-api","timestamp":"2025-07-28 02:13:10"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 10:55:58"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 10:59:14"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:02:05"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:03:12"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:05:07"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:06:24"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Database connection error: Cannot read properties of undefined (reading 'destroy')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error creating contact: Cannot read properties of undefined (reading 'create')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error getting contacts: Cannot read properties of undefined (reading 'findAndCountAll')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error getting contact: Cannot read properties of undefined (reading 'findByPk')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error updating contact: Cannot read properties of undefined (reading 'findByPk')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error getting contact: Cannot read properties of undefined (reading 'findByPk')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error getting recent calls: Cannot read properties of undefined (reading 'findAndCountAll')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error getting call details: Cannot read properties of undefined (reading 'findOne')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error getting call details: Cannot read properties of undefined (reading 'findOne')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error listing configured agents: Cannot read properties of undefined (reading 'findAll')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error getting agent config: Cannot read properties of undefined (reading 'findOne')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error saving agent config: Cannot read properties of undefined (reading 'findOne')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"error","message":"Error saving agent config: Cannot read properties of undefined (reading 'findOne')","service":"11wire-api","timestamp":"2025-07-28 11:06:25"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:12:00"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:12:00"}
{"level":"error","message":"Database connection error: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error creating contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error getting contacts: Campaign is not associated to Contact!","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error getting contact: Campaign is not associated to Contact!","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error updating contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error getting contact: Campaign is not associated to Contact!","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error getting recent calls: Contact is not associated to CallLog!","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error getting call details: Contact is not associated to CallLog!","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error getting call details: Contact is not associated to CallLog!","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error listing configured agents: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error getting agent config: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error saving agent config: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"error","message":"Error saving agent config: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:12:01"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:16:55"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:16:55"}
{"level":"error","message":"Database connection error: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:16:55"}
{"level":"error","message":"Error creating contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:16:55"}
{"level":"error","message":"Error getting contacts: Campaign is not associated to Contact!","service":"11wire-api","timestamp":"2025-07-28 11:16:55"}
{"level":"error","message":"Error getting contact: Campaign is not associated to Contact!","service":"11wire-api","timestamp":"2025-07-28 11:16:55"}
{"level":"error","message":"Error updating contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:16:55"}
{"level":"error","message":"Error getting contact: Campaign is not associated to Contact!","service":"11wire-api","timestamp":"2025-07-28 11:16:55"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:19:48"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:19:48"}
{"level":"error","message":"Error initializing database: relation \"Campaigns\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:19:49"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:22:16"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:22:16"}
{"level":"info","message":"Creating tables without foreign key constraints...","service":"11wire-api","timestamp":"2025-07-28 11:22:16"}
{"level":"info","message":"Syncing all models with the database...","service":"11wire-api","timestamp":"2025-07-28 11:22:16"}
{"level":"error","message":"Error initializing database: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-28 11:22:17"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:24:38"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:24:38"}
{"level":"info","message":"Creating all database tables...","service":"11wire-api","timestamp":"2025-07-28 11:24:38"}
{"level":"error","message":"Error initializing database: relation \"Campaigns\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:24:38"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:29:30"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:29:31"}
{"level":"info","message":"Creating all database tables...","service":"11wire-api","timestamp":"2025-07-28 11:29:31"}
{"level":"error","message":"Error initializing database: there is no unique constraint matching given keys for referenced table \"conversations\"","service":"11wire-api","timestamp":"2025-07-28 11:29:31"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:31:10"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:31:10"}
{"level":"info","message":"Creating all database tables...","service":"11wire-api","timestamp":"2025-07-28 11:31:10"}
{"level":"error","message":"Error initializing database: relation \"CallRecordings\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:31:10"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:37:06"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:40:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:40:19"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:40:19"}
{"level":"error","message":"Database connection error: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:40:20"}
{"level":"error","message":"Error creating contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:40:20"}
{"level":"error","message":"Error getting contacts: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:40:20"}
{"level":"error","message":"Error getting contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:40:20"}
{"level":"error","message":"Error updating contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:40:20"}
{"level":"error","message":"Error getting contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:40:20"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:45:09"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:45:12"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:45:12"}
{"level":"error","message":"Database connection error: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:45:12"}
{"level":"error","message":"Error creating contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:45:12"}
{"level":"error","message":"Error getting contacts: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:45:12"}
{"level":"error","message":"Error getting contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:45:12"}
{"level":"error","message":"Error updating contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:45:12"}
{"level":"error","message":"Error getting contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:45:12"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:47:36"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:47:40"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:47:40"}
{"level":"error","message":"Database connection error: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:47:40"}
{"level":"error","message":"Error creating contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:47:40"}
{"level":"error","message":"Error getting contacts: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:47:40"}
{"level":"error","message":"Error getting contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:47:40"}
{"level":"error","message":"Error updating contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:47:40"}
{"level":"error","message":"Error getting contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:47:40"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:49:01"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:49:02"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:49:02"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:49:02"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:05"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:49:05"}
{"level":"error","message":"Database connection error: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:49:05"}
{"level":"error","message":"Error getting contacts: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:49:05"}
{"level":"error","message":"Error getting contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:49:05"}
{"level":"error","message":"Error getting contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:49:05"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:49:56"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:49:59"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:50:00"}
{"level":"error","message":"Database connection error: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:50:00"}
{"level":"error","message":"Error getting contacts: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:50:00"}
{"level":"error","message":"Full error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:57:39)","service":"11wire-api","timestamp":"2025-07-28 11:50:00"}
{"level":"error","message":"Error getting contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:50:00"}
{"level":"error","message":"Error getting contact: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:50:00"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Listing all tables in the database...","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Tables found:","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Checking for case sensitivity issues...","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Table name: \"undefined\" (type: undefined)","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Checking if Contacts table exists...","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Contacts table exists, count: [[{\"count\":\"1\"}],{\"command\":\"SELECT\",\"rowCount\":1,\"oid\":null,\"rows\":[{\"count\":\"1\"}],\"fields\":[{\"name\":\"count\",\"tableID\":0,\"columnID\":0,\"dataTypeID\":20,\"dataTypeSize\":8,\"dataTypeModifier\":-1,\"format\":\"text\"}],\"_parsers\":[null],\"_types\":{\"_types\":{},\"text\":{},\"binary\":{}},\"RowCtor\":null,\"rowAsArray\":false,\"_prebuiltEmptyResultObject\":{\"count\":null}}]","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Attempting a direct Sequelize query with Contact model...","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"error","message":"Error using Contact model: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"error","message":"Full error: Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:434:18)\n    at async Contact.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1277:19)\n    at async Contact.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1306:20)\n    at async diagnoseDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/diagnose-db.js:49:28)","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Checking all model tableName properties...","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Model: Campaign, tableName: campaigns","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Model: Conversation, tableName: conversations","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Model: CallRecording, tableName: call_recordings","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Model: Contact, tableName: contacts","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Model: CallLog, tableName: call_logs","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Model: AgentConfig, tableName: agent_configs","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Inspecting columns in the Contacts table...","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Contacts table columns:","service":"11wire-api","timestamp":"2025-07-28 11:50:37"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:54:17"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:54:21"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:54:21"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:54:21"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:54:21"}
{"level":"error","message":"Full error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:57:39)","service":"11wire-api","timestamp":"2025-07-28 11:54:21"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:54:21"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:54:21"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Database connection successful","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Listing all tables in the database...","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Tables in database (1):","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Models and their table names:","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Model: Campaign, tableName: 'Campaigns'","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Model: Conversation, tableName: 'conversations'","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Model: CallRecording, tableName: 'call_recordings'","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Model: Contact, tableName: 'Contacts'","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Model: CallLog, tableName: 'CallLogs'","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Model: AgentConfig, tableName: 'AgentConfigs'","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Testing each model with a simple count query:","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Testing Contact model...","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Contact count: 1","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Testing Campaign model...","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Campaign count: 1","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Testing CallLog model...","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"CallLog count: 0","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Testing AgentConfig model...","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"AgentConfig count: 1","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Testing direct SQL queries with case-sensitive table names:","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Testing \"Contacts\" table...","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Contacts table count: \"1\"","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Testing \"Campaigns\" table...","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Campaigns table count: \"1\"","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Testing Contact-Campaign association with explicit include:","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"error","message":"Association error: column Contact.lastCalled does not exist","service":"11wire-api","timestamp":"2025-07-28 11:56:22"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:58:22"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:58:23"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 11:58:23"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 11:58:23"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 11:58:26"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 11:58:26"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:58:26"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:58:26"}
{"level":"error","message":"Full error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:57:39)","service":"11wire-api","timestamp":"2025-07-28 11:58:26"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:58:26"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:58:26"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Database connection successful","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Contact model defined: true","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Contact tableName: Contacts","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Contact associations:","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":" - campaign: BelongsTo to Campaign","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Testing direct Contact query...","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"error","message":"Direct query failed: column \"attemptsCount\" does not exist","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async Contact.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1140:21)\n    at async debugContactController (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-contact-controller.js:52:24)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Testing Contact query with Campaign include...","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"error","message":"Include query failed: column Contact.attemptsCount does not exist","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async Contact.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1140:21)\n    at async debugContactController (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-contact-controller.js:66:24)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Testing each field in Contact model...","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Fields defined in Contact model: id, campaignId, firstName, lastName, phone, email, status, attemptsCount, callDuration, notes, customFields, sourceType, createdAt, updatedAt","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Checking actual columns in database...","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Columns in database:","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- id (integer)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- firstName (character varying)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- lastName (character varying)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- phone (character varying)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- email (character varying)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- status (character varying)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- notes (text)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- customFields (jsonb)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- sourceType (character varying)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- campaignId (integer)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- createdAt (timestamp with time zone)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"- updatedAt (timestamp with time zone)","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Checking for columns in model but not in database...","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"error","message":"Missing columns in database: attemptsCount, callDuration","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Testing getContacts controller function...","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"error","message":"Error getting contacts: column Contact.attemptsCount does not exist","service":"11wire-api","timestamp":"2025-07-28 11:59:24"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:00:46"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 12:00:49"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:00:50"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:00:50"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:00:50"}
{"level":"error","message":"Full error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:57:39)","service":"11wire-api","timestamp":"2025-07-28 12:00:50"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:00:50"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:00:50"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Database connection successful","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Contact model defined: true","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Contact tableName: Contacts","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Contact associations:","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":" - campaign: BelongsTo to Campaign","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Testing direct Contact query...","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"error","message":"Direct query failed: column \"callDuration\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async Contact.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1140:21)\n    at async debugContactController (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-contact-controller.js:52:24)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Testing Contact query with Campaign include...","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"error","message":"Include query failed: column Contact.callDuration does not exist","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async Contact.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1140:21)\n    at async debugContactController (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-contact-controller.js:66:24)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Testing each field in Contact model...","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Fields defined in Contact model: id, campaignId, firstName, lastName, phone, email, status, callDuration, notes, customFields, sourceType, createdAt, updatedAt","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Checking actual columns in database...","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Columns in database:","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- id (integer)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- firstName (character varying)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- lastName (character varying)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- phone (character varying)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- email (character varying)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- status (character varying)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- notes (text)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- customFields (jsonb)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- sourceType (character varying)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- campaignId (integer)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- createdAt (timestamp with time zone)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"- updatedAt (timestamp with time zone)","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Checking for columns in model but not in database...","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"error","message":"Missing columns in database: callDuration","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Testing getContacts controller function...","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"error","message":"Error getting contacts: column Contact.callDuration does not exist","service":"11wire-api","timestamp":"2025-07-28 12:01:03"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:02:34"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 12:02:37"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:02:38"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:02:38"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:02:38"}
{"level":"error","message":"Full error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:57:39)","service":"11wire-api","timestamp":"2025-07-28 12:02:38"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:02:38"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:02:38"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Database connection successful","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Models loaded:","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Contact model defined: true","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Contact tableName: Contacts","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Contact model attributes:","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - id","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - campaignId","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - firstName","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - lastName","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - phone","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - email","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - status","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - notes","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - customFields","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - sourceType","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - createdAt","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - updatedAt","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Database table \"Contacts\" columns:","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - id: integer","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - firstName: character varying","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - lastName: character varying","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - phone: character varying","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - email: character varying","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - status: character varying","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - notes: text","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - customFields: jsonb","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - sourceType: character varying","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - campaignId: integer","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - createdAt: timestamp with time zone","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - updatedAt: timestamp with time zone","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Contact controller methods:","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - getContacts","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - getContactById","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - createContact","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - updateContact","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - deleteContact","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - uploadContacts","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - getContactStats","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":" - importContactsFromArray","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Testing simplified query with only known fields...","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Query successful! Found 1 contacts","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"0":"{","1":"\n","10":"1","100":"t","101":"@","102":"e","103":"x","104":"a","105":"m","106":"p","107":"l","108":"e","109":".","11":",","110":"c","111":"o","112":"m","113":"\"","114":",","115":"\n","116":" ","117":" ","118":"\"","119":"s","12":"\n","120":"t","121":"a","122":"t","123":"u","124":"s","125":"\"","126":":","127":" ","128":"\"","129":"p","13":" ","130":"e","131":"n","132":"d","133":"i","134":"n","135":"g","136":"\"","137":"\n","138":"}","14":" ","15":"\"","16":"f","17":"i","18":"r","19":"s","2":" ","20":"t","21":"N","22":"a","23":"m","24":"e","25":"\"","26":":","27":" ","28":"\"","29":"T","3":" ","30":"e","31":"s","32":"t","33":"\"","34":",","35":"\n","36":" ","37":" ","38":"\"","39":"l","4":"\"","40":"a","41":"s","42":"t","43":"N","44":"a","45":"m","46":"e","47":"\"","48":":","49":" ","5":"i","50":"\"","51":"U","52":"s","53":"e","54":"r","55":"\"","56":",","57":"\n","58":" ","59":" ","6":"d","60":"\"","61":"p","62":"h","63":"o","64":"n","65":"e","66":"\"","67":":","68":" ","69":"\"","7":"\"","70":"+","71":"1","72":"1","73":"2","74":"3","75":"4","76":"5","77":"6","78":"7","79":"8","8":":","80":"9","81":"0","82":"\"","83":",","84":"\n","85":" ","86":" ","87":"\"","88":"e","89":"m","9":" ","90":"a","91":"i","92":"l","93":"\"","94":":","95":" ","96":"\"","97":"t","98":"e","99":"s","level":"info","message":"First contact data:","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Examining controller source structure...","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Checking getContacts method...","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Attributes requested in controller: 'id', 'name', 'status'","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Include statement in controller: \n        {\n          model: db.Campaign,\n          as: 'campaign',\n          attributes: ['id', 'name', 'status'","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Creating a modified contact controller for testing...","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Testing modified controller...","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Testing with controller patch...","service":"11wire-api","timestamp":"2025-07-28 12:03:56"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:05:33"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:05:34"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 12:05:37"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:05:38"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:05:38"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:05:38"}
{"level":"error","message":"Full error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:57:39)","service":"11wire-api","timestamp":"2025-07-28 12:05:38"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:05:38"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:05:38"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:07:35"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 12:07:38"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:07:39"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:07:39"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:07:39"}
{"level":"error","message":"Full error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:58:39)","service":"11wire-api","timestamp":"2025-07-28 12:07:39"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:07:39"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:07:39"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:10:44"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:10:44"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 12:10:44"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 12:10:44"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:10:44"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Creating test campaign for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Created test campaign with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Creating test agent config for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Creating test contact for integration tests...","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:10:45"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 12:10:48"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:10:48"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:10:48"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:10:49"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:60:39)","service":"11wire-api","timestamp":"2025-07-28 12:10:49"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:10:49"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 12:10:49"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:10:49"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 12:10:49"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:12:27"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"11wire-api","timestamp":"2025-07-28 12:12:27"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:12:27"}
{"attributes":["id","campaignId","firstName","lastName","phone","email","status","notes","customFields","sourceType","createdAt","updatedAt"],"level":"info","message":"Contact model loaded:","modelName":"Contact","service":"11wire-api","tableName":"Contacts","timestamp":"2025-07-28 12:12:27"}
{"level":"info","message":"Querying database table information...","service":"11wire-api","timestamp":"2025-07-28 12:12:27"}
{"level":"debug","message":"Executing (default): SELECT table_name, column_name, data_type\n      FROM information_schema.columns\n      WHERE table_name = 'Contacts'","service":"11wire-api","timestamp":"2025-07-28 12:12:27"}
{"level":"info","message":"Actual database columns:","service":"11wire-api","timestamp":"2025-07-28 12:12:27"}
{"level":"info","message":"Testing simple find operation...","service":"11wire-api","timestamp":"2025-07-28 12:12:27"}
{"level":"debug","message":"Executing (default): SELECT count(*) AS \"count\" FROM \"Contacts\" AS \"Contact\";","service":"11wire-api","timestamp":"2025-07-28 12:12:27"}
{"level":"error","message":"Diagnostic failed: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:12:27"}
{"level":"error","message":"Error stack: Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:434:18)\n    at async Contact.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1277:19)\n    at async Contact.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1306:20)\n    at async diagnoseContactModel (/Users/kremlin/Downloads/11Wire/backend/src/scripts/diagnose-contact-model.js:39:26)","service":"11wire-api","timestamp":"2025-07-28 12:12:27"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:14:52"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:14:52"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:14:52"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 12:14:52"}
{"level":"info","message":"Successfully dropped all existing tables.","service":"11wire-api","timestamp":"2025-07-28 12:14:52"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 12:14:52"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:14:53"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:14:53"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:14:53"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:14:53"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:14:53"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:14:53"}
{"level":"info","message":"All tables created successfully.","service":"11wire-api","timestamp":"2025-07-28 12:14:53"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:14:53"}
{"level":"error","message":"Missing tables: Campaigns, Contacts, AgentConfigs, CallRecordings, Conversations, CallLogs","service":"11wire-api","timestamp":"2025-07-28 12:14:53"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Successfully dropped all existing tables.","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"All tables created successfully.","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Tables found in database:","service":"11wire-api","timestamp":"2025-07-28 12:16:08"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Successfully dropped all existing tables.","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Creating all database tables manually in the correct order...","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Table created successfully","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"All tables created successfully.","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Tables found in database: []","service":"11wire-api","timestamp":"2025-07-28 12:17:01"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"info","message":"Dropping all existing tables...","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"info","message":"Successfully dropped all existing tables.","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"error","message":"Error synchronizing models: relation \"campaigns_status_idx\" already exists","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.addIndex (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Campaign.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async syncDatabaseModels (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:15:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:63:7)","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"info","message":"Tables found in database: []","service":"11wire-api","timestamp":"2025-07-28 12:18:45"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"info","message":"Dropping all existing tables and indexes...","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"error","message":"Error dropping tables/indexes: cannot drop index campaigns_pkey because constraint campaigns_pkey on table campaigns requires it","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:53:7)","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"error","message":"Error synchronizing models: relation \"campaigns_status_idx\" already exists","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.addIndex (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async Campaign.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:999:7)\n    at async Sequelize.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async syncDatabaseModels (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:15:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:77:7)","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"info","message":"Tables found in database: []","service":"11wire-api","timestamp":"2025-07-28 12:20:06"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:25:33"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:25:33"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:25:33"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-28 12:25:33"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-28 12:25:33"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 12:25:33"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 12:25:33"}
{"level":"error","message":"Error synchronizing models: relation \"CallRecordings\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:25:34"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async Conversation.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:377:9)\n    at async syncDatabaseModels (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:15:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:68:7)","service":"11wire-api","timestamp":"2025-07-28 12:25:34"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 12:25:34"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:25:34"}
{"level":"info","message":"Tables found in database: []","service":"11wire-api","timestamp":"2025-07-28 12:25:34"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:26:53"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:26:53"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:26:53"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-28 12:26:53"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-28 12:26:53"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 12:26:53"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 12:26:53"}
{"level":"info","message":"Syncing models with no foreign keys first...","service":"11wire-api","timestamp":"2025-07-28 12:26:53"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-28 12:26:53"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-28 12:26:53"}
{"level":"error","message":"Error synchronizing models: relation \"conversations\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:26:54"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async CallRecording.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async syncDatabaseModels (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:23:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:89:7)","service":"11wire-api","timestamp":"2025-07-28 12:26:54"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 12:26:54"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:26:54"}
{"level":"info","message":"Tables found in database: []","service":"11wire-api","timestamp":"2025-07-28 12:26:54"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:30:42"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:30:42"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"Syncing models with no foreign keys first...","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"Syncing models with foreign keys...","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"error","message":"Error synchronizing models: foreign key constraint \"Contacts_campaignId_fkey\" cannot be implemented","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async Contact.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async syncDatabaseModels (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:28:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:89:7)","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"Tables found in database: []","service":"11wire-api","timestamp":"2025-07-28 12:30:43"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:35:23"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:35:23"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Syncing models with no foreign keys first...","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Syncing models with foreign keys...","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Conversation model synced","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"error","message":"Error synchronizing models: foreign key constraint \"CallLogs_campaignId_fkey\" cannot be implemented","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async CallLog.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async syncDatabaseModels (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:34:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:89:7)","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Tables found in database: []","service":"11wire-api","timestamp":"2025-07-28 12:35:24"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:38:50"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:38:50"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Syncing models with no foreign keys first...","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Syncing models with foreign keys...","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Conversation model synced","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"CallLog model synced","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"All models synchronized successfully with database!","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Models synchronized:","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"- Campaign (table: Campaigns)","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"- Conversation (table: Conversations)","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"- CallRecording (table: CallRecordings)","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"- Contact (table: Contacts)","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"- CallLog (table: CallLogs)","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"- AgentConfig (table: AgentConfigs)","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Tables found in database: []","service":"11wire-api","timestamp":"2025-07-28 12:38:51"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:40:34"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:40:34"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:40:34"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-28 12:40:34"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-28 12:40:34"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 12:40:34"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 12:40:34"}
{"level":"info","message":"Syncing models with no foreign keys first...","service":"11wire-api","timestamp":"2025-07-28 12:40:34"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"Syncing models with foreign keys...","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"Conversation model synced","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"CallLog model synced","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"All models synchronized successfully with database!","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"Models synchronized:","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"- Campaign (table: Campaigns)","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"- Conversation (table: Conversations)","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"- CallRecording (table: CallRecordings)","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"- Contact (table: Contacts)","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"- CallLog (table: CallLogs)","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"- AgentConfig (table: AgentConfigs)","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"Tables found in database: [\"AgentConfigs\",\"Campaigns\",\"CallRecordings\",\"Conversations\",\"Contacts\",\"CallLogs\"]","service":"11wire-api","timestamp":"2025-07-28 12:40:35"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Syncing models with no foreign keys first...","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Syncing models with foreign keys...","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"Conversation model synced","service":"11wire-api","timestamp":"2025-07-28 12:41:40"}
{"level":"info","message":"CallLog model synced","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"All models synchronized successfully with database!","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"Models synchronized:","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"- Campaign (table: Campaigns)","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"- Conversation (table: Conversations)","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"- CallRecording (table: CallRecordings)","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"- Contact (table: Contacts)","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"- CallLog (table: CallLogs)","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"- AgentConfig (table: AgentConfigs)","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"Tables found in database: [\"AgentConfigs\",\"Campaigns\",\"CallRecordings\",\"Contacts\",\"Conversations\",\"CallLogs\"]","service":"11wire-api","timestamp":"2025-07-28 12:41:41"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Syncing models with no foreign keys first...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Syncing models with foreign keys...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Conversation model synced","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"CallLog model synced","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"All models synchronized successfully with database!","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Models synchronized:","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"- Campaign (table: Campaigns)","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"- Conversation (table: Conversations)","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"- CallRecording (table: CallRecordings)","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"- Contact (table: Contacts)","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"- CallLog (table: CallLogs)","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"- AgentConfig (table: AgentConfigs)","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Tables found in database: [\"Conversations\",\"CallLogs\",\"AgentConfigs\",\"Campaigns\",\"CallRecordings\",\"Contacts\"]","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"All expected tables verified!","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Database schema successfully initialized!","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"The following tables are available:","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"- undefined","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Creating test data for integration tests using Sequelize models...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Creating test campaign...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Created test campaign with ID: camp-1753724541822","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Creating test agent config...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Created test agent config with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Creating test contact...","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 12:42:21"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 12:44:42"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 12:44:45"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:44:46"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:46"}
{"level":"error","message":"Error creating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:46"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:46"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:60:39)","service":"11wire-api","timestamp":"2025-07-28 12:44:46"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error updating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error getting recent calls: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error listing configured agents: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error getting agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:44:47"}
{"level":"info","message":"Starting AgentConfig diagnostics...","service":"11wire-api","timestamp":"2025-07-28 12:50:38"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"Checking if AgentConfigs table exists...","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"Tables found in database: [\"Conversations\",\"CallLogs\",\"AgentConfigs\",\"Campaigns\",\"CallRecordings\",\"Contacts\"]","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"AgentConfigs table exists.","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"Checking table structure...","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"AgentConfigs table structure:","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"- id (integer, NOT NULL)","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"- agentId (character varying, NOT NULL)","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"- name (character varying, NOT NULL)","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"- description (text, NULL)","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"- isActive (boolean, NULL)","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"- settings (jsonb, NULL)","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"- promptSettings (jsonb, NULL)","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"- webhookUrl (character varying, NULL)","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"- createdAt (timestamp with time zone, NOT NULL)","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"- updatedAt (timestamp with time zone, NOT NULL)","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"Checking if any records exist in AgentConfigs...","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"AgentConfigs record count: 1","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"Attempting to fetch records using Sequelize model...","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"Successfully retrieved 1 records:","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"{\"id\":1,\"agentId\":\"test-agent-id\",\"name\":\"Test Agent\",\"description\":\"Test agent for integration tests\",\"isActive\":true,\"settings\":{\"voiceId\":\"test-voice\"},\"promptSettings\":{\"greeting\":\"Hello, this is a test\"},\"webhookUrl\":null,\"createdAt\":\"2025-07-28T17:42:21.884Z\",\"updatedAt\":\"2025-07-28T17:42:21.884Z\"}","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"Attempting direct SQL query...","service":"11wire-api","timestamp":"2025-07-28 12:50:39"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 12:53:07"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 12:53:10"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error creating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:60:39)","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error updating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error getting recent calls: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error listing configured agents: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error getting agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 12:53:11"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 12:54:43"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 12:54:44"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-28 12:54:44"}
{"level":"info","message":"Database models synchronized","service":"11wire-api","timestamp":"2025-07-28 12:54:44"}
{"level":"info","message":"Campaigns already exist, skipping seed","service":"11wire-api","timestamp":"2025-07-28 12:54:44"}
{"level":"info","message":"Starting direct agent controller tests...","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"info","message":"Test 1: listConfiguredAgents","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"error","message":"Error testing listConfiguredAgents: jest is not defined","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"error","message":"ReferenceError: jest is not defined\n    at mockResponse (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:12:16)\n    at testAgentController (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:31:19)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:112:1)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Function._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:151:5)","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"info","message":"Test 2: getAgentConfig","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"error","message":"Error testing getAgentConfig: jest is not defined","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"error","message":"ReferenceError: jest is not defined\n    at mockResponse (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:12:16)\n    at testAgentController (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:46:19)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:112:1)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Function._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:151:5)","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"info","message":"Test 3: saveAgentConfig (create)","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"error","message":"Error testing saveAgentConfig (create): jest is not defined","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"error","message":"ReferenceError: jest is not defined\n    at mockResponse (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:12:16)\n    at testAgentController (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:71:19)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:112:1)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Function._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:151:5)","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"info","message":"Test 4: saveAgentConfig (update)","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"error","message":"Error testing saveAgentConfig (update): jest is not defined","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"error","message":"ReferenceError: jest is not defined\n    at mockResponse (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:12:16)\n    at testAgentController (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:93:19)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/scripts/test-agent-controller.js:112:1)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Function._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:151:5)","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"info","message":"Direct agent controller tests complete.","service":"11wire-api","timestamp":"2025-07-28 12:57:07"}
{"level":"info","message":"Starting direct agent controller tests...","service":"11wire-api","timestamp":"2025-07-28 12:58:29"}
{"level":"info","message":"Test 1: listConfiguredAgents","service":"11wire-api","timestamp":"2025-07-28 12:58:29"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 12:58:29"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 12:58:29"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 12:58:29"}
{"level":"info","message":"Status code: 200","service":"11wire-api","timestamp":"2025-07-28 12:58:29"}
{"level":"info","message":"Response: {\"success\":true,\"count\":1,\"agents\":[{\"id\":1,\"agentId\":\"test-agent-id\",\"name\":\"Test Agent\",\"description\":\"Test agent for integration tests\",\"isActive\":true,\"settings\":{\"voiceId\":\"test-voice\"},\"promptSettings\":{\"greeting\":\"Hello, this is a test\"},\"webhookUrl\":null,\"createdAt\":\"2025-07-28T17:42:21.884Z\",\"updatedAt\":\"2025-07-28T17:42:21.884Z\"}]}","service":"11wire-api","timestamp":"2025-07-28 12:58:29"}
{"level":"info","message":"Test 2: Creating test agent config in database","service":"11wire-api","timestamp":"2025-07-28 12:58:29"}
{"level":"info","message":"Created test agent: {\"id\":2,\"agentId\":\"test-agent-1\",\"name\":\"Test Agent\",\"description\":\"Created for testing\",\"isActive\":true,\"settings\":{\"voiceId\":\"test-voice-id\"},\"promptSettings\":{\"greeting\":\"Hello, I am a test agent\"},\"updatedAt\":\"2025-07-28T17:58:29.983Z\",\"createdAt\":\"2025-07-28T17:58:29.983Z\",\"webhookUrl\":null}","service":"11wire-api","timestamp":"2025-07-28 12:58:30"}
{"level":"info","message":"Test 3: getAgentConfig","service":"11wire-api","timestamp":"2025-07-28 12:58:30"}
{"level":"info","message":"Status code: 200","service":"11wire-api","timestamp":"2025-07-28 12:58:30"}
{"level":"info","message":"Response: {\"success\":true,\"config\":{\"id\":2,\"agentId\":\"test-agent-1\",\"name\":\"Test Agent\",\"description\":\"Created for testing\",\"isActive\":true,\"settings\":{\"voiceId\":\"test-voice-id\"},\"promptSettings\":{\"greeting\":\"Hello, I am a test agent\"},\"webhookUrl\":null,\"createdAt\":\"2025-07-28T17:58:29.983Z\",\"updatedAt\":\"2025-07-28T17:58:29.983Z\"}}","service":"11wire-api","timestamp":"2025-07-28 12:58:30"}
{"level":"info","message":"Test 4: saveAgentConfig (update)","service":"11wire-api","timestamp":"2025-07-28 12:58:30"}
{"level":"info","message":"Status code: 200","service":"11wire-api","timestamp":"2025-07-28 12:58:30"}
{"level":"info","message":"Response: {\"success\":true,\"message\":\"Agent configuration updated\",\"config\":{\"id\":2,\"agentId\":\"test-agent-1\",\"name\":\"Updated Test Agent\",\"description\":\"Updated for testing\",\"isActive\":true,\"settings\":{\"voiceId\":\"updated-voice-id\"},\"promptSettings\":{\"greeting\":\"Hello, I am a test agent\"},\"webhookUrl\":null,\"createdAt\":\"2025-07-28T17:58:29.983Z\",\"updatedAt\":\"2025-07-28T17:58:30.067Z\"}}","service":"11wire-api","timestamp":"2025-07-28 12:58:30"}
{"level":"info","message":"Direct agent controller tests complete.","service":"11wire-api","timestamp":"2025-07-28 12:58:30"}
{"level":"info","message":"Test data cleaned up","service":"11wire-api","timestamp":"2025-07-28 12:58:30"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 13:01:51"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 13:01:53"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:53"}
{"level":"error","message":"Error creating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:60:39)","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error updating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error getting recent calls: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error listing configured agents: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Stack trace: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Object.<anonymous>.exports.listConfiguredAgents (/Users/kremlin/Downloads/11Wire/backend/src/controllers/elevenlabs-agent.controller.js:172:20)","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error getting agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 13:01:54"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"Database connected","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"[TEST] Testing GET /api/agents endpoint","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"Debug server running on port 3333","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"[DEBUG] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"[DEBUG] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"Response: {\"success\":true,\"count\":1,\"agents\":[{\"id\":1,\"agentId\":\"test-agent-id\",\"name\":\"Test Agent\",\"description\":\"Test agent for integration tests\",\"isActive\":true,\"settings\":{\"voiceId\":\"test-voice\"},\"promptSettings\":{\"greeting\":\"Hello, this is a test\"},\"webhookUrl\":null,\"createdAt\":\"2025-07-28T17:42:21.884Z\",\"updatedAt\":\"2025-07-28T17:42:21.884Z\"}]}","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"[TEST] Testing GET /api/agents/test-agent-id endpoint","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"[DEBUG] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"[DEBUG] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"Response: {\"success\":true,\"config\":{\"id\":1,\"agentId\":\"test-agent-id\",\"name\":\"Test Agent\",\"description\":\"Test agent for integration tests\",\"isActive\":true,\"settings\":{\"voiceId\":\"test-voice\"},\"promptSettings\":{\"greeting\":\"Hello, this is a test\"},\"webhookUrl\":null,\"createdAt\":\"2025-07-28T17:42:21.884Z\",\"updatedAt\":\"2025-07-28T17:42:21.884Z\"}}","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"Debug server closed","service":"11wire-api","timestamp":"2025-07-28 21:12:05"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 21:13:46"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error creating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for POST /","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for POST / - Status: 500, Body: {\"success\":false,\"error\":\"Failed to create contact\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:60:39)","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for GET / - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contacts\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] GET /api/contacts/undefined","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] PUT /api/contacts/undefined","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error updating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for PUT /undefined","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for PUT /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to update contact\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error getting recent calls: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for GET /?page=1&limit=10 - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get recent calls\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] GET /api/calls/undefined","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error listing configured agents: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Stack trace: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Object.<anonymous>.exports.listConfiguredAgents (/Users/kremlin/Downloads/11Wire/backend/src/controllers/elevenlabs-agent.controller.js:172:20)","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for GET / - Status: 500, Body: {\"success\":false,\"error\":\"Failed to retrieve configured agents\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] GET /api/agents/undefined","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error getting agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to retrieve agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] PUT /api/agents/undefined","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for PUT /undefined","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for PUT /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to save agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"[TEST] Setting status 500 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"error","message":"[TEST] Error response for POST /new-test-agent-id - Status: 500, Body: {\"success\":false,\"error\":\"Failed to save agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:13:47"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 21:16:49"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 21:16:49"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:49"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:16:49"}
{"level":"error","message":"Error creating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for POST /","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for POST / - Status: 500, Body: {\"success\":false,\"error\":\"Failed to create contact\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:60:39)","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for GET / - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contacts\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] GET /api/contacts/undefined","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] PUT /api/contacts/undefined","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error updating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for PUT /undefined","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for PUT /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to update contact\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error getting recent calls: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for GET /?page=1&limit=10 - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get recent calls\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] GET /api/calls/undefined","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Query error in AgentConfig.findAll: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Object.<anonymous>.exports.listConfiguredAgents (/Users/kremlin/Downloads/11Wire/backend/src/controllers/elevenlabs-agent.controller.js:201:16)","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for GET / - Status: 500, Body: {\"success\":false,\"error\":\"Database query error\",\"detail\":\"relation \\\"AgentConfigs\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] GET /api/agents/undefined","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error getting agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to retrieve agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] PUT /api/agents/undefined","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for PUT /undefined","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for PUT /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to save agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TEST] Setting status 500 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"error","message":"[TEST] Error response for POST /new-test-agent-id - Status: 500, Body: {\"success\":false,\"error\":\"Failed to save agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:16:50"}
{"level":"info","message":"[TRACE] Database connected successfully","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"info","message":"[TEST] Testing POST /agents/:agentId endpoint","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"info","message":"[TRACE] Server running on port 3334","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"info","message":"[TRACE] POST /api/agents/test-agent-id - Request started","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"info","message":"[TRACE] Direct controller call to saveAgentConfig with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"error","message":"Error saving agent config: relation \"AgentConfigs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"info","message":"[TRACE] Setting status 500 for POST /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"info","message":"[TRACE] Response body for POST /api/agents/test-agent-id:","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"error","message":"[TRACE] Error response: {\"success\":false,\"error\":\"Failed to save agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"info","message":"[TRACE] POST /api/agents/test-agent-id - Response completed","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"error","message":"[TEST] API Error: Request failed with status code 500","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"error","message":"[TEST] Status code: 500","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"error","message":"[TEST] Response data: {\"success\":false,\"error\":\"Failed to save agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"info","message":"[TRACE] Server closed","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"info","message":"[TRACE] Database connection closed","service":"11wire-api","timestamp":"2025-07-28 21:18:13"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error creating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] Setting status 500 for POST /","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"[TEST] Error response for POST / - Status: 500, Body: {\"success\":false,\"error\":\"Failed to create contact\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:60:39)","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"[TEST] Error response for GET / - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contacts\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] GET /api/contacts/undefined","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] PUT /api/contacts/undefined","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error updating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] Setting status 500 for PUT /undefined","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"[TEST] Error response for PUT /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to update contact\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error getting recent calls: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"[TEST] Error response for GET /?page=1&limit=10 - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get recent calls\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] GET /api/calls/undefined","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:47"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"error","message":"Query error in AgentConfig.findAll: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Object.<anonymous>.exports.listConfiguredAgents (/Users/kremlin/Downloads/11Wire/backend/src/controllers/elevenlabs-agent.controller.js:201:16)","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"[TEST] Setting status 500 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"error","message":"[TEST] Error response for GET / - Status: 500, Body: {\"success\":false,\"error\":\"Database query error\",\"detail\":\"relation \\\"agent_configs\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"[TEST] GET /api/agents/undefined","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"error","message":"Error getting agent config: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to retrieve agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"[TEST] PUT /api/agents/undefined","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"error","message":"Error saving agent config: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"[TEST] Setting status 500 for PUT /undefined","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"error","message":"[TEST] Error response for PUT /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to save agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"error","message":"Error saving agent config: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"[TEST] Setting status 500 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"error","message":"[TEST] Error response for POST /new-test-agent-id - Status: 500, Body: {\"success\":false,\"error\":\"Failed to save agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:19:48"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Syncing models with no foreign keys first...","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Syncing models with foreign keys...","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Conversation model synced","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"CallLog model synced","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"All models synchronized successfully with database!","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Models synchronized:","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"- Campaign (table: Campaigns)","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"- Conversation (table: Conversations)","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"- CallRecording (table: CallRecordings)","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"- Contact (table: Contacts)","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"- CallLog (table: CallLogs)","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"- AgentConfig (table: agent_configs)","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"Tables found in database: [\"agent_configs\",\"Campaigns\",\"CallRecordings\",\"Conversations\",\"Contacts\",\"CallLogs\"]","service":"11wire-api","timestamp":"2025-07-28 21:20:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Database connection error: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error creating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for POST /","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for POST / - Status: 500, Body: {\"success\":false,\"error\":\"Failed to create contact\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:60:39)","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for GET / - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contacts\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] GET /api/contacts/undefined","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] PUT /api/contacts/undefined","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error updating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for PUT /undefined","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for PUT /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to update contact\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error getting recent calls: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for GET /?page=1&limit=10 - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get recent calls\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] GET /api/calls/undefined","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Query error in AgentConfig.findAll: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Object.<anonymous>.exports.listConfiguredAgents (/Users/kremlin/Downloads/11Wire/backend/src/controllers/elevenlabs-agent.controller.js:201:16)","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for GET / - Status: 500, Body: {\"success\":false,\"error\":\"Database query error\",\"detail\":\"relation \\\"agent_configs\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] GET /api/agents/undefined","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error getting agent config: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to retrieve agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] PUT /api/agents/undefined","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error saving agent config: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for PUT /undefined","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for PUT /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to save agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Error saving agent config: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"info","message":"[TEST] Setting status 500 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"[TEST] Error response for POST /new-test-agent-id - Status: 500, Body: {\"success\":false,\"error\":\"Failed to save agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:21:21"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 21:24:26"}
{"level":"info","message":"Database connected","service":"11wire-api","timestamp":"2025-07-28 21:24:26"}
{"level":"info","message":"[TEST] Testing direct ElevenLabs service and model operations","service":"11wire-api","timestamp":"2025-07-28 21:24:26"}
{"level":"info","message":"[TEST] Testing elevenlabs.service.js operation directly","service":"11wire-api","timestamp":"2025-07-28 21:24:26"}
{"level":"info","message":"[TEST] ElevenLabs service imported successfully","service":"11wire-api","timestamp":"2025-07-28 21:24:26"}
{"level":"info","message":"[TEST] Available ElevenLabs service methods: getVoices, getVoiceDetails, generateSpeech, saveAudioToFile, streamSpeechRealTime, getVoiceClones, generateConversationalResponse, getAvailableVoiceAgents, getVoiceAgentById, updateAgentWebhook","service":"11wire-api","timestamp":"2025-07-28 21:24:26"}
{"level":"info","message":"[TEST] All required ElevenLabs service methods are available","service":"11wire-api","timestamp":"2025-07-28 21:24:26"}
{"level":"info","message":"[TEST] Testing direct database operations on agent_configs table","service":"11wire-api","timestamp":"2025-07-28 21:24:26"}
{"level":"info","message":"Debug server running on port 3333","service":"11wire-api","timestamp":"2025-07-28 21:24:26"}
{"level":"info","message":"[TEST] agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"[TEST] Successfully created test agent with ID: 1","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"[TEST] Successfully retrieved test agent: Test Agent (Direct)","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"[TEST] Raw SQL query found 1 agent records","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"[TEST] Testing GET /api/agents endpoint via HTTP","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"[DEBUG] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"[DEBUG] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"Response: {\"success\":true,\"count\":1,\"agents\":[{\"id\":1,\"agentId\":\"direct-test-agent-1753755867077\",\"name\":\"Test Agent (Direct)\",\"description\":\"Created via direct model test\",\"isActive\":true,\"settings\":{\"test\":true},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T02:24:27.078Z\",\"updatedAt\":\"2025-07-29T02:24:27.078Z\"}]}","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"[TEST] Testing GET /api/agents/test-agent-id endpoint via HTTP","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"[DEBUG] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"Getting voice agent by ID: test-agent-id (mock data)","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"Getting available voice agents (mock data)","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"error","message":"Error fetching voice agent: Agent with ID test-agent-id not found","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"error","message":"Error getting agent config: Agent with ID test-agent-id not found","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"[DEBUG] Response for GET /test-agent-id - Status: 500","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"error","message":"Error testing GET /api/agents/test-agent-id: Request failed with status code 500","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"error","message":"Status: 500","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"error","message":"Response: {\"success\":false,\"error\":\"Failed to retrieve agent configuration\"}","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"Debug server closed","service":"11wire-api","timestamp":"2025-07-28 21:24:27"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 21:29:11"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"agent_configs table exists: false","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"warn","message":"agent_configs table does not exist! Will attempt to create it.","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Successfully created agent_configs table","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Failed to clear Contact data: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Failed to clear CallLog data: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Failed to create test call log: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at CallLog.save (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2305:12)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:169:25)","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error creating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 500 for POST /","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"[TEST] Error response for POST / - Status: 500, Body: {\"success\":false,\"error\":\"Failed to create contact\"}","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error getting contacts: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.rawSelect (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1043:18)\n    at Function.aggregate (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2067:19)\n    at Function.count (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2124:20)\n    at async Promise.all (index 0)\n    at Function.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2183:27)\n    at Object.<anonymous>.exports.getContacts (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:60:39)","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 500 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"[TEST] Error response for GET / - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contacts\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] GET /api/contacts/undefined","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] PUT /api/contacts/undefined","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error updating contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 500 for PUT /undefined","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"[TEST] Error response for PUT /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to update contact\"}","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error getting contact: relation \"Contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"relation \\\"Contacts\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error getting recent calls: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 500 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"[TEST] Error response for GET /?page=1&limit=10 - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get recent calls\"}","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] GET /api/calls/undefined","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"Error getting call details: relation \"CallLogs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Test agent data: {\"id\":1,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T02:29:12.466Z\",\"updatedAt\":\"2025-07-29T02:29:12.466Z\"}","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:29:12"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:29:13"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-28 21:29:13"}
{"level":"info","message":"Starting force sync of all models to test database...","service":"11wire-api","timestamp":"2025-07-28 21:33:38"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 21:33:38"}
{"level":"info","message":"Models to sync: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:33:38"}
{"level":"error","message":"Error syncing models: relation \"campaigns_status_idx\" already exists","service":"11wire-api","timestamp":"2025-07-28 21:33:38"}
{"level":"info","message":"Starting targeted sync of models to test database...","service":"11wire-api","timestamp":"2025-07-28 21:34:49"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 21:34:49"}
{"level":"info","message":"Models to sync: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:34:49"}
{"level":"info","message":"Dropped Contacts table","service":"11wire-api","timestamp":"2025-07-28 21:34:49"}
{"level":"info","message":"Dropped CallLogs table","service":"11wire-api","timestamp":"2025-07-28 21:34:49"}
{"level":"info","message":"Contact and CallLog models synced successfully!","service":"11wire-api","timestamp":"2025-07-28 21:34:49"}
{"level":"info","message":"Creating test data...","service":"11wire-api","timestamp":"2025-07-28 21:34:49"}
{"level":"error","message":"Error syncing models: relation \"agent_configs\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:34:49"}
{"level":"info","message":"Starting targeted sync of models to test database...","service":"11wire-api","timestamp":"2025-07-28 21:35:53"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 21:35:53"}
{"level":"info","message":"Models to sync: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:35:53"}
{"level":"info","message":"Dropped Contacts table","service":"11wire-api","timestamp":"2025-07-28 21:35:53"}
{"level":"info","message":"Dropped CallLogs table","service":"11wire-api","timestamp":"2025-07-28 21:35:53"}
{"level":"info","message":"Dropped AgentConfigs table","service":"11wire-api","timestamp":"2025-07-28 21:35:53"}
{"level":"info","message":"Contact, CallLog, and AgentConfig models synced successfully!","service":"11wire-api","timestamp":"2025-07-28 21:35:54"}
{"level":"info","message":"Creating test data...","service":"11wire-api","timestamp":"2025-07-28 21:35:54"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:35:54"}
{"level":"info","message":"Created test call log with ID: 1","service":"11wire-api","timestamp":"2025-07-28 21:35:54"}
{"level":"info","message":"Starting targeted sync of models to test database...","service":"11wire-api","timestamp":"2025-07-28 21:38:03"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 21:38:04"}
{"level":"info","message":"Models to sync: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:38:04"}
{"level":"info","message":"Dropped Contacts table","service":"11wire-api","timestamp":"2025-07-28 21:38:04"}
{"level":"info","message":"Dropped CallLogs table","service":"11wire-api","timestamp":"2025-07-28 21:38:04"}
{"level":"info","message":"Dropped AgentConfigs table","service":"11wire-api","timestamp":"2025-07-28 21:38:04"}
{"level":"info","message":"Contact, CallLog, and AgentConfig models synced successfully!","service":"11wire-api","timestamp":"2025-07-28 21:38:04"}
{"level":"info","message":"Creating test data...","service":"11wire-api","timestamp":"2025-07-28 21:38:04"}
{"level":"error","message":"Error syncing models: Validation error","service":"11wire-api","timestamp":"2025-07-28 21:38:04"}
{"level":"info","message":"Starting targeted sync of models to test database...","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Models to sync: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Dropped Contacts table","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Dropped CallLogs table","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Dropped AgentConfigs table","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Creating agent_configs table...","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Creating call_logs table...","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Creating contacts table...","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Tables created successfully!","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Creating test data...","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Created test call log with ID: 1","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Created test campaign with ID: test-campaign-id","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"error","message":"Error syncing models: insert or update on table \"contacts\" violates foreign key constraint \"contacts_campaignId_fkey\"","service":"11wire-api","timestamp":"2025-07-28 21:40:43"}
{"level":"info","message":"Starting targeted sync of models to test database...","service":"11wire-api","timestamp":"2025-07-28 21:41:47"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 21:41:47"}
{"level":"info","message":"Models to sync: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:41:47"}
{"level":"info","message":"Dropped Contacts table","service":"11wire-api","timestamp":"2025-07-28 21:41:48"}
{"level":"info","message":"Dropped CallLogs table","service":"11wire-api","timestamp":"2025-07-28 21:41:48"}
{"level":"info","message":"Dropped AgentConfigs table","service":"11wire-api","timestamp":"2025-07-28 21:41:48"}
{"level":"info","message":"Creating agent_configs table...","service":"11wire-api","timestamp":"2025-07-28 21:41:48"}
{"level":"info","message":"Creating call_logs table...","service":"11wire-api","timestamp":"2025-07-28 21:41:48"}
{"level":"info","message":"Creating contacts table...","service":"11wire-api","timestamp":"2025-07-28 21:41:48"}
{"level":"info","message":"Tables created successfully!","service":"11wire-api","timestamp":"2025-07-28 21:41:48"}
{"level":"info","message":"Creating test data...","service":"11wire-api","timestamp":"2025-07-28 21:41:48"}
{"level":"info","message":"Creating test campaign...","service":"11wire-api","timestamp":"2025-07-28 21:41:48"}
{"level":"error","message":"Error syncing models: Validation error","service":"11wire-api","timestamp":"2025-07-28 21:41:48"}
{"level":"info","message":"Starting targeted sync of models to test database...","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Models to sync: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Dropped Contacts table","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Dropped CallLogs table","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Dropped AgentConfigs table","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Creating agent_configs table...","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Creating call_logs table...","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Creating contacts table...","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Tables created successfully!","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Creating test data...","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Creating test campaign...","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Created test campaign with ID: test-campaign-id","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Creating test agent...","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Creating test call log...","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Created test call log with ID: 1","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Creating test contact...","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Test data creation completed","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"Database connection closed","service":"11wire-api","timestamp":"2025-07-28 21:43:57"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 21:45:25"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Cleared CallLog test data","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Created test call log with ID: 2","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] GET /api/contacts/2","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 200 for GET /2","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Response for GET /2 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] PUT /api/contacts/2","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /2","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Response for PUT /2 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"error","message":"Error getting contact: invalid input syntax for type integer: \"stats\"","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"invalid input syntax for type integer: \\\"stats\\\"\"}","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] GET /api/calls/2","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 200 for GET /2","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Response for GET /2 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"error","message":"Error fetching call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"error","message":"Error getting call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Test agent data: {\"id\":2,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T02:45:26.618Z\",\"updatedAt\":\"2025-07-29T02:45:26.618Z\"}","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-28 21:45:26"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 21:52:26"}
{"level":"info","message":"Starting targeted sync of models to test database...","service":"11wire-api","timestamp":"2025-07-28 21:53:52"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 21:53:52"}
{"level":"info","message":"Models to sync: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:53:52"}
{"level":"info","message":"Dropped contacts table","service":"11wire-api","timestamp":"2025-07-28 21:53:52"}
{"level":"info","message":"Dropped call_logs table","service":"11wire-api","timestamp":"2025-07-28 21:53:52"}
{"level":"info","message":"Dropped agent_configs table","service":"11wire-api","timestamp":"2025-07-28 21:53:52"}
{"level":"info","message":"Creating agent_configs table...","service":"11wire-api","timestamp":"2025-07-28 21:53:52"}
{"level":"info","message":"Creating call_logs table...","service":"11wire-api","timestamp":"2025-07-28 21:53:52"}
{"level":"error","message":"Error syncing models: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-28 21:53:52"}
{"level":"info","message":"Starting targeted sync of models to test database...","service":"11wire-api","timestamp":"2025-07-28 21:56:23"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Models to sync: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Dropped contacts table","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Dropped call_logs table","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Dropped agent_configs table","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Creating agent_configs table...","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Creating contacts table...","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Creating call_logs table...","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Tables created successfully!","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Creating test data...","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Creating test campaign...","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"error","message":"Error syncing models: Validation error","service":"11wire-api","timestamp":"2025-07-28 21:56:24"}
{"level":"info","message":"Creating test data for integration tests...","service":"11wire-api","timestamp":"2025-07-28 21:57:28"}
{"level":"info","message":"Creating test campaign...","service":"11wire-api","timestamp":"2025-07-28 21:57:28"}
{"level":"error","message":"Error creating test data: Validation error","service":"11wire-api","timestamp":"2025-07-28 21:57:29"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.insert (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async model.save (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:2490:35)\n    at async Campaign.create (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1362:12)\n    at async createTestData (/Users/kremlin/Downloads/11Wire/backend/src/scripts/create-test-data.js:17:22)","service":"11wire-api","timestamp":"2025-07-28 21:57:29"}
{"level":"info","message":"Database connection closed","service":"11wire-api","timestamp":"2025-07-28 21:57:29"}
{"level":"info","message":"Creating test data for integration tests...","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Clearing existing test data...","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Cleared call_logs table","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Cleared contacts table","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Cleared agent_configs table","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Cleared test campaign","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Creating test campaign...","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Created test campaign with ID: test-campaign-id","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Creating test agent...","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Creating test contact...","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Created test contact with ID: 1","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Creating test call log...","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Created test call log with ID: 1","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Test data creation completed","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"info","message":"Database connection closed","service":"11wire-api","timestamp":"2025-07-28 21:59:08"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 22:01:06"}
{"level":"info","message":"Connecting to database...","service":"11wire-api","timestamp":"2025-07-28 22:03:26"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Database details:\n      - Name: 11wire_test\n      - Host: localhost\n      - Port: 5432\n      - Username: postgres\n      - Dialect: undefined\n    ","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Current search_path: {\"search_path\":\"\\\"$user\\\", public\"}","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Available schemas: information_schema, pg_catalog, pg_toast, public","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Checking tables in public schema...","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Tables in public schema: agent_configs, contacts, call_logs, conversations, call_recordings, campaigns, Campaigns","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Trying direct SQL queries...","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Successfully queried contacts table: [{\"count\":\"1\"}]","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Successfully queried call_logs table: [{\"count\":\"1\"}]","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Checking model definitions vs table names...","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Model Contact:","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - Model name: Contact","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - Table name: contacts","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - getTableName(): \"contacts\"","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Model CallLog:","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - Model name: CallLog","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - Table name: call_logs","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - getTableName(): \"call_logs\"","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Model AgentConfig:","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - Model name: AgentConfig","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - Table name: agent_configs","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - getTableName(): \"agent_configs\"","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Model Campaign:","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - Model name: Campaign","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - Table name: campaigns","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"  - getTableName(): \"campaigns\"","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"Database connection closed","service":"11wire-api","timestamp":"2025-07-28 22:03:27"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Connecting to database...","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Database connection established","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Table contacts exists with 1 records","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Table call_logs exists with 1 records","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Table agent_configs exists with 1 records","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Table campaigns exists with 1 records","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"===== Testing Contact Endpoints =====","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Testing GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Testing GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"===== Testing Call Endpoints =====","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Testing GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"===== Testing Agent Endpoints =====","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Testing GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"Database connection closed","service":"11wire-api","timestamp":"2025-07-28 22:05:28"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:07:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"Cleared CallLog test data","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"Created test call log with ID: 2","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:07:33"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] GET /api/contacts/2","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Setting status 200 for GET /2","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Response for GET /2 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] PUT /api/contacts/2","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /2","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Response for PUT /2 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"error","message":"Error getting contact: invalid input syntax for type integer: \"stats\"","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"error","message":"Error stack: Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:1001:12)\n    at Function.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1824:21)\n    at Function.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1998:12)\n    at Function.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1955:12)\n    at Object.<anonymous>.exports.getContactById (/Users/kremlin/Downloads/11Wire/backend/src/controllers/contact.controller.js:108:21)","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"message\":\"Failed to retrieve contact\",\"error\":\"invalid input syntax for type integer: \\\"stats\\\"\"}","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] GET /api/calls/2","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Setting status 200 for GET /2","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Response for GET /2 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"error","message":"Error fetching call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"error","message":"Error getting call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Setting status 500 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"Test agent data: {\"id\":2,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T03:07:33.826Z\",\"updatedAt\":\"2025-07-29T03:07:33.826Z\"}","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:07:34"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:10:12"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Cleared CallLog test data","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Created test call log with ID: 3","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] GET /api/contacts/3","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /3","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for GET /3 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] PUT /api/contacts/3","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /3","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for PUT /3 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] GET /api/calls/3","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /3","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for GET /3 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Test agent data: {\"id\":4,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T03:10:13.571Z\",\"updatedAt\":\"2025-07-29T03:10:13.571Z\"}","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:10:13"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:11:54"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:11:55"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Cleared CallLog test data","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Created test call log with ID: 4","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] GET /api/contacts/4","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 200 for GET /4","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for GET /4 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] PUT /api/contacts/4","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /4","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for PUT /4 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] GET /api/calls/4","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 200 for GET /4","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for GET /4 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Test agent data: {\"id\":6,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T03:11:56.082Z\",\"updatedAt\":\"2025-07-29T03:11:56.082Z\"}","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:11:56"}
{"level":"info","message":"Connecting to database...","service":"11wire-api","timestamp":"2025-07-28 22:18:50"}
{"level":"info","message":"Database connection established successfully","service":"11wire-api","timestamp":"2025-07-28 22:18:50"}
{"level":"info","message":"Database details:\n      - Name: 11wire_test\n      - Host: localhost\n      - Port: 5432\n      - Username: postgres\n      - Dialect: postgres\n    ","service":"11wire-api","timestamp":"2025-07-28 22:18:50"}
{"level":"info","message":"Checking for duplicate capitalized tables...","service":"11wire-api","timestamp":"2025-07-28 22:18:50"}
{"level":"info","message":"Found tables: agent_configs, contacts, call_logs, conversations, call_recordings, campaigns, Campaigns","service":"11wire-api","timestamp":"2025-07-28 22:18:50"}
{"level":"info","message":"Found 1 duplicate capitalized tables to drop: Campaigns","service":"11wire-api","timestamp":"2025-07-28 22:18:50"}
{"level":"info","message":"Dropping table: Campaigns","service":"11wire-api","timestamp":"2025-07-28 22:18:50"}
{"level":"info","message":"Database cleanup completed successfully","service":"11wire-api","timestamp":"2025-07-28 22:18:50"}
{"level":"info","message":"Remaining tables: agent_configs, contacts, call_logs, conversations, call_recordings, campaigns","service":"11wire-api","timestamp":"2025-07-28 22:18:50"}
{"level":"info","message":"Database connection closed","service":"11wire-api","timestamp":"2025-07-28 22:18:50"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:27:11"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:27:12"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 22:27:12"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 22:27:12"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Cleared CallLog test data","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Created test call log with ID: 5","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] GET /api/contacts/5","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /5","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for GET /5 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] PUT /api/contacts/5","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /5","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for PUT /5 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] GET /api/calls/5","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /5","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for GET /5 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Test agent data: {\"id\":8,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T03:27:13.050Z\",\"updatedAt\":\"2025-07-29T03:27:13.050Z\"}","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:27:13"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:30:39"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Cleared CallLog test data","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Created test call log with ID: 6","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] GET /api/contacts/6","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 200 for GET /6","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for GET /6 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] PUT /api/contacts/6","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /6","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for PUT /6 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] GET /api/calls/6","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 200 for GET /6","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for GET /6 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Test agent data: {\"id\":10,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T03:30:40.590Z\",\"updatedAt\":\"2025-07-29T03:30:40.590Z\"}","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:30:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 22:35:45"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Cleared CallLog test data","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Created test call log with ID: 7","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] GET /api/contacts/7","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 200 for GET /7","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for GET /7 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] PUT /api/contacts/7","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /7","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for PUT /7 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] GET /api/calls/7","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 200 for GET /7","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for GET /7 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Test agent data: {\"id\":12,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T03:35:46.544Z\",\"updatedAt\":\"2025-07-29T03:35:46.544Z\"}","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-28 22:35:46"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 22:59:06"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 22:59:06"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 23:03:49"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 23:03:49"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 23:04:49"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 23:04:49"}
{"level":"info","message":"Adding call to queue: +15551234001","service":"11wire-api","timestamp":"2025-07-28 23:04:49"}
{"level":"error","message":"Error adding call to queue: column \"toNumber\" of relation \"call_queues\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:04:49"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 23:07:20"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 23:07:21"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-28 23:08:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 23:08:43"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 23:49:21"}
{"level":"info","message":"Created recordings directory: /Users/kremlin/Downloads/11Wire/backend/recordings","service":"11wire-api","timestamp":"2025-07-28 23:49:22"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 23:51:08"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 23:52:41"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 23:54:58"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig, CallQueue","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Cleared CallLog test data","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Created test call log with ID: 8","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Failed to create test call recording: column \"callSid\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.addIndex (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:586:12)\n    at Function.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1427:7)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:201:9)","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/contacts/8","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 200 for GET /8","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for GET /8 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] PUT /api/contacts/8","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /8","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for PUT /8 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/calls/8","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 200 for GET /8","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for GET /8 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Test agent data: {\"id\":14,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T04:54:59.098Z\",\"updatedAt\":\"2025-07-29T04:54:59.098Z\"}","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/call-recordings?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error listing recordings: column CallRecording.call_sid does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error listing recordings: column CallRecording.call_sid does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 400 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"[TEST] Error response for GET /?page=1&limit=10 - Status: 400, Body: {\"success\":false,\"message\":\"column CallRecording.call_sid does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/call-recordings/undefined","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error getting recording by ID: column CallRecording.call_sid does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error getting recording: column CallRecording.call_sid does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 400 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 400, Body: {\"success\":false,\"message\":\"column CallRecording.call_sid does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/call-recordings/call/TEST-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error getting recordings for call: column \"call_sid\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error getting recordings for call: column \"call_sid\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 400 for GET /call/TEST-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"[TEST] Error response for GET /call/TEST-CALL-SID-12345 - Status: 400, Body: {\"success\":false,\"message\":\"column \\\"call_sid\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] GET /api/call-recordings/stats","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error getting recording stats: column \"duration\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error getting recording stats: column \"duration\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 400 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 400, Body: {\"success\":false,\"message\":\"column \\\"duration\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] POST /api/call-recordings/call/TEST-NEW-CALL-SID/start","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Starting recording for call: TEST-NEW-CALL-SID","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error starting call recording: notNull Violation: CallRecording.recordingSid cannot be null","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error starting recording: notNull Violation: CallRecording.recordingSid cannot be null","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 400 for POST /call/TEST-NEW-CALL-SID/start","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"[TEST] Error response for POST /call/TEST-NEW-CALL-SID/start - Status: 400, Body: {\"success\":false,\"message\":\"notNull Violation: CallRecording.recordingSid cannot be null\"}","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Failed to create test recording to stop: column \"call_sid\" of relation \"call_recordings\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] POST /api/call-recordings/call/TEST-RECORDING-CALL-SID/stop","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"Stopping recording for call: TEST-RECORDING-CALL-SID","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error stopping call recording: column \"call_sid\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Error stopping recording: column \"call_sid\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"[TEST] Setting status 400 for POST /call/TEST-RECORDING-CALL-SID/stop","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"[TEST] Error response for POST /call/TEST-RECORDING-CALL-SID/stop - Status: 400, Body: {\"success\":false,\"message\":\"column \\\"call_sid\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"error","message":"Failed to create recording to delete: column \"call_sid\" of relation \"call_recordings\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"warn","message":"Skipping delete recording test due to setup failure","service":"11wire-api","timestamp":"2025-07-28 23:54:59"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-28 23:59:09"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig, CallQueue","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Cleared CallLog test data","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Created test call log with ID: 9","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Failed to create test call recording: column \"callSid\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.addIndex (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:586:12)\n    at Function.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:1427:7)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:201:9)","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/contacts/9","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 200 for GET /9","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for GET /9 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] PUT /api/contacts/9","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /9","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for PUT /9 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/calls/9","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 200 for GET /9","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for GET /9 - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Test agent data: {\"id\":16,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T04:59:10.198Z\",\"updatedAt\":\"2025-07-29T04:59:10.198Z\"}","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/call-recordings?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error listing recordings: column CallRecording.call_sid does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error listing recordings: column CallRecording.call_sid does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 400 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"[TEST] Error response for GET /?page=1&limit=10 - Status: 400, Body: {\"success\":false,\"message\":\"column CallRecording.call_sid does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/call-recordings/undefined","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error getting recording by ID: column CallRecording.call_sid does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error getting recording: column CallRecording.call_sid does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 400 for GET /undefined","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 400, Body: {\"success\":false,\"message\":\"column CallRecording.call_sid does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/call-recordings/call/TEST-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error getting recordings for call: column \"call_sid\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error getting recordings for call: column \"call_sid\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 400 for GET /call/TEST-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"[TEST] Error response for GET /call/TEST-CALL-SID-12345 - Status: 400, Body: {\"success\":false,\"message\":\"column \\\"call_sid\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] GET /api/call-recordings/stats","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error getting recording stats: column \"duration\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error getting recording stats: column \"duration\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 400 for GET /stats","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"[TEST] Error response for GET /stats - Status: 400, Body: {\"success\":false,\"message\":\"column \\\"duration\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] POST /api/call-recordings/call/TEST-NEW-CALL-SID/start","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Starting recording for call: TEST-NEW-CALL-SID","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error starting call recording: column \"call_sid\" of relation \"call_recordings\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error starting recording: column \"call_sid\" of relation \"call_recordings\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 400 for POST /call/TEST-NEW-CALL-SID/start","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"[TEST] Error response for POST /call/TEST-NEW-CALL-SID/start - Status: 400, Body: {\"success\":false,\"message\":\"column \\\"call_sid\\\" of relation \\\"call_recordings\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Failed to create test recording to stop: column \"status\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.bulkDelete (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:992:12)\n    at Function.destroy (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:3083:16)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:504:9)","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] POST /api/call-recordings/call/TEST-RECORDING-CALL-SID/stop","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"Stopping recording for call: TEST-RECORDING-CALL-SID","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error stopping call recording: column \"call_sid\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Error stopping recording: column \"call_sid\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"[TEST] Setting status 400 for POST /call/TEST-RECORDING-CALL-SID/stop","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"[TEST] Error response for POST /call/TEST-RECORDING-CALL-SID/stop - Status: 400, Body: {\"success\":false,\"message\":\"column \\\"call_sid\\\" does not exist\"}","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"error","message":"Failed to create recording to delete: column \"call_sid\" of relation \"call_recordings\" does not exist","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"warn","message":"Skipping delete recording test due to setup failure","service":"11wire-api","timestamp":"2025-07-28 23:59:10"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 00:00:33"}
{"level":"info","message":"Starting call recording debug tests","service":"11wire-api","timestamp":"2025-07-29 00:00:33"}
{"level":"info","message":"Database connection established","service":"11wire-api","timestamp":"2025-07-29 00:00:33"}
{"0":"c","1":"o","10":"l","11":"l","12":"_","13":"s","14":"i","15":"d","16":"\"","17":" ","18":"d","19":"o","2":"l","20":"e","21":"s","22":" ","23":"n","24":"o","25":"t","26":" ","27":"e","28":"x","29":"i","3":"u","30":"s","31":"t","4":"m","5":"n","6":" ","7":"\"","8":"c","9":"a","level":"error","message":"Debug script error:","service":"11wire-api","timestamp":"2025-07-29 00:00:33"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.bulkDelete (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async CallRecording.destroy (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async debugCallRecording (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-recording.js:56:5)","service":"11wire-api","timestamp":"2025-07-29 00:00:33"}
{"level":"info","message":"Connecting to database...","service":"11wire-api","timestamp":"2025-07-29 00:12:31"}
{"level":"info","message":"Connection established successfully","service":"11wire-api","timestamp":"2025-07-29 00:12:31"}
{"level":"info","message":"Current tables in database:","service":"11wire-api","timestamp":"2025-07-29 00:12:31"}
{"level":"info","message":"Found 1 tables:","service":"11wire-api","timestamp":"2025-07-29 00:12:31"}
{"level":"info","message":"Synchronizing CallRecording model...","service":"11wire-api","timestamp":"2025-07-29 00:12:31"}
{"level":"error","message":"Error: column \"callSid\" does not exist","service":"11wire-api","timestamp":"2025-07-29 00:12:31"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.addIndex (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:250:12)\n    at async CallRecording.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:999:7)\n    at async syncCallRecordingModel (/Users/kremlin/Downloads/11Wire/backend/src/scripts/sync-call-recording-model.js:25:5)","service":"11wire-api","timestamp":"2025-07-29 00:12:31"}
{"level":"info","message":"Connecting to database...","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"Connection established successfully","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"Current tables in database:","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"Found 1 tables:","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"Synchronizing CallRecording model...","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"CallRecording model synchronized successfully","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"call_recordings table exists: true","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"call_recordings table columns:","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- id: integer (not null)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- call_sid: character varying (not null)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- recording_sid: character varying (not null)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- campaign_id: character varying (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- status: USER-DEFINED (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- start_time: timestamp with time zone (not null)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- end_time: timestamp with time zone (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- duration: double precision (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- format: character varying (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- channels: integer (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- url: character varying (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- local_file_path: character varying (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- download_status: USER-DEFINED (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- storage_type: USER-DEFINED (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- file_size: integer (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- metadata: jsonb (nullable)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- created_at: timestamp with time zone (not null)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"- updated_at: timestamp with time zone (not null)","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"Database connection closed","service":"11wire-api","timestamp":"2025-07-29 00:13:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig, CallQueue","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"Cleared CallLog test data","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"Created test call log with ID: 10","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"Created test call recording with ID: 1","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-29 00:15:47"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/contacts/10","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for GET /10","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for GET /10 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] PUT /api/contacts/10","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /10","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for PUT /10 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/calls/10","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for GET /10","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for GET /10 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"Test agent data: {\"id\":18,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T05:15:47.813Z\",\"updatedAt\":\"2025-07-29T05:15:47.813Z\"}","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/call-recordings?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Error listing recordings: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Error listing recordings: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 400 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"[TEST] Error response for GET /?page=1&limit=10 - Status: 400, Body: {\"success\":false,\"message\":\"column callLog.fromNumber does not exist\"}","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/call-recordings/1","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Error getting recording by ID: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Error getting recording: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 400 for GET /1","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"[TEST] Error response for GET /1 - Status: 400, Body: {\"success\":false,\"message\":\"column callLog.fromNumber does not exist\"}","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/call-recordings/call/TEST-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for GET /call/TEST-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for GET /call/TEST-CALL-SID-12345 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] GET /api/call-recordings/stats","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] POST /api/call-recordings/call/TEST-NEW-CALL-SID/start","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"Starting recording for call: TEST-NEW-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Error starting call recording: insert or update on table \"call_recordings\" violates foreign key constraint \"call_recordings_call_sid_fkey\"","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Error starting recording: insert or update on table \"call_recordings\" violates foreign key constraint \"call_recordings_call_sid_fkey\"","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 400 for POST /call/TEST-NEW-CALL-SID/start","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"[TEST] Error response for POST /call/TEST-NEW-CALL-SID/start - Status: 400, Body: {\"success\":false,\"message\":\"insert or update on table \\\"call_recordings\\\" violates foreign key constraint \\\"call_recordings_call_sid_fkey\\\"\"}","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Failed to create test recording to stop: insert or update on table \"call_recordings\" violates foreign key constraint \"call_recordings_call_sid_fkey\"","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at model.save (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2305:12)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:512:35)","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] POST /api/call-recordings/call/TEST-RECORDING-CALL-SID/stop","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"Stopping recording for call: TEST-RECORDING-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Error stopping call recording: No active recording found for call: TEST-RECORDING-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Error stopping recording: No active recording found for call: TEST-RECORDING-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"[TEST] Setting status 400 for POST /call/TEST-RECORDING-CALL-SID/stop","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"[TEST] Error response for POST /call/TEST-RECORDING-CALL-SID/stop - Status: 400, Body: {\"success\":false,\"message\":\"No active recording found for call: TEST-RECORDING-CALL-SID\"}","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"error","message":"Failed to create recording to delete: insert or update on table \"call_recordings\" violates foreign key constraint \"call_recordings_call_sid_fkey\"","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"warn","message":"Skipping delete recording test due to setup failure","service":"11wire-api","timestamp":"2025-07-29 00:15:48"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"info","message":"Starting detailed call recording debug tests","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"info","message":"Database connection established","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"info","message":"call_recordings table exists: true","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"0":"i","1":"d","10":"r","100":"r","101":" ","102":"v","103":"a","104":"r","105":"y","106":"i","107":"n","108":"g","109":")","11":")","110":",","111":" ","112":"s","113":"t","114":"a","115":"t","116":"u","117":"s","118":" ","119":"(","12":",","120":"U","121":"S","122":"E","123":"R","124":"-","125":"D","126":"E","127":"F","128":"I","129":"N","13":" ","130":"E","131":"D","132":")","133":",","134":" ","135":"s","136":"t","137":"a","138":"r","139":"t","14":"c","140":"_","141":"t","142":"i","143":"m","144":"e","145":" ","146":"(","147":"t","148":"i","149":"m","15":"a","150":"e","151":"s","152":"t","153":"a","154":"m","155":"p","156":" ","157":"w","158":"i","159":"t","16":"l","160":"h","161":" ","162":"t","163":"i","164":"m","165":"e","166":" ","167":"z","168":"o","169":"n","17":"l","170":"e","171":")","172":",","173":" ","174":"e","175":"n","176":"d","177":"_","178":"t","179":"i","18":"_","180":"m","181":"e","182":" ","183":"(","184":"t","185":"i","186":"m","187":"e","188":"s","189":"t","19":"s","190":"a","191":"m","192":"p","193":" ","194":"w","195":"i","196":"t","197":"h","198":" ","199":"t","2":" ","20":"i","200":"i","201":"m","202":"e","203":" ","204":"z","205":"o","206":"n","207":"e","208":")","209":",","21":"d","210":" ","211":"d","212":"u","213":"r","214":"a","215":"t","216":"i","217":"o","218":"n","219":" ","22":" ","220":"(","221":"d","222":"o","223":"u","224":"b","225":"l","226":"e","227":" ","228":"p","229":"r","23":"(","230":"e","231":"c","232":"i","233":"s","234":"i","235":"o","236":"n","237":")","238":",","239":" ","24":"c","240":"f","241":"o","242":"r","243":"m","244":"a","245":"t","246":" ","247":"(","248":"c","249":"h","25":"h","250":"a","251":"r","252":"a","253":"c","254":"t","255":"e","256":"r","257":" ","258":"v","259":"a","26":"a","260":"r","261":"y","262":"i","263":"n","264":"g","265":")","266":",","267":" ","268":"c","269":"h","27":"r","270":"a","271":"n","272":"n","273":"e","274":"l","275":"s","276":" ","277":"(","278":"i","279":"n","28":"a","280":"t","281":"e","282":"g","283":"e","284":"r","285":")","286":",","287":" ","288":"u","289":"r","29":"c","290":"l","291":" ","292":"(","293":"c","294":"h","295":"a","296":"r","297":"a","298":"c","299":"t","3":"(","30":"t","300":"e","301":"r","302":" ","303":"v","304":"a","305":"r","306":"y","307":"i","308":"n","309":"g","31":"e","310":")","311":",","312":" ","313":"l","314":"o","315":"c","316":"a","317":"l","318":"_","319":"f","32":"r","320":"i","321":"l","322":"e","323":"_","324":"p","325":"a","326":"t","327":"h","328":" ","329":"(","33":" ","330":"c","331":"h","332":"a","333":"r","334":"a","335":"c","336":"t","337":"e","338":"r","339":" ","34":"v","340":"v","341":"a","342":"r","343":"y","344":"i","345":"n","346":"g","347":")","348":",","349":" ","35":"a","350":"d","351":"o","352":"w","353":"n","354":"l","355":"o","356":"a","357":"d","358":"_","359":"s","36":"r","360":"t","361":"a","362":"t","363":"u","364":"s","365":" ","366":"(","367":"U","368":"S","369":"E","37":"y","370":"R","371":"-","372":"D","373":"E","374":"F","375":"I","376":"N","377":"E","378":"D","379":")","38":"i","380":",","381":" ","382":"s","383":"t","384":"o","385":"r","386":"a","387":"g","388":"e","389":"_","39":"n","390":"t","391":"y","392":"p","393":"e","394":" ","395":"(","396":"U","397":"S","398":"E","399":"R","4":"i","40":"g","400":"-","401":"D","402":"E","403":"F","404":"I","405":"N","406":"E","407":"D","408":")","409":",","41":")","410":" ","411":"f","412":"i","413":"l","414":"e","415":"_","416":"s","417":"i","418":"z","419":"e","42":",","420":" ","421":"(","422":"i","423":"n","424":"t","425":"e","426":"g","427":"e","428":"r","429":")","43":" ","430":",","431":" ","432":"m","433":"e","434":"t","435":"a","436":"d","437":"a","438":"t","439":"a","44":"r","440":" ","441":"(","442":"j","443":"s","444":"o","445":"n","446":"b","447":")","448":",","449":" ","45":"e","450":"c","451":"r","452":"e","453":"a","454":"t","455":"e","456":"d","457":"_","458":"a","459":"t","46":"c","460":" ","461":"(","462":"t","463":"i","464":"m","465":"e","466":"s","467":"t","468":"a","469":"m","47":"o","470":"p","471":" ","472":"w","473":"i","474":"t","475":"h","476":" ","477":"t","478":"i","479":"m","48":"r","480":"e","481":" ","482":"z","483":"o","484":"n","485":"e","486":")","487":",","488":" ","489":"u","49":"d","490":"p","491":"d","492":"a","493":"t","494":"e","495":"d","496":"_","497":"a","498":"t","499":" ","5":"n","50":"i","500":"(","501":"t","502":"i","503":"m","504":"e","505":"s","506":"t","507":"a","508":"m","509":"p","51":"n","510":" ","511":"w","512":"i","513":"t","514":"h","515":" ","516":"t","517":"i","518":"m","519":"e","52":"g","520":" ","521":"z","522":"o","523":"n","524":"e","525":")","53":"_","54":"s","55":"i","56":"d","57":" ","58":"(","59":"c","6":"t","60":"h","61":"a","62":"r","63":"a","64":"c","65":"t","66":"e","67":"r","68":" ","69":"v","7":"e","70":"a","71":"r","72":"y","73":"i","74":"n","75":"g","76":")","77":",","78":" ","79":"c","8":"g","80":"a","81":"m","82":"p","83":"a","84":"i","85":"g","86":"n","87":"_","88":"i","89":"d","9":"e","90":" ","91":"(","92":"c","93":"h","94":"a","95":"r","96":"a","97":"c","98":"t","99":"e","level":"info","message":"call_recordings table columns:","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"0":"i","1":"d","10":"d","100":"l","101":"o","102":"c","103":"a","104":"l","105":"F","106":"i","107":"l","108":"e","109":"P","11":",","110":"a","111":"t","112":"h","113":",","114":" ","115":"d","116":"o","117":"w","118":"n","119":"l","12":" ","120":"o","121":"a","122":"d","123":"S","124":"t","125":"a","126":"t","127":"u","128":"s","129":",","13":"r","130":" ","131":"s","132":"t","133":"o","134":"r","135":"a","136":"g","137":"e","138":"T","139":"y","14":"e","140":"p","141":"e","142":",","143":" ","144":"f","145":"i","146":"l","147":"e","148":"S","149":"i","15":"c","150":"z","151":"e","152":",","153":" ","154":"m","155":"e","156":"t","157":"a","158":"d","159":"a","16":"o","160":"t","161":"a","162":",","163":" ","164":"c","165":"r","166":"e","167":"a","168":"t","169":"e","17":"r","170":"d","171":"A","172":"t","173":",","174":" ","175":"u","176":"p","177":"d","178":"a","179":"t","18":"d","180":"e","181":"d","182":"A","183":"t","19":"i","2":",","20":"n","21":"g","22":"S","23":"i","24":"d","25":",","26":" ","27":"c","28":"a","29":"m","3":" ","30":"p","31":"a","32":"i","33":"g","34":"n","35":"I","36":"d","37":",","38":" ","39":"s","4":"c","40":"t","41":"a","42":"t","43":"u","44":"s","45":",","46":" ","47":"s","48":"t","49":"a","5":"a","50":"r","51":"t","52":"T","53":"i","54":"m","55":"e","56":",","57":" ","58":"e","59":"n","6":"l","60":"d","61":"T","62":"i","63":"m","64":"e","65":",","66":" ","67":"d","68":"u","69":"r","7":"l","70":"a","71":"t","72":"i","73":"o","74":"n","75":",","76":" ","77":"f","78":"o","79":"r","8":"S","80":"m","81":"a","82":"t","83":",","84":" ","85":"c","86":"h","87":"a","88":"n","89":"n","9":"i","90":"e","91":"l","92":"s","93":",","94":" ","95":"u","96":"r","97":"l","98":",","99":" ","level":"info","message":"CallRecording model attributes:","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"0":"c","1":"a","10":"d","11":"i","12":"n","13":"g","14":"s","2":"l","3":"l","4":"_","5":"r","6":"e","7":"c","8":"o","9":"r","level":"info","message":"CallRecording table name:","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"info","message":"CallRecording underscored setting:","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"info","message":"Cleaned up test recordings","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"info","message":"TEST: Starting a recording","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"info","message":"Starting recording for call: TEST-DEBUG-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"0":"T","1":"E","10":"-","11":"C","12":"A","13":"L","14":"L","15":"-","16":"S","17":"I","18":"D","2":"S","3":"T","4":"-","5":"D","6":"E","7":"B","8":"U","9":"G","level":"info","message":"MOCK: Starting recording with callSid:","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"0":"{","1":"\"","10":"l","11":"s","12":"e","13":",","14":"\"","15":"m","16":"a","17":"x","18":"D","19":"u","2":"d","20":"r","21":"a","22":"t","23":"i","24":"o","25":"n","26":"\"","27":":","28":"3","29":"6","3":"u","30":"0","31":"0","32":",","33":"\"","34":"t","35":"r","36":"a","37":"n","38":"s","39":"c","4":"a","40":"r","41":"i","42":"b","43":"e","44":"\"","45":":","46":"f","47":"a","48":"l","49":"s","5":"l","50":"e","51":"}","6":"\"","7":":","8":"f","9":"a","level":"info","message":"MOCK: Recording options:","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"error","message":"Error starting call recording: insert or update on table \"call_recordings\" violates foreign key constraint \"call_recordings_call_sid_fkey\"","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"0":"i","1":"n","10":"u","100":"d","101":"_","102":"f","103":"k","104":"e","105":"y","106":"\"","11":"p","12":"d","13":"a","14":"t","15":"e","16":" ","17":"o","18":"n","19":" ","2":"s","20":"t","21":"a","22":"b","23":"l","24":"e","25":" ","26":"\"","27":"c","28":"a","29":"l","3":"e","30":"l","31":"_","32":"r","33":"e","34":"c","35":"o","36":"r","37":"d","38":"i","39":"n","4":"r","40":"g","41":"s","42":"\"","43":" ","44":"v","45":"i","46":"o","47":"l","48":"a","49":"t","5":"t","50":"e","51":"s","52":" ","53":"f","54":"o","55":"r","56":"e","57":"i","58":"g","59":"n","6":" ","60":" ","61":"k","62":"e","63":"y","64":" ","65":"c","66":"o","67":"n","68":"s","69":"t","7":"o","70":"r","71":"a","72":"i","73":"n","74":"t","75":" ","76":"\"","77":"c","78":"a","79":"l","8":"r","80":"l","81":"_","82":"r","83":"e","84":"c","85":"o","86":"r","87":"d","88":"i","89":"n","9":" ","90":"g","91":"s","92":"_","93":"c","94":"a","95":"l","96":"l","97":"_","98":"s","99":"i","level":"error","message":"Error starting recording:","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.insert (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async model.save (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:2490:35)\n    at async CallRecording.create (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1362:12)\n    at async Object.startCallRecording (/Users/kremlin/Downloads/11Wire/backend/src/services/call-recording.service.js:47:27)\n    at async testStartRecording (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-recording-detailed.js:54:25)\n    at async debugCallRecording (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-recording-detailed.js:150:25)","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"info","message":"Cleaned up test recordings","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"info","message":"Debug tests completed","service":"11wire-api","timestamp":"2025-07-29 09:07:15"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 09:09:18"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig, CallQueue","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"Failed to clear CallLog data: update or delete on table \"call_logs\" violates foreign key constraint \"call_recordings_call_sid_fkey\" on table \"call_recordings\"","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"Failed to create test call log: Validation error","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at CallLog.save (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2305:12)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:182:25)","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Created test call recording with ID: 6","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/contacts/11","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for GET /11","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for GET /11 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] PUT /api/contacts/11","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /11","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for PUT /11 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/calls/undefined","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"Error fetching call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"Error getting call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Test agent data: {\"id\":20,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T14:09:19.401Z\",\"updatedAt\":\"2025-07-29T14:09:19.401Z\"}","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/call-recordings?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"Error listing recordings: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"Error listing recordings: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 400 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"[TEST] Error response for GET /?page=1&limit=10 - Status: 400, Body: {\"success\":false,\"message\":\"column callLog.fromNumber does not exist\"}","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/call-recordings/6","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"Error getting recording by ID: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"Error getting recording: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 400 for GET /6","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"[TEST] Error response for GET /6 - Status: 400, Body: {\"success\":false,\"message\":\"column callLog.fromNumber does not exist\"}","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/call-recordings/call/TEST-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for GET /call/TEST-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for GET /call/TEST-CALL-SID-12345 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] GET /api/call-recordings/stats","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Created test CallLog with ID: 12","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] POST /api/call-recordings/call/TEST-NEW-CALL-SID/start","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Starting recording for call: TEST-NEW-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Recording started: MOCK-NEW-RECORDING-SID for call: TEST-NEW-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for POST /call/TEST-NEW-CALL-SID/start","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for POST /call/TEST-NEW-CALL-SID/start - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Created test CallLog with ID: 13","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Created test recording to stop with ID: 8","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] POST /api/call-recordings/call/TEST-RECORDING-CALL-SID/stop","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Stopping recording for call: TEST-RECORDING-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"Recording stopped: TEST-RECORDING-SID-STOP for call: TEST-RECORDING-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Setting status 200 for POST /call/TEST-RECORDING-CALL-SID/stop","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"[TEST] Response for POST /call/TEST-RECORDING-CALL-SID/stop - Status: 200","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"error","message":"Failed to create recording to delete: insert or update on table \"call_recordings\" violates foreign key constraint \"call_recordings_call_sid_fkey\"","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"warn","message":"Skipping delete recording test due to setup failure","service":"11wire-api","timestamp":"2025-07-29 09:09:19"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Database connection established","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Debugging CallRecording model","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Model definition:","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"0":"c","1":"a","10":"d","11":"i","12":"n","13":"g","14":"s","2":"l","3":"l","4":"_","5":"r","6":"e","7":"c","8":"o","9":"r","level":"info","message":"Table name:","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"0":"i","1":"d","10":"d","100":"l","101":"o","102":"c","103":"a","104":"l","105":"F","106":"i","107":"l","108":"e","109":"P","11":",","110":"a","111":"t","112":"h","113":",","114":" ","115":"d","116":"o","117":"w","118":"n","119":"l","12":" ","120":"o","121":"a","122":"d","123":"S","124":"t","125":"a","126":"t","127":"u","128":"s","129":",","13":"r","130":" ","131":"s","132":"t","133":"o","134":"r","135":"a","136":"g","137":"e","138":"T","139":"y","14":"e","140":"p","141":"e","142":",","143":" ","144":"f","145":"i","146":"l","147":"e","148":"S","149":"i","15":"c","150":"z","151":"e","152":",","153":" ","154":"m","155":"e","156":"t","157":"a","158":"d","159":"a","16":"o","160":"t","161":"a","162":",","163":" ","164":"c","165":"r","166":"e","167":"a","168":"t","169":"e","17":"r","170":"d","171":"A","172":"t","173":",","174":" ","175":"u","176":"p","177":"d","178":"a","179":"t","18":"d","180":"e","181":"d","182":"A","183":"t","19":"i","2":",","20":"n","21":"g","22":"S","23":"i","24":"d","25":",","26":" ","27":"c","28":"a","29":"m","3":" ","30":"p","31":"a","32":"i","33":"g","34":"n","35":"I","36":"d","37":",","38":" ","39":"s","4":"c","40":"t","41":"a","42":"t","43":"u","44":"s","45":",","46":" ","47":"s","48":"t","49":"a","5":"a","50":"r","51":"t","52":"T","53":"i","54":"m","55":"e","56":",","57":" ","58":"e","59":"n","6":"l","60":"d","61":"T","62":"i","63":"m","64":"e","65":",","66":" ","67":"d","68":"u","69":"r","7":"l","70":"a","71":"t","72":"i","73":"o","74":"n","75":",","76":" ","77":"f","78":"o","79":"r","8":"S","80":"m","81":"a","82":"t","83":",","84":" ","85":"c","86":"h","87":"a","88":"n","89":"n","9":"i","90":"e","91":"l","92":"s","93":",","94":" ","95":"u","96":"r","97":"l","98":",","99":" ","level":"info","message":"Attributes:","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Checking associations...","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"0":"c","1":"a","10":"c","11":"a","12":"l","13":"l","14":"L","15":"o","16":"g","17":",","18":" ","19":"c","2":"m","20":"o","21":"n","22":"v","23":"e","24":"r","25":"s","26":"a","27":"t","28":"i","29":"o","3":"p","30":"n","4":"a","5":"i","6":"g","7":"n","8":",","9":" ","level":"info","message":"Associations:","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Database columns:","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"id (integer)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"call_sid (character varying)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"recording_sid (character varying)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"campaign_id (character varying)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"status (USER-DEFINED)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"start_time (timestamp with time zone)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"end_time (timestamp with time zone)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"duration (double precision)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"format (character varying)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"channels (integer)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"url (character varying)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"local_file_path (character varying)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"download_status (USER-DEFINED)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"storage_type (USER-DEFINED)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"file_size (integer)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"metadata (jsonb)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"created_at (timestamp with time zone)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"updated_at (timestamp with time zone)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Cleaned up existing test data","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Created test CallLog with ID: 14","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Created test CallRecording with ID: 10","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Testing getRecordingById with ID: 10","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"error","message":"Error getting recording by ID: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"error","message":"Error in getRecordingById: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async CallRecording.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1140:21)\n    at async CallRecording.findOne (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1240:12)\n    at async CallRecording.findByPk (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1221:12)\n    at async Object.getRecordingById (/Users/kremlin/Downloads/11Wire/backend/src/services/call-recording.service.js:240:23)\n    at async testGetRecordingById (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-get-recording-endpoints.js:68:23)\n    at async debugCallRecordingGetEndpoints (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-get-recording-endpoints.js:173:32)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Testing getRecordingsForCall with callSid: DEBUG-GET-TEST-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Retrieved 1 recordings for call DEBUG-GET-TEST-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"First recording:","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"{\n  \"id\": 10,\n  \"callSid\": \"DEBUG-GET-TEST-CALL-SID\",\n  \"recordingSid\": \"DEBUG-GET-TEST-RECORDING-SID\",\n  \"campaignId\": null,\n  \"status\": \"completed\",\n  \"startTime\": \"2025-07-29T13:22:11.511Z\",\n  \"endTime\": \"2025-07-29T13:24:11.511Z\",\n  \"duration\": 120,\n  \"format\": \"mp3\",\n  \"channels\": 1,\n  \"url\": \"https://example.com/recordings/test.mp3\",\n  \"localFilePath\": null,\n  \"downloadStatus\": \"pending\",\n  \"storageType\": \"local\",\n  \"fileSize\": null,\n  \"metadata\": null,\n  \"createdAt\": \"2025-07-29T14:22:11.511Z\",\n  \"updatedAt\": \"2025-07-29T14:22:11.511Z\"\n}","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"Testing listRecordings","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"error","message":"Error listing recordings: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"error","message":"Error in listRecordings: column callLog.fromNumber does not exist","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.select (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async CallRecording.findAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1140:21)\n    at async Promise.all (index 1)\n    at async CallRecording.findAndCountAll (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1322:27)\n    at async Object.listRecordings (/Users/kremlin/Downloads/11Wire/backend/src/services/call-recording.service.js:289:20)\n    at async testListRecordings (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-get-recording-endpoints.js:113:20)\n    at async debugCallRecordingGetEndpoints (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-get-recording-endpoints.js:175:34)","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"\nDEBUG RESULTS SUMMARY:","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"getRecordingById: FAIL","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"getRecordingsForCall: PASS","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"listRecordings: FAIL","service":"11wire-api","timestamp":"2025-07-29 09:22:11"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 12:22:14"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig, CallQueue","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"error","message":"Failed to clear CallLog data: update or delete on table \"call_logs\" violates foreign key constraint \"call_recordings_call_sid_fkey\" on table \"call_recordings\"","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"error","message":"Failed to create test call log: Validation error","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at CallLog.save (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2305:12)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:182:25)","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"info","message":"Created test call recording with ID: 11","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"info","message":"[TEST] POST /api/contacts","service":"11wire-api","timestamp":"2025-07-29 12:22:16"}
{"level":"info","message":"[TEST] Setting status 201 for POST /","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for POST / - Status: 201","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/contacts","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/contacts/12","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /12","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET /12 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] PUT /api/contacts/12","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /12","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for PUT /12 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/contacts/stats","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/calls?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"warn","message":"Error fetching from SignalWire, returning DB results only: swCalls.filter is not a function","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/calls/undefined","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"error","message":"Error fetching call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"error","message":"Error getting call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/calls/stats","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/agents","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Attempting to list configured agents","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Database connection is active","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Querying AgentConfig with where clause: {}","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Found 1 configured agents","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET / - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Test agent verification: Found","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Test agent data: {\"id\":22,\"agentId\":\"test-agent-id\",\"name\":\"Existing Test Agent\",\"description\":\"For testing\",\"isActive\":true,\"settings\":{},\"promptSettings\":{},\"webhookUrl\":null,\"createdAt\":\"2025-07-29T17:22:16.714Z\",\"updatedAt\":\"2025-07-29T17:22:16.714Z\"}","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Requesting agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] PUT /api/agents/test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for PUT /test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for PUT /test-agent-id - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] POST /api/agents/new-test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 201 for POST /new-test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for POST /new-test-agent-id - Status: 201","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/call-recordings?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /?page=1&limit=10","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET /?page=1&limit=10 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/call-recordings/11","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /11","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET /11 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/call-recordings/call/TEST-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /call/TEST-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET /call/TEST-CALL-SID-12345 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] GET /api/call-recordings/stats","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for GET /stats","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for GET /stats - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"error","message":"Failed to create test CallLog: update or delete on table \"call_logs\" violates foreign key constraint \"call_recordings_call_sid_fkey\" on table \"call_recordings\"","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.bulkDelete (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:992:12)\n    at Function.destroy (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:3083:16)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:463:9)","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] POST /api/call-recordings/call/TEST-NEW-CALL-SID/start","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Starting recording for call: TEST-NEW-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Recording started: MOCK-NEW-RECORDING-SID for call: TEST-NEW-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Setting status 200 for POST /call/TEST-NEW-CALL-SID/start","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] Response for POST /call/TEST-NEW-CALL-SID/start - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Created test CallLog with ID: 16","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Created test recording to stop with ID: 13","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"[TEST] POST /api/call-recordings/call/TEST-RECORDING-CALL-SID/stop","service":"11wire-api","timestamp":"2025-07-29 12:22:17"}
{"level":"info","message":"Stopping recording for call: TEST-RECORDING-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 12:22:18"}
{"level":"info","message":"Recording stopped: TEST-RECORDING-SID-STOP for call: TEST-RECORDING-CALL-SID","service":"11wire-api","timestamp":"2025-07-29 12:22:18"}
{"level":"info","message":"[TEST] Setting status 200 for POST /call/TEST-RECORDING-CALL-SID/stop","service":"11wire-api","timestamp":"2025-07-29 12:22:18"}
{"level":"info","message":"[TEST] Response for POST /call/TEST-RECORDING-CALL-SID/stop - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:22:18"}
{"level":"error","message":"Failed to create recording to delete: insert or update on table \"call_recordings\" violates foreign key constraint \"call_recordings_call_sid_fkey\"","service":"11wire-api","timestamp":"2025-07-29 12:22:18"}
{"level":"warn","message":"Skipping delete recording test due to setup failure","service":"11wire-api","timestamp":"2025-07-29 12:22:18"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 12:26:07"}
{"level":"info","message":"Starting call details endpoint debug...","service":"11wire-api","timestamp":"2025-07-29 12:26:07"}
{"level":"error","message":"Error creating test data: relation \"call_logs\" does not exist","service":"11wire-api","timestamp":"2025-07-29 12:26:07"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.bulkDelete (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async CallLog.destroy (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async createTestData (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-details.js:117:5)\n    at async debugCallDetailsEndpoint (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-details.js:152:23)","service":"11wire-api","timestamp":"2025-07-29 12:26:07"}
{"level":"error","message":"Error in debug script: relation \"call_logs\" does not exist","service":"11wire-api","timestamp":"2025-07-29 12:26:07"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.bulkDelete (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async CallLog.destroy (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async createTestData (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-details.js:117:5)\n    at async debugCallDetailsEndpoint (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-details.js:152:23)","service":"11wire-api","timestamp":"2025-07-29 12:26:07"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 12:26:40"}
{"level":"info","message":"Starting call details endpoint debug...","service":"11wire-api","timestamp":"2025-07-29 12:26:40"}
{"level":"info","message":"Initializing database schema...","service":"11wire-api","timestamp":"2025-07-29 12:26:40"}
{"level":"error","message":"Error initializing schema: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-29 12:26:40"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async CallLog.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async initSchema (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-details.js:118:5)\n    at async debugCallDetailsEndpoint (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-details.js:168:5)","service":"11wire-api","timestamp":"2025-07-29 12:26:40"}
{"level":"error","message":"Error in debug script: relation \"contacts\" does not exist","service":"11wire-api","timestamp":"2025-07-29 12:26:40"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async CallLog.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async initSchema (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-details.js:118:5)\n    at async debugCallDetailsEndpoint (/Users/kremlin/Downloads/11Wire/backend/src/scripts/debug-call-details.js:168:5)","service":"11wire-api","timestamp":"2025-07-29 12:26:40"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Syncing models with no foreign keys first...","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"error","message":"Error synchronizing models: relation \"call_logs\" does not exist","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async CallRecording.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async syncDatabaseModels (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:23:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:89:7)","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Tables found in database: [\"campaigns\",\"agent_configs\"]","service":"11wire-api","timestamp":"2025-07-29 12:27:33"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-29 12:28:31"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-29 12:28:31"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-29 12:28:31"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-29 12:28:31"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"Syncing models in dependency order...","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"CallLog model synced","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"error","message":"Error synchronizing models: relation \"CallRecordings\" does not exist","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async Conversation.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async syncDatabaseModels (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:36:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:90:7)","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"Tables found in database: [\"agent_configs\",\"campaigns\",\"contacts\",\"call_logs\"]","service":"11wire-api","timestamp":"2025-07-29 12:28:32"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"Syncing models in dependency order...","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"CallLog model synced","service":"11wire-api","timestamp":"2025-07-29 12:29:43"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-29 12:29:44"}
{"level":"error","message":"Error synchronizing models: relation \"CallRecordings\" does not exist","service":"11wire-api","timestamp":"2025-07-29 12:29:44"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.createTable (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async Conversation.sync (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:942:7)\n    at async syncDatabaseModels (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:39:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:93:7)","service":"11wire-api","timestamp":"2025-07-29 12:29:44"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-29 12:29:44"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-29 12:29:44"}
{"level":"info","message":"Tables found in database: [\"agent_configs\",\"campaigns\",\"contacts\",\"call_logs\",\"call_recordings\"]","service":"11wire-api","timestamp":"2025-07-29 12:29:44"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Syncing models in dependency order...","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"CallLog model synced","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Conversation model synced","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"All models synchronized successfully with database!","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Models synchronized:","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"- Campaign (table: campaigns)","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"- Conversation (table: conversations)","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"- CallRecording (table: call_recordings)","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"- Contact (table: contacts)","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"- CallLog (table: call_logs)","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"- AgentConfig (table: agent_configs)","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"- CallQueue (table: call_queues)","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"info","message":"Tables found in database: [\"agent_configs\",\"campaigns\",\"contacts\",\"call_logs\",\"call_recordings\",\"conversations\"]","service":"11wire-api","timestamp":"2025-07-29 12:30:43"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 12:31:09"}
{"level":"info","message":"Starting call details endpoint debug...","service":"11wire-api","timestamp":"2025-07-29 12:31:09"}
{"level":"info","message":"Initializing database schema...","service":"11wire-api","timestamp":"2025-07-29 12:31:09"}
{"level":"info","message":"CallLog model synchronized with database","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"Created test call log with ID: 1","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"\n--- Testing getCallDetails with ID (direct from DB) ---","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"Directly testing getCallDetails with ID: 1","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"Found call log in database: {\n  \"id\": 1,\n  \"callSid\": \"TEST-DEBUG-CALL-SID-12345\",\n  \"contactId\": null,\n  \"campaignId\": null,\n  \"direction\": \"outbound\",\n  \"from\": \"+15551234567\",\n  \"to\": \"+15559876543\",\n  \"status\": \"completed\",\n  \"duration\": 60,\n  \"startTime\": \"2025-07-29T16:31:10.060Z\",\n  \"endTime\": \"2025-07-29T17:31:10.060Z\",\n  \"voiceAgentId\": null,\n  \"recordingUrl\": null,\n  \"transcription\": null,\n  \"callData\": null,\n  \"metrics\": {},\n  \"notes\": null,\n  \"createdAt\": \"2025-07-29T17:31:10.060Z\",\n  \"updatedAt\": \"2025-07-29T17:31:10.062Z\",\n  \"contact\": null,\n  \"campaign\": null\n}","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"\n--- Testing getCallDetails with SID (with SignalWire fallback) ---","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"Testing getCallDetails with SID (with fallback): TEST-DEBUG-CALL-SID-12345","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"Found call log in database by SID: {\n  \"id\": 1,\n  \"callSid\": \"TEST-DEBUG-CALL-SID-12345\",\n  \"contactId\": null,\n  \"campaignId\": null,\n  \"direction\": \"outbound\",\n  \"from\": \"+15551234567\",\n  \"to\": \"+15559876543\",\n  \"status\": \"completed\",\n  \"duration\": 60,\n  \"startTime\": \"2025-07-29T16:31:10.060Z\",\n  \"endTime\": \"2025-07-29T17:31:10.060Z\",\n  \"voiceAgentId\": null,\n  \"recordingUrl\": null,\n  \"transcription\": null,\n  \"callData\": null,\n  \"metrics\": {},\n  \"notes\": null,\n  \"createdAt\": \"2025-07-29T17:31:10.060Z\",\n  \"updatedAt\": \"2025-07-29T17:31:10.062Z\",\n  \"contact\": null,\n  \"campaign\": null\n}","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"\n--- Testing getCallDetails with non-existent ID ---","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"Directly testing getCallDetails with ID: 99999","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"error","message":"Call log with ID 99999 not found in database","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"\n--- Testing getCallDetails with non-existent SID ---","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"Testing getCallDetails with SID (with fallback): NON-EXISTENT-SID","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"Call not found in database, attempting SignalWire fallback","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"error","message":"Error fetching call details: Cannot read properties of undefined (reading 'calls')","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"error","message":"Error from SignalWire API: Cannot read properties of undefined (reading 'calls')","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"\nDEBUG RESULTS SUMMARY:","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"By ID direct: PASS","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"By SID with fallback: PASS","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"Non-existent ID: EXPECTED FAILURE","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"Non-existent SID: EXPECTED FAILURE","service":"11wire-api","timestamp":"2025-07-29 12:31:10"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 12:34:54"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 12:34:54"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig, CallQueue","service":"11wire-api","timestamp":"2025-07-29 12:34:54"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-29 12:34:54"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-29 12:34:54"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-29 12:34:54"}
{"level":"error","message":"Failed to clear CallLog data: update or delete on table \"call_logs\" violates foreign key constraint \"call_recordings_call_sid_fkey\" on table \"call_recordings\"","service":"11wire-api","timestamp":"2025-07-29 12:34:54"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:34:55"}
{"level":"error","message":"Failed to create test call log: Validation error","service":"11wire-api","timestamp":"2025-07-29 12:34:55"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at CallLog.save (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2305:12)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:182:25)","service":"11wire-api","timestamp":"2025-07-29 12:34:55"}
{"level":"info","message":"Created test call recording with ID: 15","service":"11wire-api","timestamp":"2025-07-29 12:34:55"}
{"level":"info","message":"[TEST] GET /api/calls/undefined","service":"11wire-api","timestamp":"2025-07-29 12:34:55"}
{"level":"error","message":"Error fetching call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-29 12:34:55"}
{"level":"error","message":"Error getting call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-29 12:34:55"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-29 12:34:55"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-29 12:34:55"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig, CallQueue","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"error","message":"Failed to clear CallLog data: update or delete on table \"call_logs\" violates foreign key constraint \"call_recordings_call_sid_fkey\" on table \"call_recordings\"","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"error","message":"Failed to create test call log: Validation error","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at CallLog.save (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2305:12)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:182:25)","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"info","message":"Created test call recording with ID: 16","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"info","message":"[TEST] GET /api/calls/undefined","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"error","message":"Error fetching call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"error","message":"Error getting call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"info","message":"[TEST] Setting status 500 for GET /undefined","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 500, Body: {\"success\":false,\"error\":\"Failed to get call details\"}","service":"11wire-api","timestamp":"2025-07-29 12:35:35"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig, CallQueue","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"error","message":"Failed to clear CallLog data: update or delete on table \"call_logs\" violates foreign key constraint \"call_recordings_call_sid_fkey\" on table \"call_recordings\"","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"error","message":"Failed to create test call log: Validation error","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"error","message":"Error: \n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/postgres/query.js:76:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PostgresQueryInterface.insert (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/dialects/abstract/query-interface.js:795:21)\n    at CallLog.save (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:4154:35)\n    at Function.create (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/src/model.js:2305:12)\n    at Object.<anonymous> (/Users/kremlin/Downloads/11Wire/backend/src/tests/integration/api-endpoints.test.js:182:25)","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"info","message":"Created test call recording with ID: 17","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"info","message":"[TEST] GET /api/calls/undefined","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"error","message":"Error fetching call details: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"error","message":"SignalWire API error: voiceClient.calls is not a function","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"info","message":"[TEST] Setting status 404 for GET /undefined","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"error","message":"[TEST] Error response for GET /undefined - Status: 404, Body: {\"success\":false,\"error\":\"Call not found in database or SignalWire API\"}","service":"11wire-api","timestamp":"2025-07-29 12:38:21"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 12:40:15"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 12:40:15"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig, CallQueue","service":"11wire-api","timestamp":"2025-07-29 12:40:15"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-29 12:40:15"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-29 12:40:15"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-29 12:40:15"}
{"level":"error","message":"Failed to clear CallLog data: update or delete on table \"call_logs\" violates foreign key constraint \"call_recordings_call_sid_fkey\" on table \"call_recordings\"","service":"11wire-api","timestamp":"2025-07-29 12:40:15"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:40:16"}
{"level":"info","message":"Using existing call log with ID: 10","service":"11wire-api","timestamp":"2025-07-29 12:40:16"}
{"level":"info","message":"Test will use call log ID: 10","service":"11wire-api","timestamp":"2025-07-29 12:40:16"}
{"level":"info","message":"Created test call recording with ID: 18","service":"11wire-api","timestamp":"2025-07-29 12:40:16"}
{"level":"info","message":"[TEST] GET /api/calls/10","service":"11wire-api","timestamp":"2025-07-29 12:40:16"}
{"level":"info","message":"[TEST] Setting status 200 for GET /10","service":"11wire-api","timestamp":"2025-07-29 12:40:16"}
{"level":"info","message":"[TEST] Response for GET /10 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:40:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"Connection to the database has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"Available models: Campaign, Conversation, CallRecording, Contact, CallLog, AgentConfig, CallQueue","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"agent_configs table exists: true","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"Cleared Contact test data","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"Cleared AgentConfig test data","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"error","message":"Failed to clear CallLog data: update or delete on table \"call_logs\" violates foreign key constraint \"call_recordings_call_sid_fkey\" on table \"call_recordings\"","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"Using existing call log with ID: 10","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"Test will use call log ID: 10","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"Created test call recording with ID: 19","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"[TEST] GET /api/calls/10","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"[TEST] Setting status 200 for GET /10","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"[TEST] Response for GET /10 - Status: 200","service":"11wire-api","timestamp":"2025-07-29 12:41:24"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 12:44:28"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-29 12:44:28"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-29 12:44:29"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-29 12:44:29"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-29 12:44:29"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-29 12:44:30"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-29 12:44:30"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-29 12:44:30"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-29 12:44:30"}
{"level":"error","message":"Error starting campaign scheduler: Campaign test-campaign not found","service":"11wire-api","timestamp":"2025-07-29 12:44:31"}
{"level":"error","message":"Error starting campaign test-campaign: Campaign test-campaign not found","service":"11wire-api","timestamp":"2025-07-29 12:44:31"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-29 12:44:31"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18887593091","service":"11wire-api","timestamp":"2025-07-29 12:44:31"}
{"level":"info","message":"Using phone number ID: 8f865ef1-e303-48d9-bfe3-d3e5f0bbd828","service":"11wire-api","timestamp":"2025-07-29 12:44:31"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18887593091\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"8f865ef1-e303-48d9-bfe3-d3e5f0bbd828\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-29 12:44:31"}
{"level":"info","message":"Creating test data for integration tests...","service":"11wire-api","timestamp":"2025-07-29 12:54:50"}
{"level":"info","message":"Clearing existing test data...","service":"11wire-api","timestamp":"2025-07-29 12:54:50"}
{"level":"error","message":"Error creating test data: update or delete on table \"call_logs\" violates foreign key constraint \"call_recordings_call_sid_fkey\" on table \"call_recordings\"","service":"11wire-api","timestamp":"2025-07-29 12:54:50"}
{"level":"error","message":"Error\n    at Query.run (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.bulkDelete (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async CallLog.destroy (/Users/kremlin/Downloads/11Wire/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async createTestData (/Users/kremlin/Downloads/11Wire/backend/src/scripts/create-test-data.js:18:5)","service":"11wire-api","timestamp":"2025-07-29 12:54:50"}
{"level":"info","message":"Database connection closed","service":"11wire-api","timestamp":"2025-07-29 12:54:50"}
{"level":"info","message":"Creating test data for integration tests...","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Clearing existing test data...","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Cleared call_recordings table","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Cleared call_logs table","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Cleared contacts table","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Cleared agent_configs table","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Cleared test campaigns","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Creating test campaign...","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Created test campaign with ID: test-campaign-id","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Creating telephony test campaign...","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Created telephony test campaign with ID: test-campaign","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Creating test agent...","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Created test agent with ID: test-agent-id","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Creating test contact...","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Created test contact with ID: 13","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Creating test call log...","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Created test call log with ID: 20","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Test data creation completed","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"Database connection closed","service":"11wire-api","timestamp":"2025-07-29 12:56:02"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-29 12:56:13"}
{"level":"warn","message":"getRecentCalls: Real implementation with Realtime API not available, returning mock data","service":"11wire-api","timestamp":"2025-07-29 12:56:13"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-29 12:56:14"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-29 12:56:14"}
{"level":"info","message":"Requesting TTS: Voice ID: 9BWtsMINqrJLrRacOk9x, Model: eleven_turbo_v2, Text length: 54","service":"11wire-api","timestamp":"2025-07-29 12:56:14"}
{"level":"info","message":"Successfully generated speech for text (54 chars) with voice 9BWtsMINqrJLrRacOk9x","service":"11wire-api","timestamp":"2025-07-29 12:56:15"}
{"level":"info","message":"Audio saved to /Users/kremlin/Downloads/11Wire/backend/uploads/test-tts.mp3","service":"11wire-api","timestamp":"2025-07-29 12:56:15"}
{"level":"info","message":"AMD result for call test-call-human: human","service":"11wire-api","timestamp":"2025-07-29 12:56:15"}
{"level":"info","message":"AMD result for call test-call-machine: machine_end_beep","service":"11wire-api","timestamp":"2025-07-29 12:56:15"}
{"level":"info","message":"Started campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-29 12:56:16"}
{"level":"info","message":"Paused campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-29 12:56:18"}
{"level":"info","message":"Resumed campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-29 12:56:18"}
{"level":"info","message":"Stopped campaign scheduler for campaign test-campaign","service":"11wire-api","timestamp":"2025-07-29 12:56:18"}
{"level":"info","message":"Retrieved 24 voices from ElevenLabs","service":"11wire-api","timestamp":"2025-07-29 12:56:18"}
{"level":"info","message":"Initiating outbound call to +19293041562 from +18888524213","service":"11wire-api","timestamp":"2025-07-29 12:56:18"}
{"level":"info","message":"Using phone number ID: c3a44c26-4ea4-4393-8fee-9bb687346590","service":"11wire-api","timestamp":"2025-07-29 12:56:18"}
{"level":"info","message":"SignalWire call options: {\n  \"from\": \"+18888524213\",\n  \"to\": \"+19293041562\",\n  \"timeout\": 60,\n  \"fromPhoneNumberId\": \"c3a44c26-4ea4-4393-8fee-9bb687346590\",\n  \"media\": {\n    \"url\": \"http://localhost:4001/api/call/webhook\"\n  },\n  \"listen\": {\n    \"events\": [\n      \"initiated\",\n      \"ringing\",\n      \"answered\",\n      \"completed\"\n    ]\n  },\n  \"metadata\": {\n    \"voiceAgentId\": \"9BWtsMINqrJLrRacOk9x\",\n    \"scriptId\": null,\n    \"campaignId\": \"test-campaign\",\n    \"callType\": \"outbound\"\n  }\n}","service":"11wire-api","timestamp":"2025-07-29 12:56:18"}
{"level":"info","message":"Retrieved 2 conversations from database","service":"11wire-api","timestamp":"2025-07-29 20:18:20"}
{"level":"info","message":"Retrieved 1 conversations from database","service":"11wire-api","timestamp":"2025-07-29 20:18:20"}
{"level":"error","message":"Error retrieving conversations: Database error","service":"11wire-api","timestamp":"2025-07-29 20:18:20"}
{"level":"info","message":"Retrieved conversation 1 from database","service":"11wire-api","timestamp":"2025-07-29 20:18:20"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 20:18:20"}
{"level":"error","message":"Error retrieving conversation: Database error","service":"11wire-api","timestamp":"2025-07-29 20:18:20"}
{"level":"info","message":"Updated metadata for conversation 1","service":"11wire-api","timestamp":"2025-07-29 20:18:20"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 20:18:20"}
{"level":"info","message":"Retrieved 2 conversations from database","service":"11wire-api","timestamp":"2025-07-29 21:24:46"}
{"level":"info","message":"Retrieved 1 conversations from database","service":"11wire-api","timestamp":"2025-07-29 21:24:46"}
{"level":"error","message":"Error retrieving conversations: Database error","service":"11wire-api","timestamp":"2025-07-29 21:24:46"}
{"level":"info","message":"Retrieved conversation 1 from database","service":"11wire-api","timestamp":"2025-07-29 21:24:46"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 21:24:46"}
{"level":"error","message":"Error retrieving conversation: Database error","service":"11wire-api","timestamp":"2025-07-29 21:24:46"}
{"level":"info","message":"Updated metadata for conversation 1","service":"11wire-api","timestamp":"2025-07-29 21:24:46"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 21:24:46"}
{"level":"info","message":"Retrieved 2 conversations from database","service":"11wire-api","timestamp":"2025-07-29 21:31:54"}
{"level":"info","message":"Retrieved 1 conversations from database","service":"11wire-api","timestamp":"2025-07-29 21:31:54"}
{"level":"error","message":"Error retrieving conversations: Database error","service":"11wire-api","timestamp":"2025-07-29 21:31:54"}
{"level":"info","message":"Retrieved conversation 1 from database","service":"11wire-api","timestamp":"2025-07-29 21:31:54"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 21:31:54"}
{"level":"error","message":"Error retrieving conversation: Database error","service":"11wire-api","timestamp":"2025-07-29 21:31:54"}
{"level":"info","message":"Updated metadata for conversation 1","service":"11wire-api","timestamp":"2025-07-29 21:31:54"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 21:31:54"}
{"level":"info","message":"Retrieved 2 conversations from database","service":"11wire-api","timestamp":"2025-07-29 21:35:08"}
{"level":"info","message":"Retrieved 1 conversations from database","service":"11wire-api","timestamp":"2025-07-29 21:35:08"}
{"level":"error","message":"Error retrieving conversations: Database error","service":"11wire-api","timestamp":"2025-07-29 21:35:08"}
{"level":"info","message":"Retrieved conversation 1 from database","service":"11wire-api","timestamp":"2025-07-29 21:35:08"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 21:35:08"}
{"level":"error","message":"Error retrieving conversation: Database error","service":"11wire-api","timestamp":"2025-07-29 21:35:08"}
{"level":"info","message":"Updated metadata for conversation 1","service":"11wire-api","timestamp":"2025-07-29 21:35:08"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 21:35:08"}
{"level":"info","message":"Retrieved 2 conversations from database","service":"11wire-api","timestamp":"2025-07-29 21:36:36"}
{"level":"info","message":"Retrieved 1 conversations from database","service":"11wire-api","timestamp":"2025-07-29 21:36:36"}
{"level":"error","message":"Error retrieving conversations: Database error","service":"11wire-api","timestamp":"2025-07-29 21:36:36"}
{"level":"info","message":"Retrieved conversation 1 from database","service":"11wire-api","timestamp":"2025-07-29 21:36:36"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 21:36:36"}
{"level":"error","message":"Error retrieving conversation: Database error","service":"11wire-api","timestamp":"2025-07-29 21:36:36"}
{"level":"info","message":"Updated metadata for conversation 1","service":"11wire-api","timestamp":"2025-07-29 21:36:36"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 21:36:36"}
{"level":"info","message":"Retrieved 2 conversations from database","service":"11wire-api","timestamp":"2025-07-29 21:37:44"}
{"level":"info","message":"Retrieved 1 conversations from database","service":"11wire-api","timestamp":"2025-07-29 21:37:44"}
{"level":"error","message":"Error retrieving conversations: Database error","service":"11wire-api","timestamp":"2025-07-29 21:37:44"}
{"level":"info","message":"Retrieved conversation 1 from database","service":"11wire-api","timestamp":"2025-07-29 21:37:44"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 21:37:45"}
{"level":"error","message":"Error retrieving conversation: Database error","service":"11wire-api","timestamp":"2025-07-29 21:37:45"}
{"level":"info","message":"Updated metadata for conversation 1","service":"11wire-api","timestamp":"2025-07-29 21:37:45"}
{"level":"warn","message":"Conversation with ID 999 not found","service":"11wire-api","timestamp":"2025-07-29 21:37:45"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:15:55"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:15:56"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"error","message":"Database initialization error: column \"transferStatus\" does not exist","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:15:56"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:15:56"}
{"level":"error","message":"Database initialization error: column \"transferStatus\" does not exist","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:15:57"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:15:56"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:15:56"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:15:56"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"error","message":"Database initialization error: column \"transferStatus\" does not exist","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"error","message":"Database initialization error: column \"transferStatus\" does not exist","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:15:56"}
{"level":"error","message":"Database initialization error: column \"transferStatus\" does not exist","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:15:56"}
{"level":"error","message":"Database initialization error: column \"transferStatus\" does not exist","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"error","message":"Database initialization error: column \"transferStatus\" does not exist","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"error","message":"Database initialization error: column \"transferStatus\" does not exist","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"error","message":"Database initialization error: column \"transferStatus\" does not exist","service":"11wire-api","timestamp":"2025-07-29 23:15:58"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:17:30"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:17:31"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:17:31"}
{"level":"error","message":"Database initialization error: column \"transferStatus\" does not exist","service":"11wire-api","timestamp":"2025-07-29 23:17:31"}
{"level":"error","message":"Failed to initialize SignalWire Voice client: Missing `project`","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"Database models synchronized","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"Seeding initial campaign data...","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"Campaign seed completed","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"All seeders completed successfully","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-29 23:36:31"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753850371500","service":"11wire-api","timestamp":"2025-07-29 23:39:31"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753850371500","service":"11wire-api","timestamp":"2025-07-29 23:39:32"}
{"level":"error","message":"ElevenLabs STT WebSocket error: Unexpected server response: 403","service":"11wire-api","timestamp":"2025-07-29 23:39:32"}
{"level":"info","message":"ElevenLabs STT WebSocket closed for call TEST_CALL_1753850371500","service":"11wire-api","timestamp":"2025-07-29 23:39:32"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753850371500","service":"11wire-api","timestamp":"2025-07-29 23:39:33"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753850371500","service":"11wire-api","timestamp":"2025-07-29 23:39:36"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753850371500 closed and removed","service":"11wire-api","timestamp":"2025-07-29 23:39:36"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753850371500","service":"11wire-api","timestamp":"2025-07-29 23:39:36"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753850371500","service":"11wire-api","timestamp":"2025-07-29 23:39:36"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 11:08:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 11:08:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 11:08:19"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 11:08:20"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 12:21:15"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 12:21:16"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 12:21:16"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 12:21:16"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 12:21:16"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 12:21:16"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 12:21:16"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 12:21:16"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 12:21:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 12:37:34"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 12:37:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 12:37:35"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 12:37:35"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 12:37:35"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 12:37:35"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 12:37:35"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 12:37:35"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 12:37:35"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-30 12:44:21"}
{"level":"info","message":"Received ElevenLabs webhook: undefined","service":"11wire-api","timestamp":"2025-07-30 12:44:21"}
{"level":"warn","message":"Unknown webhook type: undefined","service":"11wire-api","timestamp":"2025-07-30 12:44:21"}
{"level":"info","message":"::1 - - [30/Jul/2025:17:44:21 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 101 \"-\" \"ElevenLabs-Webhook/1.0\"","service":"11wire-api","timestamp":"2025-07-30 12:44:21"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753906549836","service":"11wire-api","timestamp":"2025-07-30 15:15:49"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753906549836","service":"11wire-api","timestamp":"2025-07-30 15:15:50"}
{"level":"error","message":"ElevenLabs STT WebSocket error: Unexpected server response: 403","service":"11wire-api","timestamp":"2025-07-30 15:15:51"}
{"level":"info","message":"ElevenLabs STT WebSocket closed for call TEST_CALL_1753906549836","service":"11wire-api","timestamp":"2025-07-30 15:15:51"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753906549836","service":"11wire-api","timestamp":"2025-07-30 15:15:51"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753906549836","service":"11wire-api","timestamp":"2025-07-30 15:15:55"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753906549836 closed and removed","service":"11wire-api","timestamp":"2025-07-30 15:15:55"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753906549836","service":"11wire-api","timestamp":"2025-07-30 15:15:55"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753906549836","service":"11wire-api","timestamp":"2025-07-30 15:15:55"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753906607220","service":"11wire-api","timestamp":"2025-07-30 15:16:47"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753906607220","service":"11wire-api","timestamp":"2025-07-30 15:16:48"}
{"level":"error","message":"ElevenLabs STT WebSocket error: Unexpected server response: 403","service":"11wire-api","timestamp":"2025-07-30 15:16:48"}
{"level":"info","message":"ElevenLabs STT WebSocket closed for call TEST_CALL_1753906607220","service":"11wire-api","timestamp":"2025-07-30 15:16:48"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753906607220","service":"11wire-api","timestamp":"2025-07-30 15:16:48"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753906607220","service":"11wire-api","timestamp":"2025-07-30 15:16:52"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753906607220 closed and removed","service":"11wire-api","timestamp":"2025-07-30 15:16:52"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753906607220","service":"11wire-api","timestamp":"2025-07-30 15:16:52"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753906607220","service":"11wire-api","timestamp":"2025-07-30 15:16:52"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:22"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:23"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:25"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:25"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:23"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:25"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:25"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:25"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:25"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:23"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:23"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:24"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:24"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:24"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:24"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:24"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:24"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:24"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:24"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:24"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:35:26"}
{"level":"error","message":"Database initialization error: Cannot read properties of null (reading '1')","service":"11wire-api","timestamp":"2025-07-30 15:35:27"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 15:35:27"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 15:35:27"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 15:35:27"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 15:35:27"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 15:35:27"}
{"level":"error","message":"Database initialization error: cache lookup failed for attribute 1 of relation 142544","service":"11wire-api","timestamp":"2025-07-30 15:35:27"}
{"level":"error","message":"Database initialization error: cache lookup failed for attribute 1 of relation 142552","service":"11wire-api","timestamp":"2025-07-30 15:35:27"}
{"level":"error","message":"Database initialization error: Cannot read properties of null (reading '1')","service":"11wire-api","timestamp":"2025-07-30 15:35:28"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:35:28"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:35:28"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:35:28"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:35:28"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:35:28"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:35:28"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:35:28"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:35:29"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:35:29"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:35:29"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:31"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:33"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:33"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:36:34"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 15:36:34"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 15:36:34"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 15:36:34"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 15:36:34"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 15:36:34"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:34"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:34"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:32"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:33"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:33"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:36:36"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:36:36"}
{"level":"error","message":"Database initialization error: cache lookup failed for attribute 1 of relation 142963","service":"11wire-api","timestamp":"2025-07-30 15:36:37"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:36:37"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:36:37"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:36:37"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:36:37"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:36:37"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:36:38"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:36:38"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:36:38"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:36:39"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:36:39"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:36:39"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:36:39"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753907805613","service":"11wire-api","timestamp":"2025-07-30 15:36:45"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753907805613","service":"11wire-api","timestamp":"2025-07-30 15:36:46"}
{"level":"info","message":"Attempting STT WebSocket connection with URL format: wss://api.elevenlabs.io/v1/speech-to-text/whisper-enhanced/real-time","service":"11wire-api","timestamp":"2025-07-30 15:36:46"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753907805613","service":"11wire-api","timestamp":"2025-07-30 15:36:47"}
{"level":"error","message":"ElevenLabs STT WebSocket error: Unexpected server response: 403","service":"11wire-api","timestamp":"2025-07-30 15:36:47"}
{"level":"error","message":"ElevenLabs STT 403 error: This likely indicates an issue with API permissions.","service":"11wire-api","timestamp":"2025-07-30 15:36:47"}
{"level":"error","message":"Ensure your ElevenLabs subscription includes access to real-time Speech-to-Text WebSocket API.","service":"11wire-api","timestamp":"2025-07-30 15:36:47"}
{"level":"error","message":"Using API key starting with: sk_5d...","service":"11wire-api","timestamp":"2025-07-30 15:36:47"}
{"level":"info","message":"ElevenLabs STT WebSocket closed for call TEST_CALL_1753907805613","service":"11wire-api","timestamp":"2025-07-30 15:36:47"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753907805613","service":"11wire-api","timestamp":"2025-07-30 15:36:50"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753907805613 closed and removed","service":"11wire-api","timestamp":"2025-07-30 15:36:50"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753907805613","service":"11wire-api","timestamp":"2025-07-30 15:36:50"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753907805613","service":"11wire-api","timestamp":"2025-07-30 15:36:50"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753908041003","service":"11wire-api","timestamp":"2025-07-30 15:40:41"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753908041003","service":"11wire-api","timestamp":"2025-07-30 15:40:42"}
{"level":"info","message":"Attempting STT WebSocket connection with URL format: wss://api.elevenlabs.io/v1/speech-to-text/whisper-enhanced/real-time","service":"11wire-api","timestamp":"2025-07-30 15:40:42"}
{"level":"error","message":"ElevenLabs STT WebSocket error: Unexpected server response: 403","service":"11wire-api","timestamp":"2025-07-30 15:40:42"}
{"level":"error","message":"ElevenLabs STT 403 error: This likely indicates an issue with API permissions.","service":"11wire-api","timestamp":"2025-07-30 15:40:42"}
{"level":"error","message":"Ensure your ElevenLabs subscription includes access to real-time Speech-to-Text WebSocket API.","service":"11wire-api","timestamp":"2025-07-30 15:40:42"}
{"level":"error","message":"Using API key starting with: sk_5d...","service":"11wire-api","timestamp":"2025-07-30 15:40:42"}
{"level":"info","message":"ElevenLabs STT WebSocket closed for call TEST_CALL_1753908041003","service":"11wire-api","timestamp":"2025-07-30 15:40:42"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753908041003","service":"11wire-api","timestamp":"2025-07-30 15:40:42"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753908041003","service":"11wire-api","timestamp":"2025-07-30 15:40:46"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753908041003 closed and removed","service":"11wire-api","timestamp":"2025-07-30 15:40:46"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753908041003","service":"11wire-api","timestamp":"2025-07-30 15:40:46"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753908041003","service":"11wire-api","timestamp":"2025-07-30 15:40:46"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:38"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:39"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:46:41"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 15:46:41"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 15:46:41"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 15:46:41"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 15:46:41"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 15:46:41"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:41"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:41"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:41"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:41"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:40"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:46:42"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:46:43"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:46:43"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:46:43"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:46:43"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:46:43"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:46:43"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:46:43"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:46:44"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:46:44"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:46:44"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:46:45"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:46:45"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:46:45"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:03"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:05"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:05"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:04"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:04"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:04"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:04"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:04"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:05"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:05"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:05"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:04"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:05"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:05"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:05"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:05"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:06"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"error","message":"Database initialization error: Cannot read properties of null (reading '1')","service":"11wire-api","timestamp":"2025-07-30 15:47:07"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:08"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:08"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:08"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:08"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:08"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:08"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:08"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:09"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:09"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:47:09"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:47:09"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:47:09"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:50"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:50"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:53"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:53"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:53"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:53"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:51"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:50"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:51"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:51"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:51"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:51"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:51"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:52"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:52"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:51"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:52"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:52"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:47:54"}
{"level":"error","message":"Database initialization error: cache lookup failed for attribute 1 of relation 144804","service":"11wire-api","timestamp":"2025-07-30 15:47:55"}
{"level":"error","message":"Database initialization error: cache lookup failed for attribute 1 of relation 144804","service":"11wire-api","timestamp":"2025-07-30 15:47:55"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:56"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:56"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:56"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:56"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:56"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:56"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:47:56"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:47:56"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:47:57"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:47:57"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:15"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:15"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:18"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:18"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:18"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:18"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:16"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:19"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:50:20"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:50:20"}
{"level":"error","message":"Database initialization error: cache lookup failed for attribute 1 of relation 145858","service":"11wire-api","timestamp":"2025-07-30 15:50:26"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 15:50:26"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 15:50:26"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 15:50:26"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 15:50:26"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 15:50:26"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:50:27"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:50:29"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:51"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:53"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:53"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:52"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:52:54"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 15:52:54"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 15:52:54"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 15:52:54"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 15:52:54"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 15:52:54"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:52"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:54"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:52"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:54"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:52"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:52"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:52"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:52"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:53"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:52"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:53"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:53"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:53"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:53"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:52:55"}
{"level":"error","message":"Database initialization error: Cannot read properties of null (reading '1')","service":"11wire-api","timestamp":"2025-07-30 15:52:56"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:52:56"}
{"level":"error","message":"Database initialization error: cache lookup failed for attribute 1 of relation 146335","service":"11wire-api","timestamp":"2025-07-30 15:52:56"}
{"level":"error","message":"Database initialization error: Cannot read properties of null (reading '1')","service":"11wire-api","timestamp":"2025-07-30 15:52:56"}
{"level":"error","message":"Database initialization error: Cannot read properties of null (reading '1')","service":"11wire-api","timestamp":"2025-07-30 15:52:56"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:52:57"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:52:57"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:52:57"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:52:57"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:52:57"}
{"level":"error","message":"Database initialization error: Unknown constraint error","service":"11wire-api","timestamp":"2025-07-30 15:52:57"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:52:57"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:52:57"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:55:05"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:55:05"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:55:05"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:55:05"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:56:18"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:56:19"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:56:19"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:56:19"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 15:56:19"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 15:56:19"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 15:56:19"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 15:56:19"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 15:56:19"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 15:59:47"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 15:59:48"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 15:59:48"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 15:59:48"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 15:59:48"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 15:59:48"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 15:59:48"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 15:59:48"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 15:59:48"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753909241487","service":"11wire-api","timestamp":"2025-07-30 16:00:41"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753909241487","service":"11wire-api","timestamp":"2025-07-30 16:00:42"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753909241487","service":"11wire-api","timestamp":"2025-07-30 16:00:42"}
{"level":"error","message":"Error initializing async STT: Cannot find module '../utils/event-emitter'\nRequire stack:\n- /Users/kremlin/Downloads/11Wire/backend/src/services/audio-bridge.service.js\n- /Users/kremlin/Downloads/11Wire/backend/src/services/websocket-server.service.js\n- /Users/kremlin/Downloads/11Wire/backend/src/controllers/call.controller.js\n- /Users/kremlin/Downloads/11Wire/backend/src/routes/call.routes.js\n- /Users/kremlin/Downloads/11Wire/backend/src/routes/index.js\n- /Users/kremlin/Downloads/11Wire/backend/src/server.js","service":"11wire-api","timestamp":"2025-07-30 16:00:42"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753909241487","service":"11wire-api","timestamp":"2025-07-30 16:00:43"}
{"level":"info","message":"Submitting 1 audio chunks (2560 bytes) for async STT","service":"11wire-api","timestamp":"2025-07-30 16:00:43"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753909241487 with format pcm_mulaw","service":"11wire-api","timestamp":"2025-07-30 16:00:43"}
{"level":"error","message":"Error submitting async STT request: Webhook URL is required for async STT","service":"11wire-api","timestamp":"2025-07-30 16:00:43"}
{"level":"error","message":"Error submitting async STT: Webhook URL is required for async STT","service":"11wire-api","timestamp":"2025-07-30 16:00:43"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753909241487","service":"11wire-api","timestamp":"2025-07-30 16:00:46"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753909241487 closed and removed","service":"11wire-api","timestamp":"2025-07-30 16:00:46"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753909241487","service":"11wire-api","timestamp":"2025-07-30 16:00:46"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753909241487","service":"11wire-api","timestamp":"2025-07-30 16:00:46"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 16:06:46"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 16:06:46"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 16:06:46"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 16:06:46"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753909758619","service":"11wire-api","timestamp":"2025-07-30 16:09:18"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753909758619","service":"11wire-api","timestamp":"2025-07-30 16:09:19"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753909758619","service":"11wire-api","timestamp":"2025-07-30 16:09:19"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753909758619","service":"11wire-api","timestamp":"2025-07-30 16:09:19"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753909758619","service":"11wire-api","timestamp":"2025-07-30 16:09:20"}
{"level":"info","message":"Submitting 1 audio chunks (2560 bytes) for async STT","service":"11wire-api","timestamp":"2025-07-30 16:09:20"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753909758619 with format pcm_mulaw","service":"11wire-api","timestamp":"2025-07-30 16:09:20"}
{"level":"error","message":"Error submitting async STT request: Webhook URL is required for async STT","service":"11wire-api","timestamp":"2025-07-30 16:09:20"}
{"level":"error","message":"Error submitting async STT: Webhook URL is required for async STT","service":"11wire-api","timestamp":"2025-07-30 16:09:20"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753909758619","service":"11wire-api","timestamp":"2025-07-30 16:09:23"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753909758619 closed and removed","service":"11wire-api","timestamp":"2025-07-30 16:09:23"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753909758619","service":"11wire-api","timestamp":"2025-07-30 16:09:23"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753909758619","service":"11wire-api","timestamp":"2025-07-30 16:09:23"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 16:10:10"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 16:10:10"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 16:10:10"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 16:10:11"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 16:11:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 16:11:43"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 16:11:43"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 16:11:43"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753909924964","service":"11wire-api","timestamp":"2025-07-30 16:12:04"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753909924964","service":"11wire-api","timestamp":"2025-07-30 16:12:05"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753909924964","service":"11wire-api","timestamp":"2025-07-30 16:12:06"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753909924964","service":"11wire-api","timestamp":"2025-07-30 16:12:06"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753909924964","service":"11wire-api","timestamp":"2025-07-30 16:12:06"}
{"level":"info","message":"Submitting 1 audio chunks (2560 bytes) for async STT","service":"11wire-api","timestamp":"2025-07-30 16:12:07"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753909924964 with format pcm_mulaw","service":"11wire-api","timestamp":"2025-07-30 16:12:07"}
{"level":"error","message":"Error submitting async STT request: Webhook URL is required for async STT","service":"11wire-api","timestamp":"2025-07-30 16:12:07"}
{"level":"error","message":"Error submitting async STT: Webhook URL is required for async STT","service":"11wire-api","timestamp":"2025-07-30 16:12:07"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753909924964","service":"11wire-api","timestamp":"2025-07-30 16:12:10"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753909924964 closed and removed","service":"11wire-api","timestamp":"2025-07-30 16:12:10"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753909924964","service":"11wire-api","timestamp":"2025-07-30 16:12:10"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753909924964","service":"11wire-api","timestamp":"2025-07-30 16:12:10"}
{"level":"info","message":"::1 - - [30/Jul/2025:21:15:53 +0000] \"HEAD /api/webhooks/elevenlabs HTTP/1.1\" 404 163 \"-\" \"curl/8.7.1\"","service":"11wire-api","timestamp":"2025-07-30 16:15:53"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 16:21:38"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 16:21:38"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 16:21:38"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 16:21:39"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 16:21:39"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 16:21:39"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 16:21:39"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 16:21:39"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 16:21:39"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 16:24:58"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 16:24:58"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 16:24:58"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 16:24:59"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 16:24:59"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 16:24:59"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 16:24:59"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 16:24:59"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 16:24:59"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 16:25:53"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 16:25:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 16:25:54"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 16:25:54"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 16:25:54"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 16:25:54"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 16:25:54"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 16:25:54"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 16:25:54"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 16:27:27"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 16:27:28"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 16:27:28"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 16:27:28"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 16:27:28"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 16:27:28"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 16:27:28"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 16:27:28"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 16:27:28"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 20:25:59"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 20:25:59"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 20:25:59"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 20:26:00"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 20:26:00"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 20:26:00"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 20:26:00"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 20:26:00"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 20:26:00"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 20:36:46"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 20:36:47"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 20:36:47"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 20:36:47"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 20:36:47"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 20:36:47"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 20:36:47"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 20:36:47"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 20:36:47"}
{"level":"info","message":"Submitting async STT request for call undefined","service":"11wire-api","timestamp":"2025-07-30 21:07:49"}
{"level":"error","message":"Error submitting async STT request: Request failed with status code 404","service":"11wire-api","timestamp":"2025-07-30 21:07:50"}
{"level":"info","message":"Submitting async STT request for call undefined","service":"11wire-api","timestamp":"2025-07-30 21:20:08"}
{"level":"error","message":"Error submitting async STT request: Request failed with status code 422","service":"11wire-api","timestamp":"2025-07-30 21:20:09"}
{"level":"info","message":"Submitting async STT request for call undefined","service":"11wire-api","timestamp":"2025-07-30 21:23:05"}
{"level":"error","message":"Error submitting async STT request: Request failed with status code 400","service":"11wire-api","timestamp":"2025-07-30 21:23:05"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 22:01:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 22:01:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 22:01:42"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 22:01:43"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 22:01:43"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 22:01:43"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 22:01:43"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 22:01:43"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 22:01:43"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:51"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:52"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:52"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:52"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:53"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:54"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753930971764:\n - Format: pcm_mulaw\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-30 22:02:54"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:54"}
{"level":"error","message":"Error submitting async STT request: Request failed with status code 400","service":"11wire-api","timestamp":"2025-07-30 22:02:54"}
{"level":"error","message":"Error submitting async STT for call TEST_CALL_1753930971764: Request failed with status code 400","service":"11wire-api","timestamp":"2025-07-30 22:02:54"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:55"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:57"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753930971764 closed and removed","service":"11wire-api","timestamp":"2025-07-30 22:02:57"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:57"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753930971764","service":"11wire-api","timestamp":"2025-07-30 22:02:57"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 22:06:54"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 22:06:54"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 22:06:54"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 22:06:55"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 22:06:55"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 22:06:55"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 22:06:55"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 22:06:55"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 22:06:55"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:44"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:45"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:45"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:45"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:46"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:47"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753931264778:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-30 22:07:47"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-30 22:07:47"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:47"}
{"level":"error","message":"Error submitting async STT request: Request failed with status code 400","service":"11wire-api","timestamp":"2025-07-30 22:07:48"}
{"level":"error","message":"Error submitting async STT for call TEST_CALL_1753931264778: Request failed with status code 400","service":"11wire-api","timestamp":"2025-07-30 22:07:48"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:49"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:50"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753931264778 closed and removed","service":"11wire-api","timestamp":"2025-07-30 22:07:50"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:50"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753931264778","service":"11wire-api","timestamp":"2025-07-30 22:07:50"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 22:14:51"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 22:14:52"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 22:14:52"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 22:14:53"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 22:14:53"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 22:14:53"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 22:14:53"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 22:14:53"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 22:14:53"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:38"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:39"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:39"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:39"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:40"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:40"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753931738503:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-30 22:15:40"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-30 22:15:40"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:40"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-30 22:15:40"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-30 22:15:40"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:15:40"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:15:40"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:15:40"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:42"}
{"level":"info","message":"Async STT request submitted, ID: unknown","service":"11wire-api","timestamp":"2025-07-30 22:15:43"}
{"level":"warn","message":"Async STT submission for call TEST_CALL_1753931738503 returned without request_id","service":"11wire-api","timestamp":"2025-07-30 22:15:43"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:44"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753931738503 closed and removed","service":"11wire-api","timestamp":"2025-07-30 22:15:44"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:44"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753931738503","service":"11wire-api","timestamp":"2025-07-30 22:15:44"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:33"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:34"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:34"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:34"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:35"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:35"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753932033698:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-30 22:20:35"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-30 22:20:35"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:35"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-30 22:20:35"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-30 22:20:35"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:20:35"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:20:35"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:20:35"}
{"level":"info","message":"Async STT request submitted, ID: unknown","service":"11wire-api","timestamp":"2025-07-30 22:20:37"}
{"level":"warn","message":"Async STT submission for call TEST_CALL_1753932033698 returned without request_id","service":"11wire-api","timestamp":"2025-07-30 22:20:37"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:37"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:39"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753932033698 closed and removed","service":"11wire-api","timestamp":"2025-07-30 22:20:39"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:39"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753932033698","service":"11wire-api","timestamp":"2025-07-30 22:20:39"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 22:25:41"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 22:25:41"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 22:25:41"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 22:25:42"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 22:25:42"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 22:25:42"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 22:25:42"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 22:25:42"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 22:25:42"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:41"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:42"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:42"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:42"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:43"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:44"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753932401681:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-30 22:26:44"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-30 22:26:44"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:44"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-30 22:26:44"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-30 22:26:44"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:26:44"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:26:44"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:26:44"}
{"level":"info","message":"Async STT request submitted, ID: unknown","service":"11wire-api","timestamp":"2025-07-30 22:26:45"}
{"level":"warn","message":"Async STT submission for call TEST_CALL_1753932401681 returned without request_id","service":"11wire-api","timestamp":"2025-07-30 22:26:45"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:46"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:47"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753932401681 closed and removed","service":"11wire-api","timestamp":"2025-07-30 22:26:47"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:47"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753932401681","service":"11wire-api","timestamp":"2025-07-30 22:26:47"}
{"level":"info","message":"================ WEBHOOK RECEIVED ==================","service":"11wire-api","timestamp":"2025-07-30 22:32:24"}
{"level":"info","message":"Headers: {\"host\":\"d6be44da5791.ngrok-free.app\",\"user-agent\":\"ElevenLabs-Webhook/1.0\",\"content-length\":\"266\",\"accept\":\"application/json, text/plain, */*\",\"content-type\":\"application/json\",\"x-elevenlabs-event\":\"speech_to_text\",\"x-elevenlabs-signature\":\"0a2dad3e375665ac28dfe0f4bd1bcf23685b5c6c4ec8280b394113d9f7763880\",\"x-forwarded-for\":\"2605:a200:9201:9bb7:28a5:91f9:e808:8f5a\",\"x-forwarded-host\":\"d6be44da5791.ngrok-free.app\",\"x-forwarded-proto\":\"https\",\"accept-encoding\":\"gzip\"}","service":"11wire-api","timestamp":"2025-07-30 22:32:24"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text\",\"request_id\":\"test_req_1753932743636\",\"text\":\"This is a test transcription from the webhook test script.\",\"language\":\"en\",\"metadata\":{\"audio_duration_sec\":3.5,\"model_id\":\"scribe_v1\"},\"callback_metadata\":{\"call_id\":\"TEST_CALL_1753932743636\"}}","service":"11wire-api","timestamp":"2025-07-30 22:32:24"}
{"level":"info","message":"=================================================","service":"11wire-api","timestamp":"2025-07-30 22:32:24"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-30 22:32:24"}
{"level":"info","message":"Received ElevenLabs webhook: speech_to_text","service":"11wire-api","timestamp":"2025-07-30 22:32:24"}
{"level":"info","message":"Speech-to-text webhook received with data: {\"type\":\"speech_to_text\",\"request_id\":\"test_req_1753932743636\",\"text\":\"This is a test transcription from the webhook test script.\",\"language\":\"en\",\"metadata\":{\"audio_duration_sec\":3.5,\"model_id\":\"scribe_v1\"},\"callback_metadata\":{\"call_id\":\"TEST_CALL_1753932743636\"}}","service":"11wire-api","timestamp":"2025-07-30 22:32:24"}
{"level":"info","message":"Received STT result for call TEST_CALL_1753932743636: This is a test transcription from the webhook test script.","service":"11wire-api","timestamp":"2025-07-30 22:32:24"}
{"level":"info","message":"::1 - - [31/Jul/2025:03:32:24 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 83 \"-\" \"ElevenLabs-Webhook/1.0\"","service":"11wire-api","timestamp":"2025-07-30 22:32:24"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 22:34:11"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 22:34:11"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 22:34:11"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 22:34:12"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 22:34:12"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 22:34:12"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 22:34:12"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 22:34:12"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 22:34:12"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:20"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:21"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:21"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:21"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:22"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:22"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753932920622:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-30 22:35:22"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-30 22:35:22"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:22"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-30 22:35:23"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-30 22:35:23"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:35:23"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:35:23"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:35:23"}
{"level":"info","message":"Async STT request submitted, ID: unknown","service":"11wire-api","timestamp":"2025-07-30 22:35:24"}
{"level":"warn","message":"Async STT submission for call TEST_CALL_1753932920622 returned without request_id","service":"11wire-api","timestamp":"2025-07-30 22:35:24"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:24"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:26"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753932920622 closed and removed","service":"11wire-api","timestamp":"2025-07-30 22:35:26"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:26"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753932920622","service":"11wire-api","timestamp":"2025-07-30 22:35:26"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 22:40:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 22:40:36"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 22:40:36"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 22:40:36"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 22:40:36"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 22:40:36"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 22:40:36"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 22:40:36"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 22:40:36"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:53"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:54"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:54"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:54"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:55"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:56"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753933313715:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-30 22:41:56"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-30 22:41:56"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:56"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-30 22:41:56"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-30 22:41:56"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:41:56"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:41:56"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-30 22:41:56"}
{"level":"error","message":"Error submitting async STT request: SERVICE_NAME is not defined","service":"11wire-api","timestamp":"2025-07-30 22:41:57"}
{"level":"error","message":"Error submitting async STT for call TEST_CALL_1753933313715: SERVICE_NAME is not defined","service":"11wire-api","timestamp":"2025-07-30 22:41:57"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:58"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:59"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753933313715 closed and removed","service":"11wire-api","timestamp":"2025-07-30 22:41:59"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:59"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753933313715","service":"11wire-api","timestamp":"2025-07-30 22:41:59"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-30 22:44:59"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-30 22:44:59"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-30 22:44:59"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-30 22:45:01"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-30 22:45:01"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-30 22:45:01"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-30 22:45:01"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-30 22:45:01"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-30 22:45:01"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:12"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:13"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:13"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:13"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:14"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:14"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753941912499:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 01:05:14"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 01:05:14"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:14"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 01:05:14"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 01:05:14"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 01:05:14"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 01:05:14"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 01:05:14"}
{"level":"info","message":"Async STT response received: {\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"logprob\":0}]}","service":"elevenlabs-service","timestamp":"2025-07-31 01:05:16"}
{"level":"info","message":"Async STT request submitted, ID: unknown","service":"elevenlabs-service","timestamp":"2025-07-31 01:05:16"}
{"level":"warn","message":"Async STT submission for call TEST_CALL_1753941912499 returned without request_id. Response: {\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"logprob\":0}]}","service":"elevenlabs-service","timestamp":"2025-07-31 01:05:16"}
{"level":"warn","message":"Async STT submission for call TEST_CALL_1753941912499 returned without request_id","service":"11wire-api","timestamp":"2025-07-31 01:05:16"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:16"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:17"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753941912499 closed and removed","service":"11wire-api","timestamp":"2025-07-31 01:05:17"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:17"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753941912499","service":"11wire-api","timestamp":"2025-07-31 01:05:17"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 01:08:14"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 01:08:15"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 01:08:15"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 01:08:16"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 01:08:16"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 01:08:16"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 01:08:16"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 01:08:16"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 01:08:16"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:06"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:07"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:07"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:07"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:08"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:09"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753942206927:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 01:10:09"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 01:10:09"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:09"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 01:10:09"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 01:10:09"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 01:10:09"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 01:10:09"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 01:10:09"}
{"level":"info","message":"Async STT response received: {\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"logprob\":0}]}","service":"elevenlabs-service","timestamp":"2025-07-31 01:10:10"}
{"level":"info","message":"Async STT request submitted, ID: unknown","service":"elevenlabs-service","timestamp":"2025-07-31 01:10:10"}
{"level":"warn","message":"Async STT submission for call TEST_CALL_1753942206927 returned without request_id. Response: {\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"logprob\":0}]}","service":"elevenlabs-service","timestamp":"2025-07-31 01:10:10"}
{"level":"warn","message":"Async STT submission for call TEST_CALL_1753942206927 returned without request_id","service":"11wire-api","timestamp":"2025-07-31 01:10:10"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:11"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:12"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753942206927 closed and removed","service":"11wire-api","timestamp":"2025-07-31 01:10:12"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:12"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753942206927","service":"11wire-api","timestamp":"2025-07-31 01:10:12"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 01:31:58"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 01:31:58"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 01:31:58"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 01:31:59"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 01:31:59"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 01:31:59"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 01:31:59"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 01:31:59"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 01:31:59"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:34"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:35"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:35"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:35"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:36"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:36"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753970434569:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 09:00:36"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 09:00:36"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:36"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 09:00:36"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 09:00:36"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:00:36"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:00:36"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:00:36"}
{"level":"error","message":"Error submitting async STT request: Request failed with status code 404","service":"11wire-api","timestamp":"2025-07-31 09:00:37"}
{"level":"error","message":"Response status: 404","service":"11wire-api","timestamp":"2025-07-31 09:00:37"}
{"level":"error","message":"Response data: {\"detail\":\"Not Found\"}","service":"11wire-api","timestamp":"2025-07-31 09:00:37"}
{"level":"error","message":"Error submitting async STT for call TEST_CALL_1753970434569: Request failed with status code 404","service":"11wire-api","timestamp":"2025-07-31 09:00:37"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:38"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:39"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753970434569 closed and removed","service":"11wire-api","timestamp":"2025-07-31 09:00:39"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:39"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753970434569","service":"11wire-api","timestamp":"2025-07-31 09:00:39"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 09:13:10"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 09:13:11"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 09:13:11"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 09:13:12"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 09:13:12"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 09:13:12"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 09:13:12"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 09:13:12"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 09:13:12"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:29"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:30"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:30"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:30"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:30"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:31"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753971269078:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 09:14:31"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 09:14:31"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:31"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 09:14:31"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 09:14:31"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:14:31"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:14:31"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:14:31"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"bf7f64fa94c84c3692c269fa0da28a6a\"}","service":"elevenlabs-service","timestamp":"2025-07-31 09:14:32"}
{"level":"info","message":"Async STT request submitted, ID: bf7f64fa94c84c3692c269fa0da28a6a","service":"elevenlabs-service","timestamp":"2025-07-31 09:14:32"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753971269078, request ID: bf7f64fa94c84c3692c269fa0da28a6a","service":"11wire-api","timestamp":"2025-07-31 09:14:32"}
{"level":"info","message":"::1 - - [31/Jul/2025:14:14:32 +0000] \"POST / HTTP/1.1\" 404 140 \"-\" \"Python/3.12 aiohttp/3.11.16\"","service":"11wire-api","timestamp":"2025-07-31 09:14:32"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:33"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:34"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753971269078 closed and removed","service":"11wire-api","timestamp":"2025-07-31 09:14:34"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:34"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753971269078","service":"11wire-api","timestamp":"2025-07-31 09:14:34"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 09:21:48"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 09:21:49"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 09:21:49"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 09:21:49"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 09:21:49"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 09:21:49"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 09:21:49"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 09:21:49"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 09:21:49"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:53"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:54"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:54"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:54"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:54"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:55"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753971773227:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 09:22:55"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 09:22:55"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:55"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 09:22:55"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 09:22:55"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:22:55"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:22:55"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:22:55"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"13281381861946dea430d5a7260ebb20\"}","service":"elevenlabs-service","timestamp":"2025-07-31 09:22:56"}
{"level":"info","message":"Async STT request submitted, ID: 13281381861946dea430d5a7260ebb20","service":"elevenlabs-service","timestamp":"2025-07-31 09:22:56"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753971773227, request ID: 13281381861946dea430d5a7260ebb20","service":"11wire-api","timestamp":"2025-07-31 09:22:56"}
{"level":"info","message":"::1 - - [31/Jul/2025:14:22:56 +0000] \"POST / HTTP/1.1\" 404 140 \"-\" \"Python/3.12 aiohttp/3.11.16\"","service":"11wire-api","timestamp":"2025-07-31 09:22:56"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:57"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:58"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753971773227 closed and removed","service":"11wire-api","timestamp":"2025-07-31 09:22:58"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:58"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753971773227","service":"11wire-api","timestamp":"2025-07-31 09:22:58"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 09:26:39"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 09:26:39"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 09:26:39"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 09:26:40"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 09:26:40"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 09:26:40"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 09:26:40"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 09:26:40"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 09:26:40"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:13"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:14"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:14"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:14"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:14"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:15"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753972093157:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 09:28:15"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 09:28:15"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:15"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 09:28:15"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 09:28:15"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:28:15"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:28:15"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:28:15"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"cf34c38fb8d14af9bcf3600d715026c5\"}","service":"elevenlabs-service","timestamp":"2025-07-31 09:28:16"}
{"level":"info","message":"Async STT request submitted, ID: cf34c38fb8d14af9bcf3600d715026c5","service":"elevenlabs-service","timestamp":"2025-07-31 09:28:16"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753972093157, request ID: cf34c38fb8d14af9bcf3600d715026c5","service":"11wire-api","timestamp":"2025-07-31 09:28:16"}
{"level":"info","message":"::1 - - [31/Jul/2025:14:28:16 +0000] \"POST / HTTP/1.1\" 404 140 \"-\" \"Python/3.12 aiohttp/3.11.16\"","service":"11wire-api","timestamp":"2025-07-31 09:28:16"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:17"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:18"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753972093157 closed and removed","service":"11wire-api","timestamp":"2025-07-31 09:28:18"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:18"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753972093157","service":"11wire-api","timestamp":"2025-07-31 09:28:18"}
{"level":"info","message":"================ WEBHOOK RECEIVED ==================","service":"11wire-api","timestamp":"2025-07-31 09:30:29"}
{"level":"info","message":"Headers: {\"host\":\"d6be44da5791.ngrok-free.app\",\"user-agent\":\"ElevenLabs-Webhook/1.0\",\"content-length\":\"266\",\"accept\":\"application/json, text/plain, */*\",\"content-type\":\"application/json\",\"x-elevenlabs-event\":\"speech_to_text\",\"x-elevenlabs-signature\":\"ee14033cbdb40e85ab10f8e9cdef73a9ebb1147ac7e7b083cec34e8ba9226a72\",\"x-forwarded-for\":\"2605:a200:9201:3c09:9130:d193:d59c:e6f3\",\"x-forwarded-host\":\"d6be44da5791.ngrok-free.app\",\"x-forwarded-proto\":\"https\",\"accept-encoding\":\"gzip\"}","service":"11wire-api","timestamp":"2025-07-31 09:30:29"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text\",\"request_id\":\"test_req_1753972228950\",\"text\":\"This is a test transcription from the webhook test script.\",\"language\":\"en\",\"metadata\":{\"audio_duration_sec\":3.5,\"model_id\":\"scribe_v1\"},\"callback_metadata\":{\"call_id\":\"TEST_CALL_1753972228950\"}}","service":"11wire-api","timestamp":"2025-07-31 09:30:29"}
{"level":"info","message":"=================================================","service":"11wire-api","timestamp":"2025-07-31 09:30:29"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-31 09:30:29"}
{"level":"info","message":"Received ElevenLabs webhook: speech_to_text","service":"11wire-api","timestamp":"2025-07-31 09:30:29"}
{"level":"info","message":"Speech-to-text webhook received with data: {\"type\":\"speech_to_text\",\"request_id\":\"test_req_1753972228950\",\"text\":\"This is a test transcription from the webhook test script.\",\"language\":\"en\",\"metadata\":{\"audio_duration_sec\":3.5,\"model_id\":\"scribe_v1\"},\"callback_metadata\":{\"call_id\":\"TEST_CALL_1753972228950\"}}","service":"11wire-api","timestamp":"2025-07-31 09:30:29"}
{"level":"info","message":"Received STT result for call TEST_CALL_1753972228950: This is a test transcription from the webhook test script.","service":"11wire-api","timestamp":"2025-07-31 09:30:29"}
{"level":"info","message":"::1 - - [31/Jul/2025:14:30:29 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 83 \"-\" \"ElevenLabs-Webhook/1.0\"","service":"11wire-api","timestamp":"2025-07-31 09:30:29"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 09:33:56"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 09:33:56"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 09:33:56"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 09:33:57"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 09:33:57"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 09:33:57"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 09:33:57"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 09:33:57"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 09:33:57"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:46"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:47"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:47"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:47"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:48"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753972486817:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"49ec2764f4b04d6c9f06ecd7016bfedf\"}","service":"elevenlabs-service","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Async STT request submitted, ID: 49ec2764f4b04d6c9f06ecd7016bfedf","service":"elevenlabs-service","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753972486817, request ID: 49ec2764f4b04d6c9f06ecd7016bfedf","service":"11wire-api","timestamp":"2025-07-31 09:34:49"}
{"level":"info","message":"Received webhook to root path - forwarding to ElevenLabs webhook controller","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"info","message":"Headers: {\"host\":\"d6be44da5791.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1753972490,v0=7a606807c5dc3866885f1b677476416aa36e824a8ec7834f9e86ef85bec365c7\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"d6be44da5791.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1753972490,\"data\":{\"request_id\":\"49ec2764f4b04d6c9f06ecd7016bfedf\",\"transcription\":{\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"info","message":"================ WEBHOOK RECEIVED ==================","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"info","message":"Headers: {\"host\":\"d6be44da5791.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1753972490,v0=7a606807c5dc3866885f1b677476416aa36e824a8ec7834f9e86ef85bec365c7\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"d6be44da5791.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1753972490,\"data\":{\"request_id\":\"49ec2764f4b04d6c9f06ecd7016bfedf\",\"transcription\":{\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"info","message":"=================================================","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"warn","message":"Development mode: Webhook signature missing, but allowing request","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"info","message":"Received ElevenLabs webhook: speech_to_text_transcription","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"warn","message":"Unknown webhook type: speech_to_text_transcription","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"info","message":"::1 - - [31/Jul/2025:14:34:50 +0000] \"POST / HTTP/1.1\" 200 83 \"-\" \"Python/3.12 aiohttp/3.11.16\"","service":"11wire-api","timestamp":"2025-07-31 09:34:50"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:51"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:52"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753972486817 closed and removed","service":"11wire-api","timestamp":"2025-07-31 09:34:52"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:52"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753972486817","service":"11wire-api","timestamp":"2025-07-31 09:34:52"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 09:40:26"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 09:40:26"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 09:40:26"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 09:40:27"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 09:40:27"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 09:40:27"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 09:40:27"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 09:40:27"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 09:40:27"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:41:59"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:42:01"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:42:01"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:42:01"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:42:01"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:42:02"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753972919877:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 09:42:02"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 09:42:02"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:42:02"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 09:42:02"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 09:42:02"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:42:02"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:42:02"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:42:02"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"08b7e94f51b6410591a9a1343dafcd7b\"}","service":"elevenlabs-service","timestamp":"2025-07-31 09:42:03"}
{"level":"info","message":"Async STT request submitted, ID: 08b7e94f51b6410591a9a1343dafcd7b","service":"elevenlabs-service","timestamp":"2025-07-31 09:42:03"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753972919877, request ID: 08b7e94f51b6410591a9a1343dafcd7b","service":"11wire-api","timestamp":"2025-07-31 09:42:03"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"Received webhook to root path - forwarding to ElevenLabs webhook controller","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"Headers: {\"host\":\"d6be44da5791.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1753972924,v0=2d3400a84cd083018ea089aa4b598f749c99c4c2692a2774603686cd17cc73ab\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"d6be44da5791.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1753972924,\"data\":{\"request_id\":\"08b7e94f51b6410591a9a1343dafcd7b\",\"transcription\":{\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"================ WEBHOOK RECEIVED ==================","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"Headers: {\"host\":\"d6be44da5791.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1753972924,v0=2d3400a84cd083018ea089aa4b598f749c99c4c2692a2774603686cd17cc73ab\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"d6be44da5791.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1753972924,\"data\":{\"request_id\":\"08b7e94f51b6410591a9a1343dafcd7b\",\"transcription\":{\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"=================================================","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"warn","message":"Development mode: Webhook signature missing, but allowing request","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"Received ElevenLabs webhook: speech_to_text_transcription","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"Speech-to-text webhook received with data: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1753972924,\"data\":{\"request_id\":\"08b7e94f51b6410591a9a1343dafcd7b\",\"transcription\":{\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"Received STT result for call unknown: (śpiew 00:03:15)","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"::1 - - [31/Jul/2025:14:42:04 +0000] \"POST / HTTP/1.1\" 200 83 \"-\" \"Python/3.12 aiohttp/3.11.16\"","service":"11wire-api","timestamp":"2025-07-31 09:42:04"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:42:05"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753972919877 closed and removed","service":"11wire-api","timestamp":"2025-07-31 09:42:05"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:42:05"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753972919877","service":"11wire-api","timestamp":"2025-07-31 09:42:05"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 09:51:48"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 09:51:49"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 09:51:49"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 09:51:50"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 09:51:50"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 09:51:50"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 09:51:50"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 09:51:50"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 09:51:50"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:53"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:54"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:54"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:54"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:55"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:55"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753973873469:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 09:57:55"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 09:57:55"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:55"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 09:57:55"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 09:57:55"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:57:55"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:57:55"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 09:57:55"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"351e910e476b404ba8b37483d9d78976\"}","service":"elevenlabs-service","timestamp":"2025-07-31 09:57:56"}
{"level":"info","message":"Async STT request submitted, ID: 351e910e476b404ba8b37483d9d78976","service":"elevenlabs-service","timestamp":"2025-07-31 09:57:56"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753973873469, request ID: 351e910e476b404ba8b37483d9d78976","service":"11wire-api","timestamp":"2025-07-31 09:57:56"}
{"level":"info","message":"Received webhook to root path - forwarding to ElevenLabs webhook controller","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Headers: {\"host\":\"d6be44da5791.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1753973877,v0=5838a75fb5cbf62c6bd89851786f32d7b462ec786c60e06cb8552c7126938972\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"d6be44da5791.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1753973877,\"data\":{\"request_id\":\"351e910e476b404ba8b37483d9d78976\",\"transcription\":{\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"================ WEBHOOK RECEIVED ==================","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Headers: {\"host\":\"d6be44da5791.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1753973877,v0=5838a75fb5cbf62c6bd89851786f32d7b462ec786c60e06cb8552c7126938972\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"d6be44da5791.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1753973877,\"data\":{\"request_id\":\"351e910e476b404ba8b37483d9d78976\",\"transcription\":{\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"=================================================","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"warn","message":"Development mode: Webhook signature missing, but allowing request","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Received ElevenLabs webhook: speech_to_text_transcription","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Speech-to-text webhook received with data: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1753973877,\"data\":{\"request_id\":\"351e910e476b404ba8b37483d9d78976\",\"transcription\":{\"language_code\":\"pol\",\"language_probability\":0.9572123289108276,\"text\":\"(śpiew 00:03:15)\",\"words\":[{\"text\":\"(śpiew 00:03:15)\",\"start\":0,\"end\":12.779,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Processing STT webhook with metadata: {}","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Received STT result for call unknown: (śpiew 00:03:15)","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"::1 - - [31/Jul/2025:14:57:57 +0000] \"POST / HTTP/1.1\" 200 83 \"-\" \"Python/3.12 aiohttp/3.11.16\"","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:57"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:58"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753973873469 closed and removed","service":"11wire-api","timestamp":"2025-07-31 09:57:58"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:58"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753973873469","service":"11wire-api","timestamp":"2025-07-31 09:57:58"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 10:10:20"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 10:10:21"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 10:10:21"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 10:10:21"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 10:10:21"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 10:10:21"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 10:10:21"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 10:10:21"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 10:10:21"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:28"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:29"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:29"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:29"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:30"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:30"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753974808655:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://d6be44da5791.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 10:13:30"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 10:13:30"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:30"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 10:13:30"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 10:13:30"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 10:13:30"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 10:13:30"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 10:13:30"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"24257ec5942b442faa4bddefe7c8e4be\"}","service":"elevenlabs-service","timestamp":"2025-07-31 10:13:32"}
{"level":"info","message":"Stored mapping: request_id 24257ec5942b442faa4bddefe7c8e4be -> call_id TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:32"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753974808655, request ID: 24257ec5942b442faa4bddefe7c8e4be","service":"11wire-api","timestamp":"2025-07-31 10:13:32"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753974808655, request ID: 24257ec5942b442faa4bddefe7c8e4be","service":"11wire-api","timestamp":"2025-07-31 10:13:32"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:32"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:33"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753974808655 closed and removed","service":"11wire-api","timestamp":"2025-07-31 10:13:33"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:33"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753974808655","service":"11wire-api","timestamp":"2025-07-31 10:13:33"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 10:29:28"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 10:29:29"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 10:29:29"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 10:29:29"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 10:29:29"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 10:29:29"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 10:29:29"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 10:29:29"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 10:29:29"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:17"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:18"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:18"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:18"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:18"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:19"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753975937300:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://ce3656120508.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 10:32:19"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 10:32:19"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:19"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 10:32:19"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 10:32:19"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 10:32:19"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 10:32:19"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 10:32:19"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"ae0230d04072461991759c60c5022048\"}","service":"elevenlabs-service","timestamp":"2025-07-31 10:32:20"}
{"level":"info","message":"Stored mapping: request_id ae0230d04072461991759c60c5022048 -> call_id TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:20"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753975937300, request ID: ae0230d04072461991759c60c5022048","service":"11wire-api","timestamp":"2025-07-31 10:32:20"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753975937300, request ID: ae0230d04072461991759c60c5022048","service":"11wire-api","timestamp":"2025-07-31 10:32:20"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:21"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:22"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753975937300 closed and removed","service":"11wire-api","timestamp":"2025-07-31 10:32:22"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:22"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753975937300","service":"11wire-api","timestamp":"2025-07-31 10:32:22"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 10:47:42"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 10:47:42"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 10:47:42"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 10:47:43"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 10:47:43"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 10:47:43"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 10:47:43"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 10:47:43"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 10:47:43"}
{"level":"info","message":"::1 - - [31/Jul/2025:15:49:27 +0000] \"GET / HTTP/1.1\" 404 139 \"-\" \"curl/8.7.1\"","service":"11wire-api","timestamp":"2025-07-31 10:49:27"}
{"level":"info","message":"================ WEBHOOK RECEIVED ==================","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"info","message":"Headers: {\"host\":\"localhost:3000\",\"user-agent\":\"curl/8.7.1\",\"accept\":\"*/*\",\"content-type\":\"application/json\",\"content-length\":\"87\"}","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text\",\"request_id\":\"test_123\",\"text\":\"This is a test transcription\"}","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"info","message":"=================================================","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"warn","message":"Development mode: Webhook signature missing, but allowing request","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"info","message":"Received ElevenLabs webhook: speech_to_text","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"info","message":"Speech-to-text webhook received with data: {\"type\":\"speech_to_text\",\"request_id\":\"test_123\",\"text\":\"This is a test transcription\"}","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"info","message":"Looking up call ID for request ID test_123: unknown","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"info","message":"Received STT result for call unknown: This is a test transcription","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"info","message":"::1 - - [31/Jul/2025:15:49:46 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 83 \"-\" \"curl/8.7.1\"","service":"11wire-api","timestamp":"2025-07-31 10:49:46"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:50"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:51"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:51"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:51"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:52"}
{"level":"info","message":"Submitting 10 audio chunks (25600 bytes) for async STT - call TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:52"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753977110446:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 25600 bytes\n - Webhook URL: https://ce3656120508.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-07-31 10:51:52"}
{"level":"info","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-07-31 10:51:52"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:52"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-07-31 10:51:52"}
{"level":"info","message":"Converting 409600 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-07-31 10:51:52"}
{"level":"info","message":"Converted to WAV format: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 10:51:52"}
{"level":"info","message":"Formatted audio as WAV: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 10:51:52"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 409644 bytes","service":"11wire-api","timestamp":"2025-07-31 10:51:52"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"ce71e161b1d2436e97d6298b41341e0d\"}","service":"elevenlabs-service","timestamp":"2025-07-31 10:51:53"}
{"level":"info","message":"Stored mapping: request_id ce71e161b1d2436e97d6298b41341e0d -> call_id TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:53"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753977110446, request ID: ce71e161b1d2436e97d6298b41341e0d","service":"11wire-api","timestamp":"2025-07-31 10:51:53"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1753977110446, request ID: ce71e161b1d2436e97d6298b41341e0d","service":"11wire-api","timestamp":"2025-07-31 10:51:53"}
{"level":"info","message":"Received 100 audio chunks for call TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:54"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:55"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1753977110446 closed and removed","service":"11wire-api","timestamp":"2025-07-31 10:51:55"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:55"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1753977110446","service":"11wire-api","timestamp":"2025-07-31 10:51:55"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 21:26:59"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 21:27:00"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 21:27:00"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 21:27:01"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 21:27:01"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 21:27:01"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 21:27:01"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 21:27:01"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 21:27:01"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 21:36:49"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 21:36:50"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 21:36:50"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 21:36:50"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 21:36:50"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 21:36:50"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 21:36:50"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 21:36:50"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 21:36:50"}
{"level":"info","message":"Received webhook to root path - forwarding to ElevenLabs webhook controller","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Headers: {\"host\":\"a49b8a2cd578.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1754016676,v0=33e70584275918f7de7ced04b20df6f678affae9de02d175023460e708163a60\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"a49b8a2cd578.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1754016676,\"data\":{\"request_id\":\"32c9a7aa76114e1cbbe707864efedafb\",\"transcription\":{\"language_code\":\"spa\",\"language_probability\":0.7325996160507202,\"text\":\"(sonido agudo sostenido)\",\"words\":[{\"text\":\"(sonido agudo sostenido)\",\"start\":0.319,\"end\":1.479,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"================ WEBHOOK RECEIVED ==================","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Headers: {\"host\":\"a49b8a2cd578.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1754016676,v0=33e70584275918f7de7ced04b20df6f678affae9de02d175023460e708163a60\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"a49b8a2cd578.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1754016676,\"data\":{\"request_id\":\"32c9a7aa76114e1cbbe707864efedafb\",\"transcription\":{\"language_code\":\"spa\",\"language_probability\":0.7325996160507202,\"text\":\"(sonido agudo sostenido)\",\"words\":[{\"text\":\"(sonido agudo sostenido)\",\"start\":0.319,\"end\":1.479,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"=================================================","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"warn","message":"Development mode: Webhook signature missing, but allowing request","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Received ElevenLabs webhook: speech_to_text_transcription","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Speech-to-text webhook received with data: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1754016676,\"data\":{\"request_id\":\"32c9a7aa76114e1cbbe707864efedafb\",\"transcription\":{\"language_code\":\"spa\",\"language_probability\":0.7325996160507202,\"text\":\"(sonido agudo sostenido)\",\"words\":[{\"text\":\"(sonido agudo sostenido)\",\"start\":0.319,\"end\":1.479,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Processing STT webhook with metadata: {}","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Looking up call ID for request ID 32c9a7aa76114e1cbbe707864efedafb: unknown","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Received STT result for call unknown: (sonido agudo sostenido)","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"::1 - - [01/Aug/2025:02:51:17 +0000] \"POST / HTTP/1.1\" 200 83 \"-\" \"Python/3.12 aiohttp/3.11.16\"","service":"11wire-api","timestamp":"2025-07-31 21:51:17"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-31 22:46:43"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-31 22:46:43"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Syncing models in dependency order...","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"CallLog model synced","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Conversation model synced","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"error","message":"Error synchronizing models: db.SttRequestMapping.sync is not a function","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"error","message":"TypeError: db.SttRequestMapping.sync is not a function\n    at syncDatabaseModels (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:43:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async initializeDatabase (/Users/kremlin/Downloads/11Wire/backend/src/scripts/init-database.js:97:7)","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Tables found in database: [\"agent_configs\",\"campaigns\",\"contacts\",\"call_logs\",\"call_recordings\",\"conversations\"]","service":"11wire-api","timestamp":"2025-07-31 22:46:44"}
{"level":"info","message":"Starting database initialization...","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"Testing database connection...","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"Database connection established successfully.","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"Resetting entire database schema...","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"Successfully reset database schema.","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"Synchronizing database with models...","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"Synchronizing database with models using Sequelize...","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"Syncing models in dependency order...","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"Campaign model synced","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"AgentConfig model synced","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"Contact model synced","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"CallLog model synced","service":"11wire-api","timestamp":"2025-07-31 22:49:15"}
{"level":"info","message":"CallRecording model synced","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"Conversation model synced","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"SttRequestMapping model synced","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"All models synchronized successfully with database!","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"Models synchronized:","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"- Campaign (table: campaigns)","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"- Conversation (table: conversations)","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"- CallRecording (table: call_recordings)","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"- Contact (table: contacts)","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"- CallLog (table: call_logs)","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"- AgentConfig (table: agent_configs)","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"- CallQueue (table: call_queues)","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"- SttRequestMapping (table: stt_request_mappings)","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"All tables synchronized with models successfully.","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"Verifying tables were created...","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"Tables found in database: [\"agent_configs\",\"campaigns\",\"contacts\",\"call_logs\",\"call_recordings\",\"stt_request_mappings\",\"conversations\"]","service":"11wire-api","timestamp":"2025-07-31 22:49:16"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 22:50:49"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 22:50:50"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 22:50:50"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 22:50:51"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 22:50:51"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 22:50:51"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 22:50:51"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 22:50:51"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 22:50:51"}
{"level":"info","message":"================ WEBHOOK RECEIVED ==================","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"Headers: {\"accept\":\"application/json, text/plain, */*\",\"content-type\":\"application/json\",\"x-elevenlabs-signature\":\"7f6ba9e086118c36f8469ed1f872dfe1d935d2d4af0b97217986858f057a478d\",\"user-agent\":\"axios/0.26.1\",\"content-length\":\"314\",\"host\":\"localhost:3000\",\"connection\":\"keep-alive\"}","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"data\":{\"request_id\":\"test-req-1754020592872\",\"transcription\":{\"text\":\"This is a test transcription from the webhook test script.\",\"language_code\":\"en-US\",\"confidence\":0.95},\"callback_metadata\":{\"call_id\":\"test-call-1754020592872\",\"request_time\":\"2025-08-01T03:56:33.772Z\"}}}","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"=================================================","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"Received ElevenLabs webhook: speech_to_text_transcription","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"Speech-to-text webhook received with data: {\"type\":\"speech_to_text_transcription\",\"data\":{\"request_id\":\"test-req-1754020592872\",\"transcription\":{\"text\":\"This is a test transcription from the webhook test script.\",\"language_code\":\"en-US\",\"confidence\":0.95},\"callback_metadata\":{\"call_id\":\"test-call-1754020592872\",\"request_time\":\"2025-08-01T03:56:33.772Z\"}}}","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"Processing STT webhook with metadata: {\"call_id\":\"test-call-1754020592872\",\"request_time\":\"2025-08-01T03:56:33.772Z\"}","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"Found call ID test-call-1754020592872 for request ID test-req-1754020592872","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"Found call ID for request ID test-req-1754020592872: test-call-1754020592872","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"Received STT result for call test-call-1754020592872: This is a test transcription from the webhook test script.","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"::1 - - [01/Aug/2025:03:56:33 +0000] \"POST /api/webhooks/elevenlabs HTTP/1.1\" 200 83 \"-\" \"axios/0.26.1\"","service":"11wire-api","timestamp":"2025-07-31 22:56:33"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-07-31 23:07:26"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"info","message":"Initializing scheduled jobs...","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"info","message":"Scheduling job: stt-mapping-cleanup (every 360 minutes)","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"info","message":"Scheduled jobs initialized","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-07-31 23:07:27"}
{"level":"info","message":"Running initial stt-mapping-cleanup job","service":"11wire-api","timestamp":"2025-07-31 23:07:37"}
{"level":"info","message":"Starting cleanup of old/stale STT request mappings...","service":"11wire-api","timestamp":"2025-07-31 23:07:37"}
{"level":"info","message":"Deleted undefined completed mapping(s) older than 7 days","service":"11wire-api","timestamp":"2025-07-31 23:07:37"}
{"level":"info","message":"Deleted undefined pending mapping(s) older than 1 days","service":"11wire-api","timestamp":"2025-07-31 23:07:37"}
{"level":"info","message":"Deleted undefined failed mapping(s) older than 3 days","service":"11wire-api","timestamp":"2025-07-31 23:07:37"}
{"level":"info","message":"Marked undefined pending mapping(s) as expired (older than 2 hours)","service":"11wire-api","timestamp":"2025-07-31 23:07:37"}
{"level":"info","message":"STT mapping cleanup completed: NaN deleted, undefined expired","service":"11wire-api","timestamp":"2025-07-31 23:07:37"}
{"level":"info","message":"Received webhook to root path - forwarding to ElevenLabs webhook controller","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Headers: {\"host\":\"a49b8a2cd578.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1754021312,v0=b15dd42b0a7a44e3ceadb92253bc683106f685704441b65b055b4004a9ba33c9\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"a49b8a2cd578.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1754021312,\"data\":{\"request_id\":\"d883ff9b4be2451faa6ad49ad687112f\",\"transcription\":{\"language_code\":\"spa\",\"language_probability\":0.7325996160507202,\"text\":\"(sonido agudo sostenido)\",\"words\":[{\"text\":\"(sonido agudo sostenido)\",\"start\":0.319,\"end\":1.479,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"================ WEBHOOK RECEIVED ==================","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Headers: {\"host\":\"a49b8a2cd578.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1754021312,v0=b15dd42b0a7a44e3ceadb92253bc683106f685704441b65b055b4004a9ba33c9\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"a49b8a2cd578.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1754021312,\"data\":{\"request_id\":\"d883ff9b4be2451faa6ad49ad687112f\",\"transcription\":{\"language_code\":\"spa\",\"language_probability\":0.7325996160507202,\"text\":\"(sonido agudo sostenido)\",\"words\":[{\"text\":\"(sonido agudo sostenido)\",\"start\":0.319,\"end\":1.479,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"=================================================","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"warn","message":"Development mode: Webhook signature missing, but allowing request","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Received ElevenLabs webhook: speech_to_text_transcription","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Speech-to-text webhook received with data: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1754021312,\"data\":{\"request_id\":\"d883ff9b4be2451faa6ad49ad687112f\",\"transcription\":{\"language_code\":\"spa\",\"language_probability\":0.7325996160507202,\"text\":\"(sonido agudo sostenido)\",\"words\":[{\"text\":\"(sonido agudo sostenido)\",\"start\":0.319,\"end\":1.479,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Processing STT webhook with metadata: {}","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"warn","message":"No call ID found for request ID d883ff9b4be2451faa6ad49ad687112f","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Found call ID for request ID d883ff9b4be2451faa6ad49ad687112f: unknown","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Received STT result for call unknown: (sonido agudo sostenido)","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"::1 - - [01/Aug/2025:04:08:32 +0000] \"POST / HTTP/1.1\" 200 83 \"-\" \"Python/3.12 aiohttp/3.11.16\"","service":"11wire-api","timestamp":"2025-07-31 23:08:32"}
{"level":"info","message":"Received webhook to root path - forwarding to ElevenLabs webhook controller","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Headers: {\"host\":\"a49b8a2cd578.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1754021719,v0=c19190f8eb1631e3e672e05587ec8f61c943cac573f21cd1fde34aa07a229aa0\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"a49b8a2cd578.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1754021719,\"data\":{\"request_id\":\"ddc8d1e643fe4d359e49e4a79e2ae008\",\"transcription\":{\"language_code\":\"spa\",\"language_probability\":0.7325996160507202,\"text\":\"(sonido agudo sostenido)\",\"words\":[{\"text\":\"(sonido agudo sostenido)\",\"start\":0.319,\"end\":1.479,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"================ WEBHOOK RECEIVED ==================","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Headers: {\"host\":\"a49b8a2cd578.ngrok-free.app\",\"user-agent\":\"Python/3.12 aiohttp/3.11.16\",\"transfer-encoding\":\"chunked\",\"accept\":\"*/*\",\"accept-encoding\":\"gzip, deflate\",\"content-type\":\"application/json\",\"elevenlabs-signature\":\"t=1754021719,v0=c19190f8eb1631e3e672e05587ec8f61c943cac573f21cd1fde34aa07a229aa0\",\"x-forwarded-for\":\"34.59.11.47\",\"x-forwarded-host\":\"a49b8a2cd578.ngrok-free.app\",\"x-forwarded-proto\":\"https\"}","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Body: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1754021719,\"data\":{\"request_id\":\"ddc8d1e643fe4d359e49e4a79e2ae008\",\"transcription\":{\"language_code\":\"spa\",\"language_probability\":0.7325996160507202,\"text\":\"(sonido agudo sostenido)\",\"words\":[{\"text\":\"(sonido agudo sostenido)\",\"start\":0.319,\"end\":1.479,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"=================================================","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Development mode: Webhook received from IP ::1","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"warn","message":"Development mode: Webhook signature missing, but allowing request","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Received ElevenLabs webhook: speech_to_text_transcription","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Speech-to-text webhook received with data: {\"type\":\"speech_to_text_transcription\",\"event_timestamp\":1754021719,\"data\":{\"request_id\":\"ddc8d1e643fe4d359e49e4a79e2ae008\",\"transcription\":{\"language_code\":\"spa\",\"language_probability\":0.7325996160507202,\"text\":\"(sonido agudo sostenido)\",\"words\":[{\"text\":\"(sonido agudo sostenido)\",\"start\":0.319,\"end\":1.479,\"type\":\"audio_event\",\"speaker_id\":null,\"logprob\":0,\"characters\":null}],\"channel_index\":null,\"additional_formats\":null}}}","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Processing STT webhook with metadata: {}","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Found call ID test-call-1754021717608 for request ID ddc8d1e643fe4d359e49e4a79e2ae008","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Found call ID for request ID ddc8d1e643fe4d359e49e4a79e2ae008: test-call-1754021717608","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Received STT result for call test-call-1754021717608: (sonido agudo sostenido)","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"::1 - - [01/Aug/2025:04:15:19 +0000] \"POST / HTTP/1.1\" 200 83 \"-\" \"Python/3.12 aiohttp/3.11.16\"","service":"11wire-api","timestamp":"2025-07-31 23:15:19"}
{"level":"info","message":"Starting cleanup of old/stale STT request mappings...","service":"11wire-api","timestamp":"2025-07-31 23:17:03"}
{"level":"info","message":"Deleted undefined completed mapping(s) older than 7 days","service":"11wire-api","timestamp":"2025-07-31 23:17:04"}
{"level":"info","message":"Deleted undefined pending mapping(s) older than 1 days","service":"11wire-api","timestamp":"2025-07-31 23:17:04"}
{"level":"info","message":"Deleted undefined failed mapping(s) older than 3 days","service":"11wire-api","timestamp":"2025-07-31 23:17:04"}
{"level":"info","message":"Marked undefined pending mapping(s) as expired (older than 2 hours)","service":"11wire-api","timestamp":"2025-07-31 23:17:04"}
{"level":"info","message":"Starting cleanup of old/stale STT request mappings...","service":"11wire-api","timestamp":"2025-07-31 23:19:54"}
{"level":"info","message":"Deleted 0 completed mapping(s) older than 7 days","service":"11wire-api","timestamp":"2025-07-31 23:19:54"}
{"level":"info","message":"Deleted 0 pending mapping(s) older than 1 days","service":"11wire-api","timestamp":"2025-07-31 23:19:54"}
{"level":"info","message":"Deleted 0 failed mapping(s) older than 3 days","service":"11wire-api","timestamp":"2025-07-31 23:19:54"}
{"level":"info","message":"Marked 0 pending mapping(s) as expired (older than 2 hours)","service":"11wire-api","timestamp":"2025-07-31 23:19:54"}
{"level":"info","message":"::1 - - [01/Aug/2025:05:31:20 +0000] \"GET /api/health HTTP/1.1\" 404 149 \"-\" \"curl/8.7.1\"","service":"11wire-api","timestamp":"2025-08-01 00:31:20"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"11wire-api","timestamp":"2025-08-01 00:33:22"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"ElevenLabs service initialized, API key status: present","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'campaigns'","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_campaigns_status' GROUP BY 1","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'campaigns' AND c.table_schema = 'public'","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'campaigns' AND tc.table_catalog = '11wire'","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"campaigns\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"campaigns\" ALTER COLUMN \"description\" TYPE TEXT;","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"status\" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE \"public\".\"enum_campaigns_status\" AS ENUM(''active'', ''paused'', ''completed'', ''failed'', ''in_progress'', ''stopped''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"campaigns\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_campaigns_status\" USING (\"status\"::\"public\".\"enum_campaigns_status\");","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"startDate\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"startDate\" DROP DEFAULT;ALTER TABLE \"campaigns\" ALTER COLUMN \"startDate\" TYPE TIMESTAMP WITH TIME ZONE;","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"endDate\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"endDate\" DROP DEFAULT;ALTER TABLE \"campaigns\" ALTER COLUMN \"endDate\" TYPE TIMESTAMP WITH TIME ZONE;","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"contactsId\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"contactsId\" DROP DEFAULT;ALTER TABLE \"campaigns\" ALTER COLUMN \"contactsId\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"voiceAgentId\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"voiceAgentId\" DROP DEFAULT;ALTER TABLE \"campaigns\" ALTER COLUMN \"voiceAgentId\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"scriptId\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"scriptId\" DROP DEFAULT;ALTER TABLE \"campaigns\" ALTER COLUMN \"scriptId\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"settings\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"settings\" SET DEFAULT '{\"callsPerDay\":50,\"retryCount\":2,\"callHoursStart\":\"09:00\",\"callHoursEnd\":\"17:00\"}';ALTER TABLE \"campaigns\" ALTER COLUMN \"settings\" TYPE JSONB;","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"stats\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"stats\" SET DEFAULT '{\"total\":0,\"completed\":0,\"failed\":0,\"inProgress\":0}';ALTER TABLE \"campaigns\" ALTER COLUMN \"stats\" TYPE JSONB;","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"campaigns\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"campaigns\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"campaigns\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"campaigns\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'campaigns' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'contacts'","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_contacts_status' GROUP BY 1","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'contacts' AND c.table_schema = 'public'","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'contacts' AND tc.table_catalog = '11wire'","service":"11wire-api","timestamp":"2025-08-01 01:00:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" DROP CONSTRAINT \"contacts_campaignId_fkey\"","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\"  ADD FOREIGN KEY (\"campaignId\") REFERENCES \"campaigns\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" ALTER COLUMN \"firstName\" DROP NOT NULL;ALTER TABLE \"contacts\" ALTER COLUMN \"firstName\" DROP DEFAULT;ALTER TABLE \"contacts\" ALTER COLUMN \"firstName\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" ALTER COLUMN \"lastName\" DROP NOT NULL;ALTER TABLE \"contacts\" ALTER COLUMN \"lastName\" DROP DEFAULT;ALTER TABLE \"contacts\" ALTER COLUMN \"lastName\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" ALTER COLUMN \"phone\" SET NOT NULL;ALTER TABLE \"contacts\" ALTER COLUMN \"phone\" DROP DEFAULT;ALTER TABLE \"contacts\" ALTER COLUMN \"phone\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" ALTER COLUMN \"email\" DROP NOT NULL;ALTER TABLE \"contacts\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"contacts\" ALTER COLUMN \"email\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" ALTER COLUMN \"status\" DROP NOT NULL;ALTER TABLE \"contacts\" ALTER COLUMN \"status\" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE \"public\".\"enum_contacts_status\" AS ENUM(''pending'', ''called'', ''completed'', ''failed'', ''no_answer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"contacts\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_contacts_status\" USING (\"status\"::\"public\".\"enum_contacts_status\");","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" ALTER COLUMN \"notes\" DROP NOT NULL;ALTER TABLE \"contacts\" ALTER COLUMN \"notes\" DROP DEFAULT;ALTER TABLE \"contacts\" ALTER COLUMN \"notes\" TYPE TEXT;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" ALTER COLUMN \"customFields\" DROP NOT NULL;ALTER TABLE \"contacts\" ALTER COLUMN \"customFields\" SET DEFAULT '{}';ALTER TABLE \"contacts\" ALTER COLUMN \"customFields\" TYPE JSONB;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" ALTER COLUMN \"sourceType\" DROP NOT NULL;ALTER TABLE \"contacts\" ALTER COLUMN \"sourceType\" DROP DEFAULT;ALTER TABLE \"contacts\" ALTER COLUMN \"sourceType\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"contacts\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"contacts\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"contacts\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"contacts\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"contacts\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'contacts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'call_logs'","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_call_logs_direction' GROUP BY 1","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_call_logs_transferStatus' GROUP BY 1","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_call_logs_transferType' GROUP BY 1","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'call_logs' AND c.table_schema = 'public'","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'call_logs' AND tc.table_catalog = '11wire'","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"callSid\" SET NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"callSid\" DROP DEFAULT;ALTER TABLE \"call_logs\"  ADD UNIQUE (\"callSid\");ALTER TABLE \"call_logs\" ALTER COLUMN \"callSid\" TYPE VARCHAR(255)  ;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" DROP CONSTRAINT \"call_logs_contactId_fkey\"","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\"  ADD FOREIGN KEY (\"contactId\") REFERENCES \"contacts\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" DROP CONSTRAINT \"call_logs_campaignId_fkey\"","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\"  ADD FOREIGN KEY (\"campaignId\") REFERENCES \"campaigns\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"direction\" SET NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"direction\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_call_logs_direction\" AS ENUM(''inbound'', ''outbound''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"call_logs\" ALTER COLUMN \"direction\" TYPE \"public\".\"enum_call_logs_direction\" USING (\"direction\"::\"public\".\"enum_call_logs_direction\");","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"from\" SET NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"from\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"from\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"to\" SET NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"to\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"to\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"status\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"status\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"duration\" DROP NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"duration\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"duration\" TYPE INTEGER; COMMENT ON COLUMN \"call_logs\".\"duration\" IS 'Call duration in seconds';","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"startTime\" DROP NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"startTime\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"startTime\" TYPE TIMESTAMP WITH TIME ZONE;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"endTime\" DROP NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"endTime\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"endTime\" TYPE TIMESTAMP WITH TIME ZONE;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"voiceAgentId\" DROP NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"voiceAgentId\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"voiceAgentId\" TYPE VARCHAR(255); COMMENT ON COLUMN \"call_logs\".\"voiceAgentId\" IS 'ElevenLabs voice agent ID used for this call';","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"recordingUrl\" DROP NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"recordingUrl\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"recordingUrl\" TYPE VARCHAR(255);","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"transcription\" DROP NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"transcription\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"transcription\" TYPE TEXT;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"callData\" DROP NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"callData\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"callData\" TYPE JSONB; COMMENT ON COLUMN \"call_logs\".\"callData\" IS 'Additional call metadata';","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"metrics\" DROP NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"metrics\" SET DEFAULT '{}';ALTER TABLE \"call_logs\" ALTER COLUMN \"metrics\" TYPE JSONB ; COMMENT ON COLUMN \"call_logs\".\"metrics\" IS 'Call performance metrics';","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"notes\" DROP NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"notes\" DROP DEFAULT;ALTER TABLE \"call_logs\" ALTER COLUMN \"notes\" TYPE TEXT;","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"call_logs\" ALTER COLUMN \"transferStatus\" DROP NOT NULL;ALTER TABLE \"call_logs\" ALTER COLUMN \"transferStatus\" SET DEFAULT 'none';DO 'BEGIN CREATE TYPE \"public\".\"enum_call_logs_transferStatus\" AS ENUM(''none'', ''requested'', ''in-progress'', ''completed'', ''failed''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"call_logs\" ALTER COLUMN \"transferStatus\" TYPE \"public\".\"enum_call_logs_transferStatus\" ; COMMENT ON COLUMN \"call_logs\".\"transferStatus\" IS 'Status of any transfer for this call' USING (\"transferStatus\"::\"public\".\"enum_call_logs_transferStatus\");","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"info","message":"Initializing scheduled jobs...","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"info","message":"Scheduling job: stt-mapping-cleanup (every 360 minutes)","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"info","message":"Scheduled jobs initialized","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-08-01 01:00:36"}
{"level":"info","message":"Running initial stt-mapping-cleanup job","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"info","message":"Starting cleanup of old/stale STT request mappings...","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"debug","message":"Executing (default): DELETE FROM \"stt_request_mappings\" WHERE \"result_received_at\" < '2025-07-25 06:00:46.259 +00:00' AND \"status\" IN ('completed', 'expired')","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"info","message":"Deleted 0 completed mapping(s) older than 7 days","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"debug","message":"Executing (default): DELETE FROM \"stt_request_mappings\" WHERE \"submitted_at\" < '2025-07-31 06:00:46.259 +00:00' AND \"status\" = 'pending'","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"info","message":"Deleted 0 pending mapping(s) older than 1 days","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"debug","message":"Executing (default): DELETE FROM \"stt_request_mappings\" WHERE \"submitted_at\" < '2025-07-29 06:00:46.259 +00:00' AND \"status\" IN ('failed', 'expired')","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"info","message":"Deleted 0 failed mapping(s) older than 3 days","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"debug","message":"Executing (default): UPDATE \"stt_request_mappings\" SET \"status\"=$1,\"updatedAt\"=$2 WHERE \"submitted_at\" < '2025-08-01 04:00:46.259 +00:00' AND \"status\" = $3 AND \"result_received_at\" IS NULL","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"info","message":"Marked 0 pending mapping(s) as expired (older than 2 hours)","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"info","message":"STT mapping cleanup completed: 0 deleted, 0 expired","service":"11wire-api","timestamp":"2025-08-01 01:00:46"}
{"level":"debug","message":"ElevenLabs API key status: present, length: 51","service":"11wire-api","timestamp":"2025-08-01 01:00:57"}
{"level":"debug","message":"API key from config: present","service":"11wire-api","timestamp":"2025-08-01 01:00:57"}
{"level":"debug","message":"API key from env: present","service":"11wire-api","timestamp":"2025-08-01 01:00:57"}
{"level":"info","message":"::1 - - [01/Aug/2025:06:00:58 +0000] \"GET /api/health HTTP/1.1\" 200 630 \"-\" \"curl/8.7.1\"","service":"11wire-api","timestamp":"2025-08-01 01:00:58"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:18"}
{"level":"debug","message":"Stream connected for call TEST_CALL_1754028378406, protocol: signalwire-stream-v1, version: 1.0.0","service":"11wire-api","timestamp":"2025-08-01 01:06:18"}
{"level":"debug","message":"Stream started for call TEST_CALL_1754028378406, format: {\"encoding\":\"audio/x-mulaw\",\"sampleRate\":8000,\"channels\":1}","service":"11wire-api","timestamp":"2025-08-01 01:06:19"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:19"}
{"level":"debug","message":"Media format: {\"encoding\":\"audio/x-mulaw\",\"sampleRate\":8000,\"channels\":1}","service":"11wire-api","timestamp":"2025-08-01 01:06:19"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:19"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:19"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:19"}
{"level":"error","message":"Error processing audio for ElevenLabs: ULawDecoder is not defined","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"info","message":"Submitting 1 audio chunks (160 bytes) for async STT - call TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"info","message":"Submitting async STT request [mdsf7k834kfbj] for call TEST_CALL_1754028378406:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 160 bytes\n - Webhook URL: https://a49b8a2cd578.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"debug","message":"Converting audio from mulaw to WAV for STT submission","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"info","message":"Audio conversion path for call TEST_CALL_1754028378406: mulaw_to_pcm -> resample -> bit_depth","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"info","message":"Converting 2560 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"info","message":"Converted to WAV format: 2604 bytes","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"info","message":"Formatted audio as WAV: 2604 bytes","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 2604 bytes","service":"11wire-api","timestamp":"2025-08-01 01:06:20"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"f3748d6ff3a3444486009cc14ea591eb\"}","service":"elevenlabs-service","timestamp":"2025-08-01 01:06:21"}
{"level":"debug","message":"Executing (default): INSERT INTO \"stt_request_mappings\" (\"request_id\",\"call_id\",\"metadata\",\"submitted_at\",\"status\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING \"request_id\",\"call_id\",\"metadata\",\"submitted_at\",\"result_received_at\",\"status\",\"error\",\"createdAt\",\"updatedAt\";","service":"11wire-api","timestamp":"2025-08-01 01:06:21"}
{"level":"info","message":"Stored persistent mapping: request_id f3748d6ff3a3444486009cc14ea591eb -> call_id TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:21"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1754028378406, request ID: f3748d6ff3a3444486009cc14ea591eb","service":"11wire-api","timestamp":"2025-08-01 01:06:21"}
{"level":"info","message":"Async STT submission [mdsf7k834kfbj] successful for call TEST_CALL_1754028378406, request ID: f3748d6ff3a3444486009cc14ea591eb, processed in 673ms","service":"11wire-api","timestamp":"2025-08-01 01:06:21"}
{"level":"debug","message":"Audio conversion performance: avg=0.14ms, call=TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:22"}
{"level":"debug","message":"Stream stopped for call TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:23"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:23"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1754028378406 closed and removed","service":"11wire-api","timestamp":"2025-08-01 01:06:23"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:23"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1754028378406","service":"11wire-api","timestamp":"2025-08-01 01:06:23"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"11wire-api","timestamp":"2025-08-01 01:10:52"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-08-01 10:44:59"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-08-01 10:45:00"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-08-01 10:45:00"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-08-01 10:45:02"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-08-01 10:45:29"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-08-01 10:45:30"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-08-01 10:45:30"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-08-01 10:45:31"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-08-01 11:19:10"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-08-01 11:19:12"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-08-01 11:19:12"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-08-01 11:19:15"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-08-01 11:19:15"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-08-01 11:19:15"}
{"level":"info","message":"Initializing scheduled jobs...","service":"11wire-api","timestamp":"2025-08-01 11:19:15"}
{"level":"info","message":"Scheduling job: stt-mapping-cleanup (every 360 minutes)","service":"11wire-api","timestamp":"2025-08-01 11:19:15"}
{"level":"info","message":"Scheduled jobs initialized","service":"11wire-api","timestamp":"2025-08-01 11:19:15"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-08-01 11:19:15"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-08-01 11:19:15"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-08-01 11:19:15"}
{"level":"info","message":"Running initial stt-mapping-cleanup job","service":"11wire-api","timestamp":"2025-08-01 11:19:25"}
{"level":"info","message":"Starting cleanup of old/stale STT request mappings...","service":"11wire-api","timestamp":"2025-08-01 11:19:25"}
{"level":"info","message":"Deleted 0 completed mapping(s) older than 7 days","service":"11wire-api","timestamp":"2025-08-01 11:19:25"}
{"level":"info","message":"Deleted 0 pending mapping(s) older than 1 days","service":"11wire-api","timestamp":"2025-08-01 11:19:25"}
{"level":"info","message":"Deleted 0 failed mapping(s) older than 3 days","service":"11wire-api","timestamp":"2025-08-01 11:19:25"}
{"level":"info","message":"Marked 0 pending mapping(s) as expired (older than 2 hours)","service":"11wire-api","timestamp":"2025-08-01 11:19:25"}
{"level":"info","message":"STT mapping cleanup completed: 0 deleted, 0 expired","service":"11wire-api","timestamp":"2025-08-01 11:19:25"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"11wire-api","timestamp":"2025-08-01 11:19:58"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-08-01 11:20:00"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-08-01 11:20:01"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-08-01 11:20:01"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-08-01 11:20:02"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-08-01 11:20:02"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-08-01 11:20:02"}
{"level":"info","message":"Initializing scheduled jobs...","service":"11wire-api","timestamp":"2025-08-01 11:20:02"}
{"level":"info","message":"Scheduling job: stt-mapping-cleanup (every 360 minutes)","service":"11wire-api","timestamp":"2025-08-01 11:20:02"}
{"level":"info","message":"Scheduled jobs initialized","service":"11wire-api","timestamp":"2025-08-01 11:20:02"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-08-01 11:20:02"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-08-01 11:20:02"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-08-01 11:20:02"}
{"level":"info","message":"Running initial stt-mapping-cleanup job","service":"11wire-api","timestamp":"2025-08-01 11:20:12"}
{"level":"info","message":"Starting cleanup of old/stale STT request mappings...","service":"11wire-api","timestamp":"2025-08-01 11:20:12"}
{"level":"info","message":"Deleted 0 completed mapping(s) older than 7 days","service":"11wire-api","timestamp":"2025-08-01 11:20:12"}
{"level":"info","message":"Deleted 0 pending mapping(s) older than 1 days","service":"11wire-api","timestamp":"2025-08-01 11:20:12"}
{"level":"info","message":"Deleted 0 failed mapping(s) older than 3 days","service":"11wire-api","timestamp":"2025-08-01 11:20:12"}
{"level":"info","message":"Marked 0 pending mapping(s) as expired (older than 2 hours)","service":"11wire-api","timestamp":"2025-08-01 11:20:12"}
{"level":"info","message":"STT mapping cleanup completed: 0 deleted, 0 expired","service":"11wire-api","timestamp":"2025-08-01 11:20:12"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"11wire-api","timestamp":"2025-08-01 13:02:34"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-08-01 13:02:38"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-08-01 13:02:39"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-08-01 13:02:39"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-08-01 13:02:40"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-08-01 13:02:40"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-08-01 13:02:40"}
{"level":"info","message":"Initializing scheduled jobs...","service":"11wire-api","timestamp":"2025-08-01 13:02:40"}
{"level":"info","message":"Scheduling job: stt-mapping-cleanup (every 360 minutes)","service":"11wire-api","timestamp":"2025-08-01 13:02:40"}
{"level":"info","message":"Scheduled jobs initialized","service":"11wire-api","timestamp":"2025-08-01 13:02:40"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-08-01 13:02:40"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-08-01 13:02:40"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-08-01 13:02:40"}
{"level":"info","message":"Running initial stt-mapping-cleanup job","service":"11wire-api","timestamp":"2025-08-01 13:02:50"}
{"level":"info","message":"Starting cleanup of old/stale STT request mappings...","service":"11wire-api","timestamp":"2025-08-01 13:02:50"}
{"level":"info","message":"Deleted 0 completed mapping(s) older than 7 days","service":"11wire-api","timestamp":"2025-08-01 13:02:50"}
{"level":"info","message":"Deleted 0 pending mapping(s) older than 1 days","service":"11wire-api","timestamp":"2025-08-01 13:02:50"}
{"level":"info","message":"Deleted 0 failed mapping(s) older than 3 days","service":"11wire-api","timestamp":"2025-08-01 13:02:50"}
{"level":"info","message":"Marked 0 pending mapping(s) as expired (older than 2 hours)","service":"11wire-api","timestamp":"2025-08-01 13:02:51"}
{"level":"info","message":"STT mapping cleanup completed: 0 deleted, 0 expired","service":"11wire-api","timestamp":"2025-08-01 13:02:51"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"11wire-api","timestamp":"2025-08-01 13:38:14"}
{"level":"info","message":"SignalWire Realtime Voice client initialized successfully","service":"11wire-api","timestamp":"2025-08-01 13:40:03"}
{"level":"info","message":"Database connection has been established successfully.","service":"11wire-api","timestamp":"2025-08-01 13:40:04"}
{"level":"info","message":"Database connected successfully","service":"11wire-api","timestamp":"2025-08-01 13:40:04"}
{"level":"error","message":"Database initialization error: syntax error at or near \"USING\"","service":"11wire-api","timestamp":"2025-08-01 13:40:05"}
{"level":"info","message":"Starting server without database connection...","service":"11wire-api","timestamp":"2025-08-01 13:40:05"}
{"level":"info","message":"WebSocket server initialized for audio streaming","service":"11wire-api","timestamp":"2025-08-01 13:40:05"}
{"level":"info","message":"Initializing scheduled jobs...","service":"11wire-api","timestamp":"2025-08-01 13:40:05"}
{"level":"info","message":"Scheduling job: stt-mapping-cleanup (every 360 minutes)","service":"11wire-api","timestamp":"2025-08-01 13:40:05"}
{"level":"info","message":"Scheduled jobs initialized","service":"11wire-api","timestamp":"2025-08-01 13:40:05"}
{"level":"info","message":"Server running on port 3000","service":"11wire-api","timestamp":"2025-08-01 13:40:05"}
{"level":"info","message":"Environment: development","service":"11wire-api","timestamp":"2025-08-01 13:40:05"}
{"level":"info","message":"WebSocket server initialized for audio streaming on /stream","service":"11wire-api","timestamp":"2025-08-01 13:40:05"}
{"level":"info","message":"Running initial stt-mapping-cleanup job","service":"11wire-api","timestamp":"2025-08-01 13:40:15"}
{"level":"info","message":"Starting cleanup of old/stale STT request mappings...","service":"11wire-api","timestamp":"2025-08-01 13:40:15"}
{"level":"info","message":"Deleted 0 completed mapping(s) older than 7 days","service":"11wire-api","timestamp":"2025-08-01 13:40:15"}
{"level":"info","message":"Deleted 0 pending mapping(s) older than 1 days","service":"11wire-api","timestamp":"2025-08-01 13:40:15"}
{"level":"info","message":"Deleted 0 failed mapping(s) older than 3 days","service":"11wire-api","timestamp":"2025-08-01 13:40:15"}
{"level":"info","message":"Marked 0 pending mapping(s) as expired (older than 2 hours)","service":"11wire-api","timestamp":"2025-08-01 13:40:15"}
{"level":"info","message":"STT mapping cleanup completed: 0 deleted, 0 expired","service":"11wire-api","timestamp":"2025-08-01 13:40:15"}
{"level":"info","message":"WebSocket connection established for call: TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:41:57"}
{"level":"info","message":"Audio bridge session initialized for call TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:41:58"}
{"level":"info","message":"Initializing async STT for call TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:41:58"}
{"level":"info","message":"Async STT initialized for call TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:41:58"}
{"level":"info","message":"TTS connection ready for call TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:41:59"}
{"level":"info","message":"Audio conversion path for call TEST_CALL_1754073717774: mulaw_to_pcm -> resample -> bit_depth","service":"11wire-api","timestamp":"2025-08-01 13:41:59"}
{"level":"info","message":"Submitting 1 audio chunks (2560 bytes) for async STT - call TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:41:59"}
{"level":"info","message":"Submitting async STT request [mdt67cbdixdf7] for call TEST_CALL_1754073717774:\n - Format: wav (always using WAV for STT)\n - Sample rate: 8000 Hz\n - Audio size: 2560 bytes\n - Webhook URL: https://a49b8a2cd578.ngrok-free.app/api/webhooks/elevenlabs","service":"11wire-api","timestamp":"2025-08-01 13:41:59"}
{"level":"info","message":"Submitting async STT request for call TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:41:59"}
{"level":"info","message":"Adding WAV headers to audio for proper format","service":"11wire-api","timestamp":"2025-08-01 13:41:59"}
{"level":"info","message":"Converting 40960 bytes of audio to WAV format at 16000Hz","service":"11wire-api","timestamp":"2025-08-01 13:41:59"}
{"level":"info","message":"Converted to WAV format: 41004 bytes","service":"11wire-api","timestamp":"2025-08-01 13:41:59"}
{"level":"info","message":"Formatted audio as WAV: 41004 bytes","service":"11wire-api","timestamp":"2025-08-01 13:41:59"}
{"level":"info","message":"Submitting audio to ElevenLabs:\n - Format: wav\n - Content type: audio/wav\n - Sample rate: 16000 Hz\n - Audio size: 41004 bytes","service":"11wire-api","timestamp":"2025-08-01 13:41:59"}
{"level":"info","message":"Closing audio bridge for call TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:42:03"}
{"level":"info","message":"Audio bridge for call TEST_CALL_1754073717774 closed and removed","service":"11wire-api","timestamp":"2025-08-01 13:42:03"}
{"level":"info","message":"Cleaned up stream session for call TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:42:03"}
{"level":"info","message":"WebSocket connection closed for call TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:42:03"}
{"level":"info","message":"Async STT response received: {\"message\":\"Request accepted. Transcription result will be sent to the webhook endpoint.\",\"request_id\":\"552dab11e28d407aa4be2fe33a4ee511\"}","service":"elevenlabs-service","timestamp":"2025-08-01 13:42:03"}
{"level":"info","message":"Stored persistent mapping: request_id 552dab11e28d407aa4be2fe33a4ee511 -> call_id TEST_CALL_1754073717774","service":"11wire-api","timestamp":"2025-08-01 13:42:03"}
{"level":"info","message":"Async STT submission successful for call TEST_CALL_1754073717774, request ID: 552dab11e28d407aa4be2fe33a4ee511","service":"11wire-api","timestamp":"2025-08-01 13:42:03"}
{"level":"info","message":"Async STT submission [mdt67cbdixdf7] successful for call TEST_CALL_1754073717774, request ID: 552dab11e28d407aa4be2fe33a4ee511, processed in 3760ms","service":"11wire-api","timestamp":"2025-08-01 13:42:03"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"11wire-api","timestamp":"2025-08-01 16:46:24"}
